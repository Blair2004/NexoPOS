{"version":3,"sources":["webpack:///./resources/ts/libraries/snackbar.ts","webpack:///./resources/ts/libraries/http-client.ts","webpack:///./resources/ts/libraries/event-emitter.ts","webpack:///./resources/ts/libraries/state.ts","webpack:///./resources/ts/bootstrap.ts","webpack:///./resources/ts/filters/abbreviate.ts","webpack:///./resources/ts/libraries/media.ts","webpack:///(webpack)/buildin/global.js","webpack:///./resources/ts/filters/currency.ts","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./resources/ts/pages/dashboard/ns-media.vue?9f4e","webpack:///./resources/ts/pages/dashboard/ns-media.vue?eb1d","webpack:///resources/ts/pages/dashboard/ns-media.vue","webpack:///./resources/ts/pages/dashboard/ns-media.vue","webpack:///./node_modules/vue-upload-component/dist/vue-upload-component.js","webpack:///./resources/ts/components/ns-menu.ts","webpack:///./resources/ts/components/ns-submenu.ts","webpack:///./resources/ts/components/ns-button.ts","webpack:///./resources/ts/components/ns-link.ts","webpack:///./resources/ts/components/ns-input.ts","webpack:///./resources/ts/components/ns-select.ts","webpack:///./resources/ts/components/ns-checkbox.ts","webpack:///./resources/ts/components/ns-crud.ts","webpack:///./resources/ts/components/ns-table-row.ts","webpack:///./resources/ts/components/ns-spinner.ts","webpack:///./resources/ts/components/ns-crud-form.ts","webpack:///./resources/ts/components/ns-textarea.ts","webpack:///./resources/ts/components/ns-field.ts","webpack:///./resources/ts/components/ns-multiselect.ts","webpack:///./resources/ts/components/ns-switch.ts","webpack:///./resources/ts/components/ns-date.ts","webpack:///./resources/ts/components/ns-media-input.ts","webpack:///./resources/ts/components/ns-close-button.ts","webpack:///./resources/ts/components/ns-tabs.ts","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./resources/ts/shared/time.ts","webpack:///resources/ts/pages/dashboard/rewards-system.vue","webpack:///./resources/ts/pages/dashboard/rewards-system.vue?54d2","webpack:///./resources/ts/pages/dashboard/rewards-system.vue","webpack:///./resources/ts/pages/dashboard/rewards-system.vue?04bf","webpack:///resources/ts/pages/dashboard/create-coupons.vue","webpack:///./resources/ts/pages/dashboard/create-coupons.vue?972a","webpack:///./resources/ts/pages/dashboard/create-coupons.vue","webpack:///./resources/ts/pages/dashboard/create-coupons.vue?2ddd","webpack:///resources/ts/pages/dashboard/manage-products.vue","webpack:///./resources/ts/pages/dashboard/manage-products.vue?35d2","webpack:///./resources/ts/pages/dashboard/manage-products.vue","webpack:///./resources/ts/pages/dashboard/manage-products.vue?a297","webpack:///./resources/ts/pages/dashboard/settings.vue?9b07","webpack:///resources/ts/pages/dashboard/settings.vue","webpack:///./resources/ts/pages/dashboard/settings.vue","webpack:///./resources/ts/pages/dashboard/settings.vue?f719","webpack:///./resources/ts/pages/dashboard/reset.vue?1504","webpack:///resources/ts/pages/dashboard/reset.vue","webpack:///./resources/ts/pages/dashboard/reset.vue","webpack:///./resources/ts/pages/dashboard/reset.vue?966d","webpack:///resources/ts/pages/dashboard/modules.vue","webpack:///./resources/ts/pages/dashboard/modules.vue?2a7f","webpack:///./resources/ts/pages/dashboard/modules.vue","webpack:///./resources/ts/pages/dashboard/modules.vue?9a04","webpack:///./resources/ts/pages/dashboard/ns-permissions.vue?c03a","webpack:///resources/ts/pages/dashboard/ns-permissions.vue","webpack:///./resources/ts/pages/dashboard/ns-permissions.vue","webpack:///./resources/ts/pages/dashboard/ns-permissions.vue?6ec5","webpack:///resources/ts/pages/dashboard/ns-procurement.vue","webpack:///./resources/ts/pages/dashboard/ns-procurement.vue?8948","webpack:///./resources/ts/pages/dashboard/ns-procurement.vue","webpack:///./resources/ts/pages/dashboard/ns-procurement.vue?131a","webpack:///./resources/ts/pages/dashboard/ns-notifications.vue?9300","webpack:///resources/ts/pages/dashboard/ns-notifications.vue","webpack:///./resources/ts/pages/dashboard/ns-notifications.vue","webpack:///./resources/ts/pages/dashboard/ns-notifications.vue?5984","webpack:///./resources/ts/pages/dashboard/home/ns-dashboard-cards.vue?c610","webpack:///resources/ts/pages/dashboard/home/ns-dashboard-cards.vue","webpack:///./resources/ts/pages/dashboard/home/ns-dashboard-cards.vue","webpack:///./resources/ts/pages/dashboard/home/ns-dashboard-cards.vue?f7b5","webpack:///./resources/ts/app.ts","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./resources/ts/libraries/popup.ts","webpack:///./resources/ts/libraries/form-validation.ts"],"names":["undefined","window","snackbarQueue","this","queue","show","message","label","options","duration","type","create","observer","__createSnack","buttonNode","sampleSnack","addEventListener","event","onNext","onCompleted","remove","__startTimer","error","success","info","wrapper","timeout","__startTimeOut","setTimeout","clearTimeout","snackWrapper","document","getElementById","createElement","textNode","buttonsWrapper","buttonThemeClass","snackThemeClass","textContent","setAttribute","appendChild","body","_subject","defineClient","client","_client","post","url","data","config","_request","get","delete","put","_lastRequestData","next","identifier","defaults","then","result","complete","catch","response","subject","emit","value","state","behaviorState","BehaviorSubject","subscribe","setState","object","use","_","CharJS","Chart","Vue","moment","Axios","VueRouter","SnackBar","headers","common","withCredentials","nsEvent","nsHttpClient","nsSnackBar","nsScreen","breakpoint","detectScreenSizes","fromEvent","v","outerWidth","nsState","sidebar","includes","nsCurrency","nsAbbreviate","ChartJS","EventEmitter","Popup","RxJS","Media","FormValidation","filter","newValue","shortValue","suffixNum","Math","floor","length","precision","parseFloat","pow","toPrecision","replace","toFixed","MediaComponent","default","field","primarySelector","open","popup","popupClass","g","Function","e","module","exports","Intl","NumberFormat","ns","currency","ns_currency_position","ns_currency_iso","minimumFractionDigits","ns_currency_precision","style","signDisplay","formatToParts","map","ns_currency_decimal_separator","ns_currency_thousand_separator","join","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","call","currentQueue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","global","setImmediate","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","Object","getPrototypeOf","toString","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","documentElement","script","onreadystatechange","removeChild","random","source","indexOf","slice","attachEvent","callback","task","clearImmediate","self","component","_vm","_h","$createElement","_c","_self","staticClass","_v","_l","page","index","key","class","selected","$event","select","_s","currentPage","ref","attrs","csrf","inputFile","inputFilter","model","$$v","files","expression","file","progress","_e","close","resource","selectResource","sizes","thumb","bulkSelect","hasOneSelected","selectedResource","created_at","user","username","cancelBulkSelect","deleteSelected","current_page","loadGallery","last_page","useSelectedEntries","createRequest","xhr","XMLHttpRequest","method","responseType","keys","forEach","setRequestHeader","request","Promise","resolve","reject","onload","status","JSON","parse","err","onerror","send","stringify","sendRequest","template","script$$1","scope","functional","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","ChunkUploadHandler","instance","TypeError","_classCallCheck","chunks","start","end","chunkSize","fileSize","blob","startOffset","active","retries","maxRetries","stopChunks","chunksUploading","chunk","abort","startChunking","_this","promise","_this2","assign","action","startBody","phase","mime_type","fileType","size","fileName","res","sessionId","session_id","end_offset","createChunks","maxActiveChunks","uploadNextChunk","hasChunksToUpload","uploadChunk","chunksToUpload","finish","_this3","updateFileProgress","upload","evt","lengthComputable","round","loaded","total","FormData","append","sendFormRequest","uploadBody","start_offset","uploaded","_this4","finishBody","parseInt","maxActive","_this5","completedProgress","chunksUploaded","uploadingProgress","reduce","min","InputFile","render","$parent","inputId","accept","capture","disabled","directory","features","multiple","html5","change","staticRenderFns","methods","addInputFile","test","navigator","userAgent","$destroy","constructor","parent","el","$el","_compiled","_scopeId","_extends","hasOwnProperty","_typeof","Symbol","iterator","obj","_toConsumableArray","arr","isArray","arr2","from","CHUNK_DEFAULT_OPTIONS","minSize","handler","script$1","components","String","Boolean","maximum","Number","addIndex","postAction","putAction","customAction","drop","dropDirectory","extensions","thread","chunkEnabled","drag","dropActive","uploading","destroy","mounted","input","webkitdirectory","ondrop","maps","id","$nextTick","$forceUpdate","watchDrop","beforeDestroy","computed","fileObject","chunkOptions","className","watch","_active","watchActive","oldMaps","newFile","oldFile","emitFile","_key","clear","emitInput","add","_files","addFiles","Blob","webkitRelativePath","relativePath","Element","speed","substr","emitFilter","newFiles","_newFiles","splice","_i","_file2","_i2","names","split","__vuex__","addDataTransfer","dataTransfer","items","item","getAsEntry","getAsFile","webkitGetAsEntry","getEntry","results","_i3","entry","path","isFile","isDirectory","dirReader","createReader","readEntries","entries","id1","id2","file1","file2","index1","index2","console","update","isPrevent","$emit","code","RegExp","trim","search","shouldUseChunkUpload","uploadPut","uploadHtml5","uploadHtml4","HandlerClass","querys","encodeURIComponent","queryString","uploadXhr","form","File","filename","_file","speedTime","speedLoaded","onprogress","speedTime2","Date","now","interval","setInterval","clearInterval","fn","responseText","contentType","getResponseHeader","onabort","ontimeout","onKeydown","keyCode","preventDefault","iframe","src","removeEventListener","contentWindow","contentDocument","innerHTML","getResponseData","submit","parentNode","_el","dropElement","onDragenter","onDragleave","onDocumentDrop","onDragover","onDrop","querySelector","$root","dt","types","contains","nodeName","explicitOriginalTarget","fromElement","clientX","clientY","innerWidth","innerHeight","FileUpload","moduleIdentifier","createInjector","createInjectorSSR","hook","context","originalRender","h","existing","beforeCreate","__vue_normalize__$1","_t","inject","media","__vue_create_injector__$1","head","getElementsByTagName","styles","isOldIE","toLowerCase","css","group","ids","parts","element","sources","btoa","unescape","getAttribute","styleSheet","cssText","createTextNode","nodes","childNodes","insertBefore","FileUpload$1","freeze","factory","nsMenu","defaultToggledState","_save","toggled","toggleEmit","toggle","href","nsSubmenu","nsButton","clicked","isDisabled","buttonclass","nsLink","nsInput","hasError","errors","disabledClass","inputClass","leadClass","leading","nsSelect","nsCheckbox","isChecked","checked","toggleIt","nsCrud","sortColumn","searchInput","searchQuery","bulkAction","bulkActions","columns","globallyChecked","first_page_url","last_page_url","next_page_url","per_page","prev_page_url","to","loadConfig","getParsedSrc","queryPage","getSelectedAction","pagination","pageNumbers","count","current","f","handleShowOptions","row","$id","$toggled","handleGlobalChange","r","$checked","refresh","cancelSearch","sort","$sorted","$direction","bulkDo","log","confirm","$slots","text","nsTableRow","optionsToggled","getElementOffset","rect","getBoundingClientRect","top","pageYOffset","left","pageXOffset","toggleMenu","handleChanged","triggerAsync","nsSpinner","validatedSize","validatedBorder","border","validatedAnimation","animation","nsCrudForm","formValidation","rows","loadForm","activeTabFields","tabs","fields","validateForm","disableForm","submitUrl","submitMethod","extractForm","returnUrl","location","enableForm","triggerError","parseForm","main","createFields","nsTextarea","nsField","isInputField","isDateField","isSelectField","isTextarea","isCheckbox","isMultiselect","isSwitch","isMedia","addOption","option","refreshMultiselect","removeOption","nsMultiselect","showPanel","_options","stopPropagation","nsSwitch","sizeClass","setSelected","nsDate","nsMediaInput","mediaInstance","toggleMedia","original","nsCloseButton","nsTabs","childrens","activeComponent","$children","tab","nsTabsItem","webpackPolyfill","deprecate","paths","children","l","webpackContext","req","webpackContextResolve","__webpack_require__","o","Timeout","clearFn","_id","_clearFn","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","arg","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","date","directives","rawName","domProps","checkField","composing","$set","description","general","addRule","rule","fieldIndex","removeRule","setTabActive","activeValidTab","variation","variation_index","getActiveTabKey","getActiveTab","detectChange","addImage","setActive","activeTab","submitForm","_m","migrating","migrated","refreshModules","total_enabled","total_disabled","noModuleMessage","moduleObject","moduleNamespace","enabled","enableModule","disableModule","migrations","performMigration","download","removeModule","permission","namespace","role","selectAllPermissions","submitPermissions","reloadEntities","reloading","searchValue","product","addProductList","sku","barcode","procurement","$invalid","deleteProduct","switchTaxType","tax_type","updateLine","$$selectedVal","_value","_f","tax_value","total_purchase_price","totalTaxValues","totalPurchasePrice","visible","notifications","notification","triggerLink","closeNotice","report","total_unpaid_orders_count","day_unpaid_orders_count","total_income","day_income","total_wasted_goods","day_wasted_goods","total_expenses","day_expenses","nsDashboardAside","nsDashboardOverlay","closeMenu","nsDashboardHeader","menuToggled","NsNotifications","toggleSideMenu","NsModules","NsRewardsSystem","NsCreateCoupons","NsManageProducts","NsSettings","NsReset","NsPermissions","NsProcurement","NsMedia","NsDashboardCards","nsExtraComponents","nsDashboardContent","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","shadowMode","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$options","shadowRoot","_injectStyles","extendStatics","d","b","p","__extends","__","container","popupBody","querySelectorAll","parentWrapper","params","stopImmediatePropagation","background","componentClass","extend","propsData","$popup","$popupParams","$mount","unsubscribe","classList","validateFields","validateFieldsErrors","flat","validateField","globalErrors","tabsInvalidity","validErrors","initializeTabs","createForm","enableFields","disableFields","getValue","validation","detectValidationRules","fieldPassCheck","formValue","extractFields","execRule","exec","exp","errorMessage","invalid","triggerFielsErrors"],"mappings":"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","file":"/js/app.js","sourcesContent":["import { sample } from \"lodash\";\nimport * as rx from 'rx';\n\ndeclare const window:any;\n\nexport interface SnackBarOptions { duration: number, type?: string };\n\nexport class SnackBar {\n    // window.snackbarQueue will be used to stack the snackbars\n    queue;\n\n    constructor() {\n        if ( window.snackbarQueue === undefined ) {\n            window.snackbarQueue    =   [];\n            this.queue              =   window.snackbarQueue;\n        }\n    }\n\n    show( message, label, options: SnackBarOptions = { duration: 3000, type : 'info' }) {\n        return rx.Observable.create( observer => {\n            const { buttonNode, textNode, snackWrapper, sampleSnack }        =   this.__createSnack({ message, label, type : options.type });\n\n            buttonNode.addEventListener( 'click', ( event ) => {\n                observer.onNext( buttonNode );\n                observer.onCompleted();\n                sampleSnack.remove();\n            });\n\n            this.__startTimer( options.duration, sampleSnack );\n        });\n    }\n\n    error( message, label = null, options: SnackBarOptions = { duration: 3000, type : 'error' }) {\n        return this.show( message, label, {...options, ...{ type : 'error' } } );\n    }\n\n    success( message, label = null, options: SnackBarOptions = { duration: 3000, type : 'success' }) {\n        return this.show( message, label, {...options, ...{ type : 'success' } } );\n    }\n\n    info( message, label = null, options: SnackBarOptions = { duration: 3000, type : 'info' }) {\n        return this.show( message, label, {...options, ...{ type : 'info' } } );\n    }\n\n    /**\n     * \n     * @param {number} duration \n     * @param {HTMLDivElement} wrapper \n     */\n    __startTimer( duration, wrapper ) {\n        let timeout;\n        const __startTimeOut    =   () => {\n            if ( duration > 0 && duration !== false ) {\n                timeout    =   setTimeout( () => {\n                    wrapper.remove();\n                }, duration );\n            }\n        };\n\n        wrapper.addEventListener( 'mouseenter', () => {\n            clearTimeout( timeout );\n        });\n\n        wrapper.addEventListener( 'mouseleave', () => {\n            __startTimeOut();\n        });\n\n        __startTimeOut();\n    }\n\n    __createSnack({ message, label, type = 'info' }) {\n        const snackWrapper          =   document.getElementById( 'snack-wrapper' ) || document.createElement( 'div' );\n        const sampleSnack           =   document.createElement( 'div' );\n        const textNode              =   document.createElement( 'p' );\n        const buttonsWrapper        =   document.createElement( 'div' );\n        const buttonNode            =   document.createElement( 'button' );\n        \n        let buttonThemeClass        =   '';\n        let snackThemeClass         =   '';\n\n        switch( type ) {\n            case 'info': \n                buttonThemeClass    =   'text-white hover:bg-blue-400 bg-blue-500';\n                snackThemeClass     =   'bg-gray-900 text-white';\n            break;\n            case 'error': \n                buttonThemeClass    =   'text-red-700 hover:bg-white bg-white';\n                snackThemeClass     =   'bg-red-500 text-white';\n            break;\n            case 'success': \n                buttonThemeClass    =   'text-green-700 hover:bg-white bg-white';\n                snackThemeClass     =   'bg-green-500 text-white';\n            break;\n        }\n        \n        textNode.textContent        =   message;\n\n        /**\n         * if there is not label\n         * on the button, it's useless to add it\n         */\n        if ( label ) {\n            buttonNode.textContent      =   label;\n            buttonNode.setAttribute( 'class', `px-3 py-2 shadow rounded-lg font-bold ${buttonThemeClass}` );\n            buttonsWrapper.appendChild( buttonNode );\n        }\n\n        sampleSnack.appendChild( textNode );\n        sampleSnack.appendChild( buttonsWrapper );\n        sampleSnack.setAttribute( 'class', `md:rounded-lg py-2 px-3 md:w-2/5 w-full z-10 md:my-2 shadow-lg flex justify-between items-center ${snackThemeClass}` );\n\n        snackWrapper.setAttribute( 'id', 'snack-wrapper' );\n        snackWrapper.setAttribute( 'class', 'absolute bottom-0 w-full flex justify-between items-center flex-col')\n        snackWrapper.appendChild( sampleSnack );\n\n        document.body.appendChild( snackWrapper );\n\n        return { snackWrapper, sampleSnack, buttonsWrapper, buttonNode, textNode };\n    }\n}","import * as rx from \"rx\";\nimport * as rxjs from 'rxjs';\n\nexport class HttpClient {\n    _subject: rxjs.Subject<{}>;\n    _client;\n    private _lastRequestData;\n\n    constructor() {\n        this._subject    =   new rxjs.Subject; \n    }\n\n    defineClient( client ) {\n        this._client    =   client;\n    }\n\n    post( url, data, config = {} ) { \n        return this._request( 'post', url, data, config );\n    }\n\n    get( url, config = {} ) {\n        return this._request( 'get', url, undefined, config );\n    }\n\n    delete( url, config = {} ) {\n        return this._request( 'delete', url, undefined, config );\n    }\n\n    put( url, data , config = {} ) {\n        return this._request( 'put', url, data, config );\n    }\n\n    get response() {\n        return this._lastRequestData;\n    }\n\n    _request( type, url, data = {}, config = {} ) {\n        this._subject.next({ identifier: 'async.start', url, data });\n        return new rxjs.Observable( observer => {\n            this._client[ type ]( url, data, { \n                ...this._client.defaults[ type ],\n                ...config\n            }).then( result => {\n                this._lastRequestData   =   result;\n                observer.next( result.data );\n                observer.complete();\n                this._subject.next({ identifier: 'async.stop' });\n            }).catch( error => {\n                observer.error( error.response.data );\n                this._subject.next({ identifier: 'async.stop' });\n            });\n        })\n    }\n\n    subject() {\n        return this._subject;\n    }\n\n    emit({ identifier, value }) {\n        this._subject.next({ identifier, value });\n    }\n}","import * as rx from 'rx';\n\nexport class EventEmitter {\n    _subject;\n    \n    constructor() {\n        this._subject    =   new rx.Subject;        \n    }\n\n    subject() {\n        return this._subject;\n    }\n\n    emit({ identifier, value }) {\n        this._subject.onNext({ identifier, value });\n    }\n}","import { BehaviorSubject } from \"rxjs\";\n\nexport class State {\n    /**\n     * \n     * @param {BehaviorSubject} behaviorState \n     */\n    behaviorState: BehaviorSubject<{}>;\n\n    state: {}   =   {};\n\n    constructor( state ) {\n        this.behaviorState   =  new BehaviorSubject({});\n        this.behaviorState.subscribe( state => {\n            this.state  =   state;\n        });\n\n        this.setState( state );\n    }\n\n    setState(object) {\n        this.behaviorState.next({ ...this.state, object });\n    }\n}","import * as Lodash from \"lodash\";\nimport * as Axios from \"axios\";\nimport * as ChartJS from \"chart.js\";\nimport VueRouter from \"vue-router\";\nimport { EventEmitter, HttpClient, SnackBar, State } from \"./libraries/libraries\";\nimport { fromEvent } from \"rxjs\";\nimport * as RxJS from 'rxjs';\nimport * as moment from 'moment';\nimport { Popup } from \"./libraries/popup\";\nimport { Media } from \"./libraries/media\";\nimport Vue from \"vue\";\nimport FormValidation from \"./libraries/form-validation\";\nimport { nsCurrency, nsAbbreviate } from \"./filters/declarations\";\n\nVue.use( VueRouter );\n\ndeclare const window;\ndeclare const ns;\n\nwindow._                =   Lodash;\nwindow.CharJS           =   ChartJS;\nwindow.Vue              =   Vue;\nwindow.moment           =   moment;\nwindow.Axios            =   Axios;\nwindow.VueRouter        =   VueRouter;\nwindow.SnackBar         =   SnackBar;\nwindow.Axios.defaults.headers.common['X-Requested-With']    =   'XMLHttpRequest';\nwindow.Axios.defaults.withCredentials                       =   true;\n\nconst nsEvent           =   new EventEmitter;\nconst nsHttpClient      =   new HttpClient;\nconst nsSnackBar        =   new SnackBar;\n\n/**\n * create a screen class\n * that controls the device sizes\n */\nconst nsScreen          =   new class {\n    breakpoint: string;\n    \n    constructor() {\n        this.breakpoint     =   '';\n        \n        this.detectScreenSizes();\n\n        fromEvent( window, 'resize' )\n            .subscribe( v => this.detectScreenSizes() );\n    }\n\n    detectScreenSizes() {\n        switch( true ) {\n            case ( window.outerWidth > 0 ) && ( window.outerWidth <= 480 ) :\n                this.breakpoint     =   'xs';\n            break;\n            case ( window.outerWidth > 480 ) && ( window.outerWidth <= 640 ) :\n                this.breakpoint     =   'sm';\n            break;\n            case ( window.outerWidth > 640 ) && ( window.outerWidth <= 1024 ) :\n                this.breakpoint     =   'md';\n            break;\n            case ( window.outerWidth > 1024 ) && ( window.outerWidth <= 1280 ):\n                this.breakpoint     =   'lg';\n            break;\n            case ( window.outerWidth > 1280 ) :\n                this.breakpoint     =   'xl';\n            break;\n        }\n    }\n}\n\nconst nsState           =   new State({\n    sidebar: [ 'xs', 'sm', 'md' ].includes( nsScreen.breakpoint ) ? 'hidden' : 'visible'\n});\n\nnsHttpClient.defineClient( Axios );\n\nwindow.nsEvent          =   nsEvent;\nwindow.nsHttpClient     =   nsHttpClient;\nwindow.nsSnackBar       =   nsSnackBar;\nwindow.nsCurrency       =   nsCurrency;\nwindow.nsAbbreviate     =   nsAbbreviate;\nwindow.nsState          =   nsState;\nwindow.nsScreen         =   nsScreen;\nwindow.ChartJS          =   ChartJS;\nwindow.EventEmitter     =   EventEmitter;\nwindow.Popup            =   Popup;\nwindow.RxJS             =   RxJS;\nwindow.Media            =   Media;\nwindow.FormValidation   =   FormValidation;\n\nexport { nsHttpClient, nsSnackBar, nsEvent, nsState, nsScreen };","import Vue from 'vue';\n\nconst nsAbbreviate  =   Vue.filter( 'abbreviate', ( value ) => {\n    var newValue = value;\n    if (value >= 1000) {\n        var suffixes = [\"\", \"k\", \"m\", \"b\",\"t\"];\n        var suffixNum = Math.floor( (\"\"+value).length/3 );\n        var shortValue;\n        for (var precision = 2; precision >= 1; precision--) {\n            shortValue = parseFloat( (suffixNum != 0 ? (value / Math.pow(1000,suffixNum) ) : value).toPrecision(precision));\n            var dotLessShortValue = (shortValue + '').replace(/[^a-zA-Z 0-9]+/g,'');\n            if (dotLessShortValue.length <= 2) { break; }\n        }\n        if (shortValue % 1 != 0)  shortValue = shortValue.toFixed(1);\n        newValue = shortValue+suffixes[suffixNum];\n    }\n    return newValue;\n});\n\nexport { nsAbbreviate };","import { Popup } from './popup';\nconst MediaComponent     =   require( './../pages/dashboard/ns-media' ).default;\n\nexport class Media {\n    private popup;\n\n    constructor(\n        private field?: string,\n        private primarySelector?: string\n    ) {}\n\n    open() {\n        this.popup      =   new Popup({\n            popupClass: 'w-4/5 h-4/5-screen shadow-lg bg-white'\n        });\n\n        this.popup.open( MediaComponent );\n    }\n}","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import Vue from 'vue';\n\ndeclare const ns;\ndeclare const window;\n\nconst nsCurrency    =   Vue.filter( 'currency', ( value ) => {\n    \n    const currency  =   new Intl.NumberFormat( ns.currency.ns_currency_position === 'before' ? 'en-US' : 'fr-FR', {\n        currency: ns.currency.ns_currency_iso || 'USD',\n        minimumFractionDigits: ns.currency.ns_currency_precision,\n        style: 'currency',\n        // @ts-ignore\n        signDisplay: 'auto'\n    });\n\n    return currency.formatToParts( value ).map(({ type, value }) => {\n         switch( type ) {\n            case 'minusSign': return '-'; break;\n            case 'decimal': return ( ns.currency.ns_currency_decimal_separator || '.' );break;\n            case 'group': return ( ns.currency.ns_currency_thousand_separator || ',' ) ; break;\n            default: return value;\n        }\n    }).join('');\n});\n\nexport { nsCurrency };","module.exports = require(\"regenerator-runtime\");\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex bg-white shadow-xl w-4/5-screen h-4/5-screen overflow-hidden\"},[_c('div',{staticClass:\"sidebar w-48 bg-gray-200 h-full flex-shrink-0\"},[_c('h3',{staticClass:\"text-xl font-bold text-gray-800 my-4 text-center\"},[_vm._v(\"Medias Manager\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.pages),function(page,index){return _c('li',{key:index,staticClass:\"hover:bg-white py-2 px-3 text-gray-700 border-l-8 cursor-pointer\",class:page.selected ? 'bg-white border-blue-400' : 'border-transparent',on:{\"click\":function($event){return _vm.select( page )}}},[_vm._v(_vm._s(page.label))])}),0)]),_vm._v(\" \"),(_vm.currentPage.name === 'upload')?_c('div',{staticClass:\"content w-full overflow-hidden\"},[_c('vue-upload',{ref:\"upload\",staticClass:\"w-full h-full flex bg-white shadow\",attrs:{\"drop\":true,\"multiple\":true,\"headers\":{ 'X-Requested-With': 'XMLHttpRequest', 'X-CSRF-TOKEN' : _vm.csrf },\"accept\":\"image/*\",\"post-action\":\"/api/nexopos/v4/medias\"},on:{\"input-file\":_vm.inputFile,\"input-filter\":_vm.inputFilter},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}},[_c('div',{staticClass:\"border-dashed border-2 flex flex-auto m-2 p-2 flex-col border-blue-400 items-center justify-center\"},[_c('h3',{staticClass:\"text-3xl font-bold text-gray-600 mb-4\"},[_vm._v(\"Click Here Or Drop Your File To Upload\")]),_vm._v(\" \"),_c('div',{staticClass:\"rounded w-full md:w-2/3 text-gray-700 bg-gray-500 h-56 overflow-y-auto p-2\"},[_c('ul',_vm._l((_vm.files),function(file,index){return _c('li',{key:index,staticClass:\"p-2 mb-2 shadow bg-white flex items-center justify-between rounded\"},[_c('span',[_vm._v(_vm._s(file.name))]),_vm._v(\" \"),_c('span',{staticClass:\"rounded bg-blue-400 flex items-center justify-center text-xs p-2\"},[_vm._v(_vm._s(file.progress)+\"%\")])])}),0)])])])],1):_vm._e(),_vm._v(\" \"),(_vm.currentPage.name === 'gallery')?_c('div',{staticClass:\"content flex-col w-full overflow-hidden flex\"},[(_vm.popup)?_c('div',{staticClass:\"p-2 flex flex-shrink-0 justify-between bg-gray-200\"},[_c('div'),_vm._v(\" \"),_c('div',[_c('button',{staticClass:\"rounded-full flex items-center justify-center h-10 w-10 bg-white shadow text-red-400 hover:shadow-md hover:bg-red-400 hover:text-white\",on:{\"click\":function($event){return _vm.popup.close()}}},[_c('i',{staticClass:\"las la-times-circle text-3xl\"})])])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-auto overflow-hidden\"},[_c('div',{staticClass:\"content flex flex-auto flex-col overflow-y-auto\",attrs:{\"id\":\"grid\"}},[_c('div',{staticClass:\"flex-auto bg-white shadow\"},[_c('div',{staticClass:\"p-2 flex overflow-x-auto flex-wrap\"},_vm._l((_vm.response.data),function(resource,index){return _c('div',{key:index,staticClass:\"flex -m-2 flex-wrap\"},[_c('div',{staticClass:\"p-2\"},[_c('div',{staticClass:\"rounded-lg w-32 h-32 bg-gray-500 m-2 overflow-hidden flex items-center justify-center\",class:resource.selected ? 'shadow-outline' : '',on:{\"click\":function($event){return _vm.selectResource( resource )}}},[_c('img',{staticClass:\"object-cover h-full\",attrs:{\"src\":resource.sizes.thumb,\"alt\":resource.name}})])])])}),0),_vm._v(\" \"),(_vm.response.data.length === 0)?_c('div',{staticClass:\"h-full flex w-full items-center justify-center\"},[_c('h3',{staticClass:\"text-3xl text-gray-700 font-bold\"},[_vm._v(\"Nothing has already been uploaded\")])]):_vm._e()])]),_vm._v(\" \"),(! _vm.bulkSelect && _vm.hasOneSelected)?_c('div',{staticClass:\"w-64 flex-shrink-0 bg-gray-200\",attrs:{\"id\":\"preview\"}},[_c('div',{staticClass:\"h-64 bg-gray-600 flex items-center justify-center\"},[_c('img',{attrs:{\"src\":_vm.selectedResource.sizes.thumb,\"alt\":_vm.selectedResource.name}})]),_vm._v(\" \"),_c('div',{staticClass:\"p-4 text-gray-700 text-sm\",attrs:{\"id\":\"details\"}},[_c('p',{staticClass:\"flex flex-col mb-2\"},[_c('strong',{staticClass:\"font-bold block\"},[_vm._v(\"File Name: \")]),_c('span',[_vm._v(_vm._s(_vm.selectedResource.name))])]),_vm._v(\" \"),_c('p',{staticClass:\"flex flex-col mb-2\"},[_c('strong',{staticClass:\"font-bold block\"},[_vm._v(\"Uploaded At:\")]),_c('span',[_vm._v(_vm._s(_vm.selectedResource.created_at))])]),_vm._v(\" \"),_c('p',{staticClass:\"flex flex-col mb-2\"},[_c('strong',{staticClass:\"font-bold block\"},[_vm._v(\"By :\")]),_c('span',[_vm._v(_vm._s(_vm.selectedResource.user.username))])])])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"p-2 flex flex-shrink-0 justify-between bg-gray-200\"},[_c('div',{staticClass:\"flex -mx-2 flex-shrink-0\"},[_c('div',{staticClass:\"px-2 flex-shrink-0 flex\"},[_c('div',{staticClass:\"rounded shadow overflow-hidden border-blue-400 flex text-sm text-gray-700\"},[(_vm.bulkSelect)?_c('button',{staticClass:\"bg-white hover:bg-blue-400 hover:text-white py-2 px-3\",on:{\"click\":function($event){return _vm.cancelBulkSelect()}}},[_c('i',{staticClass:\"las la-times\"})]):_vm._e(),_vm._v(\" \"),(_vm.hasOneSelected && ! _vm.bulkSelect)?_c('button',{staticClass:\"bg-white hover:bg-blue-400 hover:text-white py-2 px-3\",on:{\"click\":function($event){_vm.bulkSelect = true}}},[_c('i',{staticClass:\"las la-check-circle\"})]):_vm._e(),_vm._v(\" \"),(_vm.hasOneSelected)?_c('button',{staticClass:\"bg-red-400 text-white hover:bg-red-500 hover:text-white py-2 px-3\",on:{\"click\":function($event){return _vm.deleteSelected()}}},[_c('i',{staticClass:\"las la-trash\"})]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"flex-shrink-0 -mx-2 flex\"},[_c('div',{staticClass:\"px-2\"},[_c('div',{staticClass:\"rounded shadow overflow-hidden border-blue-400 flex text-sm text-gray-700\"},[_c('button',{staticClass:\"p-2\",class:_vm.response.current_page === 1 ? 'bg-gray-100 text-gray-600 cursor-not-allowed' : 'bg-white hover:bg-blue-400 hover:text-white',attrs:{\"disabled\":_vm.response.current_page === 1},on:{\"click\":function($event){return _vm.loadGallery( _vm.response.current_page - 1 )}}},[_vm._v(\"Previous\")]),_vm._v(\" \"),_c('hr',{staticClass:\"border-r border-gray-700\"}),_vm._v(\" \"),_c('button',{staticClass:\"p-2\",class:_vm.response.current_page === _vm.response.last_page ? 'bg-gray-100 text-gray-600 cursor-not-allowed' : 'bg-white hover:bg-blue-400 hover:text-white',attrs:{\"disabled\":_vm.response.current_page === _vm.response.last_page},on:{\"click\":function($event){return _vm.loadGallery( _vm.response.current_page + 1 )}}},[_vm._v(\"Next\")])])]),_vm._v(\" \"),(_vm.popup && _vm.hasOneSelected)?_c('div',{staticClass:\"px-2\"},[_c('button',{staticClass:\"rounded shadow p-2 bg-blue-400 text-white text-sm\",on:{\"click\":function($event){return _vm.useSelectedEntries()}}},[_vm._v(\"Use Selected\")])]):_vm._e()])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ns-media.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ns-media.vue?vue&type=script&lang=js&\"","<script>\nimport { nsHttpClient, nsSnackBar } from '../../bootstrap';\n\nconst VueUpload     =   require( 'vue-upload-component' );\n\nexport default {\n    name: 'ns-media',\n    props: [ 'popup' ],\n    components: {\n        VueUpload\n    },\n    data() {\n        return {\n            pages: [{\n                label: 'Upload',\n                name: 'upload',\n                selected: false,\n            }, {\n                label: 'Gallery',\n                name : 'gallery',\n                selected: true,\n            }],\n            /**\n             * done for demo purposes\n             */\n            resources: [],\n\n            response: {\n                data: [],\n                current_page: 0,\n                from: 0,\n                to: 0,\n                next_page_url: '',\n                prev_page_url: '',\n                path: '',\n                per_page: 0,\n                total: 0,\n                last_page: 0,\n                first_page: 0\n            },\n\n            queryPage: 1,\n\n            /**\n             * determine wether the bulk\n             * selector is enabled or not.\n             */\n            bulkSelect: false,\n            files: [],\n        }\n    },\n    mounted() {\n        /**\n         * when the media is being opened\n         * from a popup\n         */\n        if ( this.popup ) {\n            this.popup.event.subscribe( action => {\n                if ( action.event === 'click-overlay' ) {\n                    this.popup.close();\n                }\n\n                if ( action.event === 'press-esc' ) {\n                    this.popup.close();\n                }\n            });\n        }\n\n        const gallery   =   this.pages.filter( p => p.name === 'gallery' )[0];\n\n        this.select( gallery );\n    },\n    watch: {\n        files() {\n            /**\n             * as long as there are file that aren't \n             * yet uploaded. We'll trigger the \"active\" status.\n             */\n            if ( this.files.filter( f => f.progress === '0.00' ).length > 0 ) {\n                this.$refs.upload.active = true;\n            }\n        }\n    },\n    computed: {\n        currentPage() {\n            return this.pages.filter( page => page.selected )[0];\n        },\n        hasOneSelected() {\n            return this.response.data.filter( r => r.selected ).length > 0;\n        },\n        selectedResource() {\n            return this.response.data.filter( r => r.selected )[0];\n        },\n        csrf() {\n            return ns.authentication.csrf;\n        }\n    },\n    methods: {\n        cancelBulkSelect() {\n            this.bulkSelect     =   false;\n            this.response.data.forEach( v => v.selected = false );\n        },\n\n        /**\n         * That trigger a deletion\n         * request to the server\n         * @param {void}\n         * @return {void}\n         */\n        deleteSelected() {\n            if ( confirm( 'Delete selected resources ?' ) ) {\n                return nsHttpClient.post( '/api/nexopos/v4/medias/bulk-delete', {\n                        ids: this.response.data\n                            .filter( v => v.selected )\n                            .map( v => v.id )\n                    })\n                    .subscribe( result => {\n                        nsSnackBar.success( result.message ).subscribe();\n                        this.loadGallery();\n                    }, error => {\n                        nsSnackBar.error( error.message ).subscribe();\n                    })\n            }\n        },\n\n        /**\n         * This make sure to select\n         * what is the active page on the media.\n         * By default we have gallery and upload\n         * @param page\n         * @return void\n         */\n        select( page ) {\n            this.pages.forEach( page => page.selected = false );\n            page.selected   =   true;\n\n            if ( page.name === 'gallery' ) {\n                this.loadGallery();\n            }\n        },\n\n        /**\n         * This make sure to load the \n         * gallery. That means loading images\n         * with a pagination system\n         * @param {interger} page\n         * @return void\n         */\n        loadGallery( page = null ) {\n            page = page === null ? this.queryPage : page;\n            this.queryPage  =   page;\n            nsHttpClient.get( `/api/nexopos/v4/medias?page=${page}` )\n                .subscribe( result => {\n                    // define default selection status\n                    result.data.forEach( resource => resource.selected = false );\n                    this.response  =   result;\n                })\n        },\n\n        /**\n         * Will event an event with\n         * all the selected resources\n         * @return void\n         */\n        useSelectedEntries() {\n            this.popup.event.next({\n                event: 'use-selected',\n                value: this.response.data.filter( entry => entry.selected )\n            });\n        },\n\n        /** \n         * this makes sure resources\n         * are correctly select when the bulk selection\n         * is enabled or not\n         * @param {object} resource\n         * @return {void}\n        */\n        selectResource( resource ) {\n            if ( ! this.bulkSelect ) {\n                this.response.data.forEach( (r, index) => {\n                    if ( index !== this.response.data.indexOf( resource ) ) {\n                        r.selected = false;\n                    }\n                });\n            }\n\n            resource.selected   =   ! resource.selected;\n        },\n    }\n}\n</script>\n<template>\n    <div class=\"flex bg-white shadow-xl w-4/5-screen h-4/5-screen overflow-hidden\">\n        <div class=\"sidebar w-48 bg-gray-200 h-full flex-shrink-0\">\n            <h3 class=\"text-xl font-bold text-gray-800 my-4 text-center\">Medias Manager</h3>\n            <ul>\n                <li @click=\"select( page )\" v-for=\"(page,index) of pages\" class=\"hover:bg-white py-2 px-3 text-gray-700 border-l-8 cursor-pointer\" :class=\"page.selected ? 'bg-white border-blue-400' : 'border-transparent'\" :key=\"index\">{{ page.label }}</li>\n            </ul>\n        </div>\n        <div class=\"content w-full overflow-hidden\" v-if=\"currentPage.name === 'upload'\">\n            <vue-upload\n                ref=\"upload\"\n                :drop=\"true\"\n                class=\"w-full h-full flex bg-white shadow\"\n                v-model=\"files\"\n                :multiple=\"true\"\n                :headers=\"{ 'X-Requested-With': 'XMLHttpRequest', 'X-CSRF-TOKEN' : csrf }\"\n                accept=\"image/*\"\n                post-action=\"/api/nexopos/v4/medias\"\n                @input-file=\"inputFile\"\n                @input-filter=\"inputFilter\">\n                <div class=\"border-dashed border-2 flex flex-auto m-2 p-2 flex-col border-blue-400 items-center justify-center\">\n                    <h3 class=\"text-3xl font-bold text-gray-600 mb-4\">Click Here Or Drop Your File To Upload</h3>\n                    <div class=\"rounded w-full md:w-2/3 text-gray-700 bg-gray-500 h-56 overflow-y-auto p-2\">\n                        <ul>\n                            <li v-for=\"(file, index) of files\" :key=\"index\" class=\"p-2 mb-2 shadow bg-white flex items-center justify-between rounded\">\n                                <span>{{ file.name }}</span>\n                                <span class=\"rounded bg-blue-400 flex items-center justify-center text-xs p-2\">{{ file.progress }}%</span>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </vue-upload>\n        </div>\n        <div class=\"content flex-col w-full overflow-hidden flex\" v-if=\"currentPage.name === 'gallery'\">\n            <div class=\"p-2 flex flex-shrink-0 justify-between bg-gray-200\" v-if=\"popup\">\n                <div></div>\n                <div>\n                    <button @click=\"popup.close()\" class=\"rounded-full flex items-center justify-center h-10 w-10 bg-white shadow text-red-400 hover:shadow-md hover:bg-red-400 hover:text-white\">\n                        <i class=\"las la-times-circle text-3xl\"></i>\n                    </button>\n                </div>\n            </div>\n            <div class=\"flex flex-auto overflow-hidden\">\n                <div id=\"grid\" class=\"content flex flex-auto flex-col overflow-y-auto\">\n                    <div class=\"flex-auto bg-white shadow\">\n                        <div class=\"p-2 flex overflow-x-auto flex-wrap\">\n                            <div v-for=\"(resource, index) of response.data\" :key=\"index\" class=\"flex -m-2 flex-wrap\">\n                                <div class=\"p-2\">\n                                    <div @click=\"selectResource( resource )\" :class=\"resource.selected ? 'shadow-outline' : ''\" class=\"rounded-lg w-32 h-32 bg-gray-500 m-2 overflow-hidden flex items-center justify-center\">\n                                        <img class=\"object-cover h-full\" :src=\"resource.sizes.thumb\" :alt=\"resource.name\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div v-if=\"response.data.length === 0\" class=\"h-full flex w-full items-center justify-center\">\n                            <h3 class=\"text-3xl text-gray-700 font-bold\">Nothing has already been uploaded</h3>\n                        </div>\n                    </div>\n                </div>\n                <div id=\"preview\" class=\"w-64 flex-shrink-0 bg-gray-200\" v-if=\"! bulkSelect && hasOneSelected\">\n                    <div class=\"h-64 bg-gray-600 flex items-center justify-center\">\n                        <img :src=\"selectedResource.sizes.thumb\" :alt=\"selectedResource.name\">\n                    </div>\n                    <div id=\"details\" class=\"p-4 text-gray-700 text-sm\">\n                        <p class=\"flex flex-col mb-2\">\n                            <strong class=\"font-bold block\">File Name: </strong><span>{{ selectedResource.name }}</span>\n                        </p>\n                        <p class=\"flex flex-col mb-2\">\n                            <strong class=\"font-bold block\">Uploaded At:</strong><span>{{ selectedResource.created_at }}</span>\n                        </p>\n                        <p class=\"flex flex-col mb-2\">\n                            <strong class=\"font-bold block\">By :</strong><span>{{ selectedResource.user.username }}</span>\n                        </p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"p-2 flex flex-shrink-0 justify-between bg-gray-200\">\n                <div class=\"flex -mx-2 flex-shrink-0\">\n                    <div class=\"px-2 flex-shrink-0 flex\">\n                        <div class=\"rounded shadow overflow-hidden border-blue-400 flex text-sm text-gray-700\">\n                            <button \n                                v-if=\"bulkSelect\" \n                                @click=\"cancelBulkSelect()\" \n                                class=\"bg-white hover:bg-blue-400 hover:text-white py-2 px-3\">\n                                <i class=\"las la-times\"></i>\n                            </button>\n                            <button \n                                v-if=\"hasOneSelected && ! bulkSelect\"\n                                @click=\"bulkSelect = true\"\n                                class=\"bg-white hover:bg-blue-400 hover:text-white py-2 px-3\">\n                                <i class=\"las la-check-circle\"></i>                            \n                            </button>\n                            <button \n                                v-if=\"hasOneSelected\"\n                                @click=\"deleteSelected()\"\n                                class=\"bg-red-400 text-white hover:bg-red-500 hover:text-white py-2 px-3\">\n                                <i class=\"las la-trash\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"flex-shrink-0 -mx-2 flex\">\n                    <div class=\"px-2\">\n                        <div class=\"rounded shadow overflow-hidden border-blue-400 flex text-sm text-gray-700\">\n                            <button :disabled=\"response.current_page === 1\" @click=\"loadGallery( response.current_page - 1 )\" :class=\"response.current_page === 1 ? 'bg-gray-100 text-gray-600 cursor-not-allowed' : 'bg-white hover:bg-blue-400 hover:text-white'\" class=\"p-2\">Previous</button>\n                            <hr class=\"border-r border-gray-700\">\n                            <button :disabled=\"response.current_page === response.last_page\" @click=\"loadGallery( response.current_page + 1 )\" :class=\"response.current_page === response.last_page ? 'bg-gray-100 text-gray-600 cursor-not-allowed' : 'bg-white hover:bg-blue-400 hover:text-white'\" class=\"p-2\">Next</button>\n                        </div>\n                    </div>\n                    <div class=\"px-2\" v-if=\"popup && hasOneSelected\">\n                        <button class=\"rounded shadow p-2 bg-blue-400 text-white text-sm\" @click=\"useSelectedEntries()\">Use Selected</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>","import { render, staticRenderFns } from \"./ns-media.vue?vue&type=template&id=f3437abc&\"\nimport script from \"./ns-media.vue?vue&type=script&lang=js&\"\nexport * from \"./ns-media.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\n * Name: vue-upload-component\n * Version: 2.8.20\n * Author: LianYue\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.VueUploadComponent = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * Creates a XHR request\n   *\n   * @param {Object} options\n   */\n  var createRequest = function createRequest(options) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(options.method || 'GET', options.url);\n    xhr.responseType = 'json';\n    if (options.headers) {\n      Object.keys(options.headers).forEach(function (key) {\n        xhr.setRequestHeader(key, options.headers[key]);\n      });\n    }\n\n    return xhr;\n  };\n\n  /**\n   * Sends a XHR request with certain body\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} body\n   */\n  var sendRequest = function sendRequest(xhr, body) {\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n      xhr.send(JSON.stringify(body));\n    });\n  };\n\n  /**\n   * Sends a XHR request with certain form data\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} data\n   */\n  var sendFormRequest = function sendFormRequest(xhr, data) {\n    var body = new FormData();\n    for (var name in data) {\n      body.append(name, data[name]);\n    }\n\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n      xhr.send(body);\n    });\n  };\n\n  /**\n   * Creates and sends XHR request\n   *\n   * @param {Object} options\n   *\n   * @returns Promise\n   */\n  function request (options) {\n    var xhr = createRequest(options);\n\n    return sendRequest(xhr, options.body);\n  }\n\n  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  var ChunkUploadHandler = function () {\n    /**\n     * Constructor\n     *\n     * @param {File} file\n     * @param {Object} options\n     */\n    function ChunkUploadHandler(file, options) {\n      _classCallCheck(this, ChunkUploadHandler);\n\n      this.file = file;\n      this.options = options;\n    }\n\n    /**\n     * Gets the max retries from options\n     */\n\n\n    _createClass(ChunkUploadHandler, [{\n      key: 'createChunks',\n\n\n      /**\n       * Creates all the chunks in the initial state\n       */\n      value: function createChunks() {\n        this.chunks = [];\n\n        var start = 0;\n        var end = this.chunkSize;\n        while (start < this.fileSize) {\n          this.chunks.push({\n            blob: this.file.file.slice(start, end),\n            startOffset: start,\n            active: false,\n            retries: this.maxRetries\n          });\n          start = end;\n          end = start + this.chunkSize;\n        }\n      }\n\n      /**\n       * Updates the progress of the file with the handler's progress\n       */\n\n    }, {\n      key: 'updateFileProgress',\n      value: function updateFileProgress() {\n        this.file.progress = this.progress;\n      }\n\n      /**\n       * Paues the upload process\n       * - Stops all active requests\n       * - Sets the file not active\n       */\n\n    }, {\n      key: 'pause',\n      value: function pause() {\n        this.file.active = false;\n        this.stopChunks();\n      }\n\n      /**\n       * Stops all the current chunks\n       */\n\n    }, {\n      key: 'stopChunks',\n      value: function stopChunks() {\n        this.chunksUploading.forEach(function (chunk) {\n          chunk.xhr.abort();\n          chunk.active = false;\n        });\n      }\n\n      /**\n       * Resumes the file upload\n       * - Sets the file active\n       * - Starts the following chunks\n       */\n\n    }, {\n      key: 'resume',\n      value: function resume() {\n        this.file.active = true;\n        this.startChunking();\n      }\n\n      /**\n       * Starts the file upload\n       *\n       * @returns Promise\n       * - resolve  The file was uploaded\n       * - reject   The file upload failed\n       */\n\n    }, {\n      key: 'upload',\n      value: function upload() {\n        var _this = this;\n\n        this.promise = new Promise(function (resolve, reject) {\n          _this.resolve = resolve;\n          _this.reject = reject;\n        });\n        this.start();\n\n        return this.promise;\n      }\n\n      /**\n       * Start phase\n       * Sends a request to the backend to initialise the chunks\n       */\n\n    }, {\n      key: 'start',\n      value: function start() {\n        var _this2 = this;\n\n        request({\n          method: 'POST',\n          headers: Object.assign({}, this.headers, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.startBody, {\n            phase: 'start',\n            mime_type: this.fileType,\n            size: this.fileSize,\n            name: this.fileName\n          })\n        }).then(function (res) {\n          if (res.status !== 'success') {\n            _this2.file.response = res;\n            return _this2.reject('server');\n          }\n\n          _this2.sessionId = res.data.session_id;\n          _this2.chunkSize = res.data.end_offset;\n\n          _this2.createChunks();\n          _this2.startChunking();\n        }).catch(function (res) {\n          _this2.file.response = res;\n          _this2.reject('server');\n        });\n      }\n\n      /**\n       * Starts to upload chunks\n       */\n\n    }, {\n      key: 'startChunking',\n      value: function startChunking() {\n        for (var i = 0; i < this.maxActiveChunks; i++) {\n          this.uploadNextChunk();\n        }\n      }\n\n      /**\n       * Uploads the next chunk\n       * - Won't do anything if the process is paused\n       * - Will start finish phase if there are no more chunks to upload\n       */\n\n    }, {\n      key: 'uploadNextChunk',\n      value: function uploadNextChunk() {\n        if (this.file.active) {\n          if (this.hasChunksToUpload) {\n            return this.uploadChunk(this.chunksToUpload[0]);\n          }\n\n          if (this.chunksUploading.length === 0) {\n            return this.finish();\n          }\n        }\n      }\n\n      /**\n       * Uploads a chunk\n       * - Sends the chunk to the backend\n       * - Sets the chunk as uploaded if everything went well\n       * - Decreases the number of retries if anything went wrong\n       * - Fails if there are no more retries\n       *\n       * @param {Object} chunk\n       */\n\n    }, {\n      key: 'uploadChunk',\n      value: function uploadChunk(chunk) {\n        var _this3 = this;\n\n        chunk.progress = 0;\n        chunk.active = true;\n        this.updateFileProgress();\n        chunk.xhr = createRequest({\n          method: 'POST',\n          headers: this.headers,\n          url: this.action\n        });\n\n        chunk.xhr.upload.addEventListener('progress', function (evt) {\n          if (evt.lengthComputable) {\n            chunk.progress = Math.round(evt.loaded / evt.total * 100);\n          }\n        }, false);\n\n        sendFormRequest(chunk.xhr, Object.assign(this.uploadBody, {\n          phase: 'upload',\n          session_id: this.sessionId,\n          start_offset: chunk.startOffset,\n          chunk: chunk.blob\n        })).then(function (res) {\n          chunk.active = false;\n          if (res.status === 'success') {\n            chunk.uploaded = true;\n          } else {\n            if (chunk.retries-- <= 0) {\n              _this3.stopChunks();\n              return _this3.reject('upload');\n            }\n          }\n\n          _this3.uploadNextChunk();\n        }).catch(function () {\n          chunk.active = false;\n          if (chunk.retries-- <= 0) {\n            _this3.stopChunks();\n            return _this3.reject('upload');\n          }\n\n          _this3.uploadNextChunk();\n        });\n      }\n\n      /**\n       * Finish phase\n       * Sends a request to the backend to finish the process\n       */\n\n    }, {\n      key: 'finish',\n      value: function finish() {\n        var _this4 = this;\n\n        this.updateFileProgress();\n\n        request({\n          method: 'POST',\n          headers: Object.assign({}, this.headers, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.finishBody, {\n            phase: 'finish',\n            session_id: this.sessionId\n          })\n        }).then(function (res) {\n          _this4.file.response = res;\n          if (res.status !== 'success') {\n            return _this4.reject('server');\n          }\n\n          _this4.resolve(res);\n        }).catch(function (res) {\n          _this4.file.response = res;\n          _this4.reject('server');\n        });\n      }\n    }, {\n      key: 'maxRetries',\n      get: function get() {\n        return parseInt(this.options.maxRetries);\n      }\n\n      /**\n       * Gets the max number of active chunks being uploaded at once from options\n       */\n\n    }, {\n      key: 'maxActiveChunks',\n      get: function get() {\n        return parseInt(this.options.maxActive);\n      }\n\n      /**\n       * Gets the file type\n       */\n\n    }, {\n      key: 'fileType',\n      get: function get() {\n        return this.file.type;\n      }\n\n      /**\n       * Gets the file size\n       */\n\n    }, {\n      key: 'fileSize',\n      get: function get() {\n        return this.file.size;\n      }\n\n      /**\n       * Gets the file name\n       */\n\n    }, {\n      key: 'fileName',\n      get: function get() {\n        return this.file.name;\n      }\n\n      /**\n       * Gets action (url) to upload the file\n       */\n\n    }, {\n      key: 'action',\n      get: function get() {\n        return this.options.action || null;\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in start phase\n       */\n\n    }, {\n      key: 'startBody',\n      get: function get() {\n        return this.options.startBody || {};\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in upload phase\n       */\n\n    }, {\n      key: 'uploadBody',\n      get: function get() {\n        return this.options.uploadBody || {};\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in finish phase\n       */\n\n    }, {\n      key: 'finishBody',\n      get: function get() {\n        return this.options.finishBody || {};\n      }\n\n      /**\n       * Gets the headers of the requests from options\n       */\n\n    }, {\n      key: 'headers',\n      get: function get() {\n        return this.options.headers || {};\n      }\n\n      /**\n       * Whether it's ready to upload files or not\n       */\n\n    }, {\n      key: 'readyToUpload',\n      get: function get() {\n        return !!this.chunks;\n      }\n\n      /**\n       * Gets the progress of the chunk upload\n       * - Gets all the completed chunks\n       * - Gets the progress of all the chunks that are being uploaded\n       */\n\n    }, {\n      key: 'progress',\n      get: function get() {\n        var _this5 = this;\n\n        var completedProgress = this.chunksUploaded.length / this.chunks.length * 100;\n        var uploadingProgress = this.chunksUploading.reduce(function (progress, chunk) {\n          return progress + (chunk.progress | 0) / _this5.chunks.length;\n        }, 0);\n\n        return Math.min(completedProgress + uploadingProgress, 100);\n      }\n\n      /**\n       * Gets all the chunks that are pending to be uploaded\n       */\n\n    }, {\n      key: 'chunksToUpload',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !chunk.active && !chunk.uploaded;\n        });\n      }\n\n      /**\n       * Whether there are chunks to upload or not\n       */\n\n    }, {\n      key: 'hasChunksToUpload',\n      get: function get() {\n        return this.chunksToUpload.length > 0;\n      }\n\n      /**\n       * Gets all the chunks that are uploading\n       */\n\n    }, {\n      key: 'chunksUploading',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.xhr && !!chunk.active;\n        });\n      }\n\n      /**\n       * Gets all the chunks that have finished uploading\n       */\n\n    }, {\n      key: 'chunksUploaded',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.uploaded;\n        });\n      }\n    }]);\n\n    return ChunkUploadHandler;\n  }();\n\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n\n  var script = {\n    methods: {\n      change: function change(e) {\n        this.$parent.addInputFile(e.target);\n        if (e.target.files) {\n          e.target.value = '';\n          if (e.target.files.length && !/safari/i.test(navigator.userAgent)) {\n            e.target.type = '';\n            e.target.type = 'file';\n          }\n        } else {\n          // ie9 fix #219\n          this.$destroy();\n          // eslint-disable-next-line\n          new this.constructor({\n            parent: this.$parent,\n            el: this.$el\n          });\n        }\n      }\n    }\n  };\n\n  /* script */\n  var __vue_script__ = script;\n\n  /* template */\n  var __vue_render__ = function __vue_render__() {\n    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('input', { attrs: { \"type\": \"file\", \"name\": _vm.$parent.name, \"id\": _vm.$parent.inputId || _vm.$parent.name, \"accept\": _vm.$parent.accept, \"capture\": _vm.$parent.capture, \"disabled\": _vm.$parent.disabled, \"webkitdirectory\": _vm.$parent.directory && _vm.$parent.features.directory, \"directory\": _vm.$parent.directory && _vm.$parent.features.directory, \"multiple\": _vm.$parent.multiple && _vm.$parent.features.html5 }, on: { \"change\": _vm.change } });\n  };\n  var __vue_staticRenderFns__ = [];\n\n  /* style */\n  var __vue_inject_styles__ = undefined;\n  /* scoped */\n  var __vue_scope_id__ = undefined;\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = false;\n  /* component normalizer */\n  function __vue_normalize__(template, style, script$$1, scope, functional, moduleIdentifier, createInjector, createInjectorSSR) {\n    var component = (typeof script$$1 === 'function' ? script$$1.options : script$$1) || {};\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) component.functional = true;\n    }\n\n    component._scopeId = scope;\n\n    return component;\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {});\n    var isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return; // SSR styles are present.\n\n      var group = isOldIE ? css.media || 'default' : id;\n      var style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        var code = css.source;\n        var index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n          // http://stackoverflow.com/a/26603875\n          code += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          var el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) el.setAttribute('media', css.media);\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts.filter(Boolean).join('\\n');\n        } else {\n          var textNode = document.createTextNode(code);\n          var nodes = style.element.childNodes;\n          if (nodes[index]) style.element.removeChild(nodes[index]);\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);\n        }\n      }\n    };\n  }\n  /* style inject SSR */\n\n  var InputFile = __vue_normalize__({ render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ }, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, __vue_create_injector__, undefined);\n\n  var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var CHUNK_DEFAULT_OPTIONS = {\n    headers: {},\n    action: '',\n    minSize: 1048576,\n    maxActive: 3,\n    maxRetries: 5,\n\n    handler: ChunkUploadHandler\n  };\n\n  var script$1 = {\n    components: {\n      InputFile: InputFile\n    },\n    props: {\n      inputId: {\n        type: String\n      },\n\n      name: {\n        type: String,\n        default: 'file'\n      },\n\n      accept: {\n        type: String\n      },\n\n      capture: {},\n\n      disabled: {},\n\n      multiple: {\n        type: Boolean\n      },\n\n      maximum: {\n        type: Number,\n        default: function _default() {\n          return this.multiple ? 0 : 1;\n        }\n      },\n\n      addIndex: {\n        type: [Boolean, Number]\n      },\n\n      directory: {\n        type: Boolean\n      },\n\n      postAction: {\n        type: String\n      },\n\n      putAction: {\n        type: String\n      },\n\n      customAction: {\n        type: Function\n      },\n\n      headers: {\n        type: Object,\n        default: Object\n      },\n\n      data: {\n        type: Object,\n        default: Object\n      },\n\n      timeout: {\n        type: Number,\n        default: 0\n      },\n\n      drop: {\n        default: false\n      },\n\n      dropDirectory: {\n        type: Boolean,\n        default: true\n      },\n\n      size: {\n        type: Number,\n        default: 0\n      },\n\n      extensions: {\n        default: Array\n      },\n\n      value: {\n        type: Array,\n        default: Array\n      },\n\n      thread: {\n        type: Number,\n        default: 1\n      },\n\n      // Chunk upload enabled\n      chunkEnabled: {\n        type: Boolean,\n        default: false\n      },\n\n      // Chunk upload properties\n      chunk: {\n        type: Object,\n        default: function _default() {\n          return CHUNK_DEFAULT_OPTIONS;\n        }\n      }\n    },\n\n    data: function data() {\n      return {\n        files: this.value,\n        features: {\n          html5: true,\n          directory: false,\n          drag: false\n        },\n\n        active: false,\n        dropActive: false,\n\n        uploading: 0,\n\n        destroy: false\n      };\n    },\n\n\n    /**\n     * mounted\n     * @return {[type]} [description]\n     */\n    mounted: function mounted() {\n      var input = document.createElement('input');\n      input.type = 'file';\n      input.multiple = true;\n\n      // html5 \n      if (window.FormData && input.files) {\n        // \n        if (typeof input.webkitdirectory === 'boolean' || typeof input.directory === 'boolean') {\n          this.features.directory = true;\n        }\n\n        // \n        if (this.features.html5 && typeof input.ondrop !== 'undefined') {\n          this.features.drop = true;\n        }\n      } else {\n        this.features.html5 = false;\n      }\n\n      // files \n      this.maps = {};\n      if (this.files) {\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        }\n      }\n\n      this.$nextTick(function () {\n\n        // \n        if (this.$parent) {\n          this.$parent.$forceUpdate();\n        }\n\n        // \n        this.watchDrop(this.drop);\n      });\n    },\n\n\n    /**\n     * beforeDestroy\n     * @return {[type]} [description]\n     */\n    beforeDestroy: function beforeDestroy() {\n      // \n      this.destroy = true;\n\n      // \n      this.active = false;\n    },\n\n\n    computed: {\n      /**\n       * uploading \n       * @return {[type]} [description]\n       */\n\n      /**\n       * uploaded \n       * @return {[type]} [description]\n       */\n      uploaded: function uploaded() {\n        var file = void 0;\n        for (var i = 0; i < this.files.length; i++) {\n          file = this.files[i];\n          if (file.fileObject && !file.error && !file.success) {\n            return false;\n          }\n        }\n        return true;\n      },\n      chunkOptions: function chunkOptions() {\n        return Object.assign(CHUNK_DEFAULT_OPTIONS, this.chunk);\n      },\n      className: function className() {\n        return ['file-uploads', this.features.html5 ? 'file-uploads-html5' : 'file-uploads-html4', this.features.directory && this.directory ? 'file-uploads-directory' : undefined, this.features.drop && this.drop ? 'file-uploads-drop' : undefined, this.disabled ? 'file-uploads-disabled' : undefined];\n      }\n    },\n\n    watch: {\n      active: function active(_active) {\n        this.watchActive(_active);\n      },\n      dropActive: function dropActive() {\n        if (this.$parent) {\n          this.$parent.$forceUpdate();\n        }\n      },\n      drop: function drop(value) {\n        this.watchDrop(value);\n      },\n      value: function value(files) {\n        if (this.files === files) {\n          return;\n        }\n        this.files = files;\n\n        var oldMaps = this.maps;\n\n        //  maps \n        this.maps = {};\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        }\n\n        // add, update\n        for (var key in this.maps) {\n          var newFile = this.maps[key];\n          var oldFile = oldMaps[key];\n          if (newFile !== oldFile) {\n            this.emitFile(newFile, oldFile);\n          }\n        }\n\n        // delete\n        for (var _key in oldMaps) {\n          if (!this.maps[_key]) {\n            this.emitFile(undefined, oldMaps[_key]);\n          }\n        }\n      }\n    },\n\n    methods: {\n\n      // \n      clear: function clear() {\n        if (this.files.length) {\n          var files = this.files;\n          this.files = [];\n\n          // \n          this.maps = {};\n\n          // \n          this.emitInput();\n          for (var i = 0; i < files.length; i++) {\n            this.emitFile(undefined, files[i]);\n          }\n        }\n        return true;\n      },\n\n\n      // \n      get: function get(id) {\n        if (!id) {\n          return false;\n        }\n\n        if ((typeof id === 'undefined' ? 'undefined' : _typeof(id)) === 'object') {\n          return this.maps[id.id] || false;\n        }\n\n        return this.maps[id] || false;\n      },\n\n\n      // \n      add: function add(_files) {\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.addIndex;\n\n        var files = _files;\n        var isArray = files instanceof Array;\n\n        // \n        if (!isArray) {\n          files = [files];\n        }\n\n        // \n        var addFiles = [];\n        for (var i = 0; i < files.length; i++) {\n          var file = files[i];\n          if (this.features.html5 && file instanceof Blob) {\n            file = {\n              file: file,\n              size: file.size,\n              name: file.webkitRelativePath || file.relativePath || file.name || 'unknown',\n              type: file.type\n            };\n          }\n          var fileObject = false;\n          if (file.fileObject === false) ; else if (file.fileObject) {\n            fileObject = true;\n          } else if (typeof Element !== 'undefined' && file.el instanceof Element) {\n            fileObject = true;\n          } else if (typeof Blob !== 'undefined' && file.file instanceof Blob) {\n            fileObject = true;\n          }\n          if (fileObject) {\n            file = _extends({\n              fileObject: true,\n              size: -1,\n              name: 'Filename',\n              type: '',\n              active: false,\n              error: '',\n              success: false,\n              putAction: this.putAction,\n              postAction: this.postAction,\n              timeout: this.timeout\n            }, file, {\n              response: {},\n\n              progress: '0.00', // \n              speed: 0 // \n              // xhr: false,                // \n              // iframe: false,             // \n            });\n\n            file.data = _extends({}, this.data, file.data ? file.data : {});\n\n            file.headers = _extends({}, this.headers, file.headers ? file.headers : {});\n          }\n\n          //  id\n          if (!file.id) {\n            file.id = Math.random().toString(36).substr(2);\n          }\n\n          if (this.emitFilter(file, undefined)) {\n            continue;\n          }\n\n          // \n          if (this.maximum > 1 && addFiles.length + this.files.length >= this.maximum) {\n            break;\n          }\n\n          addFiles.push(file);\n\n          // \n          if (this.maximum === 1) {\n            break;\n          }\n        }\n\n        // \n        if (!addFiles.length) {\n          return false;\n        }\n\n        //  1 \n        if (this.maximum === 1) {\n          this.clear();\n        }\n\n        //  files\n        var newFiles = void 0;\n        if (index === true || index === 0) {\n          newFiles = addFiles.concat(this.files);\n        } else if (index) {\n          var _newFiles;\n\n          newFiles = this.files.concat([]);\n          (_newFiles = newFiles).splice.apply(_newFiles, [index, 0].concat(addFiles));\n        } else {\n          newFiles = this.files.concat(addFiles);\n        }\n\n        this.files = newFiles;\n\n        // \n        for (var _i = 0; _i < addFiles.length; _i++) {\n          var _file2 = addFiles[_i];\n          this.maps[_file2.id] = _file2;\n        }\n\n        // \n        this.emitInput();\n        for (var _i2 = 0; _i2 < addFiles.length; _i2++) {\n          this.emitFile(addFiles[_i2], undefined);\n        }\n\n        return isArray ? addFiles : addFiles[0];\n      },\n\n\n      // \n      addInputFile: function addInputFile(el) {\n        var files = [];\n        if (el.files) {\n          for (var i = 0; i < el.files.length; i++) {\n            var file = el.files[i];\n            files.push({\n              size: file.size,\n              name: file.webkitRelativePath || file.relativePath || file.name,\n              type: file.type,\n              file: file\n            });\n          }\n        } else {\n          var names = el.value.replace(/\\\\/g, '/').split('/');\n          delete el.__vuex__;\n          files.push({\n            name: names[names.length - 1],\n            el: el\n          });\n        }\n        return this.add(files);\n      },\n\n\n      //  DataTransfer\n      addDataTransfer: function addDataTransfer(dataTransfer) {\n        var _this = this;\n\n        var files = [];\n        if (dataTransfer.items && dataTransfer.items.length) {\n          var items = [];\n          for (var i = 0; i < dataTransfer.items.length; i++) {\n            var item = dataTransfer.items[i];\n            if (item.getAsEntry) {\n              item = item.getAsEntry() || item.getAsFile();\n            } else if (item.webkitGetAsEntry) {\n              item = item.webkitGetAsEntry() || item.getAsFile();\n            } else {\n              item = item.getAsFile();\n            }\n            if (item) {\n              items.push(item);\n            }\n          }\n\n          return new Promise(function (resolve, reject) {\n            var forEach = function forEach(i) {\n              var item = items[i];\n              //   \n              if (!item || _this.maximum > 0 && files.length >= _this.maximum) {\n                return resolve(_this.add(files));\n              }\n              _this.getEntry(item).then(function (results) {\n                files.push.apply(files, _toConsumableArray(results));\n                forEach(i + 1);\n              });\n            };\n            forEach(0);\n          });\n        }\n\n        if (dataTransfer.files.length) {\n          for (var _i3 = 0; _i3 < dataTransfer.files.length; _i3++) {\n            files.push(dataTransfer.files[_i3]);\n            if (this.maximum > 0 && files.length >= this.maximum) {\n              break;\n            }\n          }\n          return Promise.resolve(this.add(files));\n        }\n\n        return Promise.resolve([]);\n      },\n\n\n      //  entry\n      getEntry: function getEntry(entry) {\n        var _this2 = this;\n\n        var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n        return new Promise(function (resolve, reject) {\n          if (entry.isFile) {\n            entry.file(function (file) {\n              resolve([{\n                size: file.size,\n                name: path + file.name,\n                type: file.type,\n                file: file\n              }]);\n            });\n          } else if (entry.isDirectory && _this2.dropDirectory) {\n            var files = [];\n            var dirReader = entry.createReader();\n            var readEntries = function readEntries() {\n              dirReader.readEntries(function (entries) {\n                var forEach = function forEach(i) {\n                  if (!entries[i] && i === 0 || _this2.maximum > 0 && files.length >= _this2.maximum) {\n                    return resolve(files);\n                  }\n                  if (!entries[i]) {\n                    return readEntries();\n                  }\n                  _this2.getEntry(entries[i], path + entry.name + '/').then(function (results) {\n                    files.push.apply(files, _toConsumableArray(results));\n                    forEach(i + 1);\n                  });\n                };\n                forEach(0);\n              });\n            };\n            readEntries();\n          } else {\n            resolve([]);\n          }\n        });\n      },\n      replace: function replace(id1, id2) {\n        var file1 = this.get(id1);\n        var file2 = this.get(id2);\n        if (!file1 || !file2 || file1 === file2) {\n          return false;\n        }\n        var files = this.files.concat([]);\n        var index1 = files.indexOf(file1);\n        var index2 = files.indexOf(file2);\n        if (index1 === -1 || index2 === -1) {\n          return false;\n        }\n        files[index1] = file2;\n        files[index2] = file1;\n        this.files = files;\n        this.emitInput();\n        return true;\n      },\n\n\n      // \n      remove: function remove(id) {\n        var file = this.get(id);\n        if (file) {\n          if (this.emitFilter(undefined, file)) {\n            return false;\n          }\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n          if (index === -1) {\n            console.error('remove', file);\n            return false;\n          }\n          files.splice(index, 1);\n          this.files = files;\n\n          // \n          delete this.maps[file.id];\n\n          // \n          this.emitInput();\n          this.emitFile(undefined, file);\n        }\n        return file;\n      },\n\n\n      // \n      update: function update(id, data) {\n        var file = this.get(id);\n        if (file) {\n          var newFile = _extends({}, file, data);\n          // \n          if (file.fileObject && file.active && !newFile.active && !newFile.error && !newFile.success) {\n            newFile.error = 'abort';\n          }\n\n          if (this.emitFilter(newFile, file)) {\n            return false;\n          }\n\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n          if (index === -1) {\n            console.error('update', file);\n            return false;\n          }\n          files.splice(index, 1, newFile);\n          this.files = files;\n\n          //      id)\n          delete this.maps[file.id];\n          this.maps[newFile.id] = newFile;\n\n          // \n          this.emitInput();\n          this.emitFile(newFile, file);\n          return newFile;\n        }\n        return false;\n      },\n\n\n      //   \n      emitFilter: function emitFilter(newFile, oldFile) {\n        var isPrevent = false;\n        this.$emit('input-filter', newFile, oldFile, function () {\n          isPrevent = true;\n          return isPrevent;\n        });\n        return isPrevent;\n      },\n\n\n      //   \n      emitFile: function emitFile(newFile, oldFile) {\n        this.$emit('input-file', newFile, oldFile);\n        if (newFile && newFile.fileObject && newFile.active && (!oldFile || !oldFile.active)) {\n          this.uploading++;\n          // \n          this.$nextTick(function () {\n            var _this3 = this;\n\n            setTimeout(function () {\n              _this3.upload(newFile).then(function () {\n                // eslint-disable-next-line\n                newFile = _this3.get(newFile);\n                if (newFile && newFile.fileObject) {\n                  _this3.update(newFile, {\n                    active: false,\n                    success: !newFile.error\n                  });\n                }\n              }).catch(function (e) {\n                _this3.update(newFile, {\n                  active: false,\n                  success: false,\n                  error: e.code || e.error || e.message || e\n                });\n              });\n            }, parseInt(Math.random() * 50 + 50, 10));\n          });\n        } else if ((!newFile || !newFile.fileObject || !newFile.active) && oldFile && oldFile.fileObject && oldFile.active) {\n          // \n          this.uploading--;\n        }\n\n        // \n        if (this.active && (Boolean(newFile) !== Boolean(oldFile) || newFile.active !== oldFile.active)) {\n          this.watchActive(true);\n        }\n      },\n      emitInput: function emitInput() {\n        this.$emit('input', this.files);\n      },\n\n\n      // \n      upload: function upload(id) {\n        var file = this.get(id);\n\n        // \n        if (!file) {\n          return Promise.reject('not_exists');\n        }\n\n        // \n        if (!file.fileObject) {\n          return Promise.reject('file_object');\n        }\n\n        // \n        if (file.error) {\n          return Promise.reject(file.error);\n        }\n\n        // \n        if (file.success) {\n          return Promise.resolve(file);\n        }\n\n        // \n        var extensions = this.extensions;\n        if (extensions && (extensions.length || typeof extensions.length === 'undefined')) {\n          if ((typeof extensions === 'undefined' ? 'undefined' : _typeof(extensions)) !== 'object' || !(extensions instanceof RegExp)) {\n            if (typeof extensions === 'string') {\n              extensions = extensions.split(',').map(function (value) {\n                return value.trim();\n              }).filter(function (value) {\n                return value;\n              });\n            }\n            extensions = new RegExp('\\\\.(' + extensions.join('|').replace(/\\./g, '\\\\.') + ')$', 'i');\n          }\n          if (file.name.search(extensions) === -1) {\n            return Promise.reject('extension');\n          }\n        }\n\n        // \n        if (this.size > 0 && file.size >= 0 && file.size > this.size) {\n          return Promise.reject('size');\n        }\n\n        if (this.customAction) {\n          return this.customAction(file, this);\n        }\n\n        if (this.features.html5) {\n          if (this.shouldUseChunkUpload(file)) {\n            return this.uploadChunk(file);\n          }\n          if (file.putAction) {\n            return this.uploadPut(file);\n          }\n          if (file.postAction) {\n            return this.uploadHtml5(file);\n          }\n        }\n        if (file.postAction) {\n          return this.uploadHtml4(file);\n        }\n        return Promise.reject('No action configured');\n      },\n\n\n      /**\n       * Whether this file should be uploaded using chunk upload or not\n       *\n       * @param Object file\n       */\n      shouldUseChunkUpload: function shouldUseChunkUpload(file) {\n        return this.chunkEnabled && !!this.chunkOptions.handler && file.size > this.chunkOptions.minSize;\n      },\n\n\n      /**\n       * Upload a file using Chunk method\n       *\n       * @param File file\n       */\n      uploadChunk: function uploadChunk(file) {\n        var HandlerClass = this.chunkOptions.handler;\n        file.chunk = new HandlerClass(file, this.chunkOptions);\n\n        return file.chunk.upload();\n      },\n      uploadPut: function uploadPut(file) {\n        var querys = [];\n        var value = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value !== null && value !== undefined) {\n            querys.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n          }\n        }\n        var queryString = querys.length ? (file.putAction.indexOf('?') === -1 ? '?' : '&') + querys.join('&') : '';\n        var xhr = new XMLHttpRequest();\n        xhr.open('PUT', file.putAction + queryString);\n        return this.uploadXhr(xhr, file, file.file);\n      },\n      uploadHtml5: function uploadHtml5(file) {\n        var form = new window.FormData();\n        var value = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && typeof value.toString !== 'function') {\n            if (value instanceof File) {\n              form.append(key, value, value.name);\n            } else {\n              form.append(key, JSON.stringify(value));\n            }\n          } else if (value !== null && value !== undefined) {\n            form.append(key, value);\n          }\n        }\n        form.append(this.name, file.file, file.file.filename || file.name);\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', file.postAction);\n        return this.uploadXhr(xhr, file, form);\n      },\n      uploadXhr: function uploadXhr(xhr, _file, body) {\n        var _this4 = this;\n\n        var file = _file;\n        var speedTime = 0;\n        var speedLoaded = 0;\n\n        // \n        xhr.upload.onprogress = function (e) {\n          //   \n          file = _this4.get(file);\n          if (!e.lengthComputable || !file || !file.fileObject || !file.active) {\n            return;\n          }\n\n          //   \n          var speedTime2 = Math.round(Date.now() / 1000);\n          if (speedTime2 === speedTime) {\n            return;\n          }\n          speedTime = speedTime2;\n\n          file = _this4.update(file, {\n            progress: (e.loaded / e.total * 100).toFixed(2),\n            speed: e.loaded - speedLoaded\n          });\n          speedLoaded = e.loaded;\n        };\n\n        // \n        var interval = setInterval(function () {\n          file = _this4.get(file);\n          if (file && file.fileObject && !file.success && !file.error && file.active) {\n            return;\n          }\n\n          if (interval) {\n            clearInterval(interval);\n            interval = false;\n          }\n\n          try {\n            xhr.abort();\n            xhr.timeout = 1;\n          } catch (e) {}\n        }, 100);\n\n        return new Promise(function (resolve, reject) {\n          var complete = void 0;\n          var fn = function fn(e) {\n            // \n            if (complete) {\n              return;\n            }\n            complete = true;\n            if (interval) {\n              clearInterval(interval);\n              interval = false;\n            }\n\n            file = _this4.get(file);\n\n            // \n            if (!file) {\n              return reject('not_exists');\n            }\n\n            // \n            if (!file.fileObject) {\n              return reject('file_object');\n            }\n\n            // \n            if (file.error) {\n              return reject(file.error);\n            }\n\n            // \n            if (!file.active) {\n              return reject('abort');\n            }\n\n            //  \n            if (file.success) {\n              return resolve(file);\n            }\n\n            var data = {};\n\n            switch (e.type) {\n              case 'timeout':\n              case 'abort':\n                data.error = e.type;\n                break;\n              case 'error':\n                if (!xhr.status) {\n                  data.error = 'network';\n                } else if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                }\n                break;\n              default:\n                if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                } else {\n                  data.progress = '100.00';\n                }\n            }\n\n            if (xhr.responseText) {\n              var contentType = xhr.getResponseHeader('Content-Type');\n              if (contentType && contentType.indexOf('/json') !== -1) {\n                data.response = JSON.parse(xhr.responseText);\n              } else {\n                data.response = xhr.responseText;\n              }\n            }\n\n            // \n            file = _this4.update(file, data);\n\n            // \n            if (file.error) {\n              return reject(file.error);\n            }\n\n            // \n            return resolve(file);\n          };\n\n          // \n          xhr.onload = fn;\n          xhr.onerror = fn;\n          xhr.onabort = fn;\n          xhr.ontimeout = fn;\n\n          // \n          if (file.timeout) {\n            xhr.timeout = file.timeout;\n          }\n\n          // headers\n          for (var key in file.headers) {\n            xhr.setRequestHeader(key, file.headers[key]);\n          }\n\n          //  xhr\n          file = _this4.update(file, { xhr: xhr });\n\n          // \n          xhr.send(body);\n        });\n      },\n      uploadHtml4: function uploadHtml4(_file) {\n        var _this5 = this;\n\n        var file = _file;\n        var onKeydown = function onKeydown(e) {\n          if (e.keyCode === 27) {\n            e.preventDefault();\n          }\n        };\n\n        var iframe = document.createElement('iframe');\n        iframe.id = 'upload-iframe-' + file.id;\n        iframe.name = 'upload-iframe-' + file.id;\n        iframe.src = 'about:blank';\n        iframe.setAttribute('style', 'width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;');\n\n        var form = document.createElement('form');\n\n        form.action = file.postAction;\n\n        form.name = 'upload-form-' + file.id;\n\n        form.setAttribute('method', 'POST');\n        form.setAttribute('target', 'upload-iframe-' + file.id);\n        form.setAttribute('enctype', 'multipart/form-data');\n\n        var value = void 0;\n        var input = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && typeof value.toString !== 'function') {\n            value = JSON.stringify(value);\n          }\n          if (value !== null && value !== undefined) {\n            input = document.createElement('input');\n            input.type = 'hidden';\n            input.name = key;\n            input.value = value;\n            form.appendChild(input);\n          }\n        }\n        form.appendChild(file.el);\n\n        document.body.appendChild(iframe).appendChild(form);\n\n        var getResponseData = function getResponseData() {\n          var doc = void 0;\n          try {\n            if (iframe.contentWindow) {\n              doc = iframe.contentWindow.document;\n            }\n          } catch (err) {}\n          if (!doc) {\n            try {\n              doc = iframe.contentDocument ? iframe.contentDocument : iframe.document;\n            } catch (err) {\n              doc = iframe.document;\n            }\n          }\n          if (doc && doc.body) {\n            return doc.body.innerHTML;\n          }\n          return null;\n        };\n\n        return new Promise(function (resolve, reject) {\n          setTimeout(function () {\n            file = _this5.update(file, { iframe: iframe });\n\n            // \n            if (!file) {\n              return reject('not_exists');\n            }\n\n            // \n            var interval = setInterval(function () {\n              file = _this5.get(file);\n              if (file && file.fileObject && !file.success && !file.error && file.active) {\n                return;\n              }\n\n              if (interval) {\n                clearInterval(interval);\n                interval = false;\n              }\n\n              iframe.onabort({ type: file ? 'abort' : 'not_exists' });\n            }, 100);\n\n            var complete = void 0;\n            var fn = function fn(e) {\n              // \n              if (complete) {\n                return;\n              }\n              complete = true;\n\n              if (interval) {\n                clearInterval(interval);\n                interval = false;\n              }\n\n              //  esc \n              document.body.removeEventListener('keydown', onKeydown);\n\n              file = _this5.get(file);\n\n              // \n              if (!file) {\n                return reject('not_exists');\n              }\n\n              // \n              if (!file.fileObject) {\n                return reject('file_object');\n              }\n\n              // \n              if (file.error) {\n                return reject(file.error);\n              }\n\n              // \n              if (!file.active) {\n                return reject('abort');\n              }\n\n              //  \n              if (file.success) {\n                return resolve(file);\n              }\n\n              var response = getResponseData();\n              var data = {};\n              switch (e.type) {\n                case 'abort':\n                  data.error = 'abort';\n                  break;\n                case 'error':\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (response === null) {\n                    data.error = 'network';\n                  } else {\n                    data.error = 'denied';\n                  }\n                  break;\n                default:\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (data === null) {\n                    data.error = 'network';\n                  } else {\n                    data.progress = '100.00';\n                  }\n              }\n\n              if (response !== null) {\n                if (response && response.substr(0, 1) === '{' && response.substr(response.length - 1, 1) === '}') {\n                  try {\n                    response = JSON.parse(response);\n                  } catch (err) {}\n                }\n                data.response = response;\n              }\n\n              // \n              file = _this5.update(file, data);\n\n              if (file.error) {\n                return reject(file.error);\n              }\n\n              // \n              return resolve(file);\n            };\n\n            // \n            iframe.onload = fn;\n            iframe.onerror = fn;\n            iframe.onabort = fn;\n\n            //  esc \n            document.body.addEventListener('keydown', onKeydown);\n\n            // \n            form.submit();\n          }, 50);\n        }).then(function (res) {\n          iframe.parentNode && iframe.parentNode.removeChild(iframe);\n          return res;\n        }).catch(function (res) {\n          iframe.parentNode && iframe.parentNode.removeChild(iframe);\n          return res;\n        });\n      },\n      watchActive: function watchActive(active) {\n        var file = void 0;\n        var index = 0;\n        while (file = this.files[index]) {\n          index++;\n          if (!file.fileObject) ; else if (active && !this.destroy) {\n            if (this.uploading >= this.thread || this.uploading && !this.features.html5) {\n              break;\n            }\n            if (!file.active && !file.error && !file.success) {\n              this.update(file, { active: true });\n            }\n          } else {\n            if (file.active) {\n              this.update(file, { active: false });\n            }\n          }\n        }\n        if (this.uploading === 0) {\n          this.active = false;\n        }\n      },\n      watchDrop: function watchDrop(_el) {\n        var el = _el;\n        if (!this.features.drop) {\n          return;\n        }\n\n        // \n        if (this.dropElement) {\n          try {\n            document.removeEventListener('dragenter', this.onDragenter, false);\n            document.removeEventListener('dragleave', this.onDragleave, false);\n            document.removeEventListener('drop', this.onDocumentDrop, false);\n            this.dropElement.removeEventListener('dragover', this.onDragover, false);\n            this.dropElement.removeEventListener('drop', this.onDrop, false);\n          } catch (e) {}\n        }\n\n        if (!el) {\n          el = false;\n        } else if (typeof el === 'string') {\n          el = document.querySelector(el) || this.$root.$el.querySelector(el);\n        } else if (el === true) {\n          el = this.$parent.$el;\n        }\n\n        this.dropElement = el;\n\n        if (this.dropElement) {\n          document.addEventListener('dragenter', this.onDragenter, false);\n          document.addEventListener('dragleave', this.onDragleave, false);\n          document.addEventListener('drop', this.onDocumentDrop, false);\n          this.dropElement.addEventListener('dragover', this.onDragover, false);\n          this.dropElement.addEventListener('drop', this.onDrop, false);\n        }\n      },\n      onDragenter: function onDragenter(e) {\n        e.preventDefault();\n        if (this.dropActive) {\n          return;\n        }\n        if (!e.dataTransfer) {\n          return;\n        }\n        var dt = e.dataTransfer;\n        if (dt.files && dt.files.length) {\n          this.dropActive = true;\n        } else if (!dt.types) {\n          this.dropActive = true;\n        } else if (dt.types.indexOf && dt.types.indexOf('Files') !== -1) {\n          this.dropActive = true;\n        } else if (dt.types.contains && dt.types.contains('Files')) {\n          this.dropActive = true;\n        }\n      },\n      onDragleave: function onDragleave(e) {\n        e.preventDefault();\n        if (!this.dropActive) {\n          return;\n        }\n        if (e.target.nodeName === 'HTML' || e.target === e.explicitOriginalTarget || !e.fromElement && (e.clientX <= 0 || e.clientY <= 0 || e.clientX >= window.innerWidth || e.clientY >= window.innerHeight)) {\n          this.dropActive = false;\n        }\n      },\n      onDragover: function onDragover(e) {\n        e.preventDefault();\n      },\n      onDocumentDrop: function onDocumentDrop() {\n        this.dropActive = false;\n      },\n      onDrop: function onDrop(e) {\n        e.preventDefault();\n        this.addDataTransfer(e.dataTransfer);\n      }\n    }\n  };\n\n  /* script */\n  var __vue_script__$1 = script$1;\n\n  /* template */\n  var __vue_render__$1 = function __vue_render__() {\n    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('span', { class: _vm.className }, [_vm._t(\"default\"), _vm._v(\" \"), _c('label', { attrs: { \"for\": _vm.inputId || _vm.name } }), _vm._v(\" \"), _c('input-file')], 2);\n  };\n  var __vue_staticRenderFns__$1 = [];\n\n  /* style */\n  var __vue_inject_styles__$1 = function (inject) {\n    if (!inject) return;\n    inject(\"data-v-595958af_0\", { source: \"\\n.file-uploads{overflow:hidden;position:relative;text-align:center;display:inline-block\\n}\\n.file-uploads.file-uploads-html4 input,.file-uploads.file-uploads-html5 label{background:#fff;opacity:0;font-size:20em;z-index:1;top:0;left:0;right:0;bottom:0;position:absolute;width:100%;height:100%\\n}\\n.file-uploads.file-uploads-html4 label,.file-uploads.file-uploads-html5 input{background:rgba(255,255,255,0);overflow:hidden;position:fixed;width:1px;height:1px;z-index:-1;opacity:0\\n}\", map: undefined, media: undefined });\n  };\n  /* scoped */\n  var __vue_scope_id__$1 = undefined;\n  /* module identifier */\n  var __vue_module_identifier__$1 = undefined;\n  /* functional template */\n  var __vue_is_functional_template__$1 = false;\n  /* component normalizer */\n  function __vue_normalize__$1(template, style, script, scope, functional, moduleIdentifier, createInjector, createInjectorSSR) {\n    var component = (typeof script === 'function' ? script.options : script) || {};\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) component.functional = true;\n    }\n\n    component._scopeId = scope;\n\n    {\n      var hook = void 0;\n      if (style) {\n        hook = function hook(context) {\n          style.call(this, createInjector(context));\n        };\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          var originalRender = component.render;\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context);\n            return originalRender(h, context);\n          };\n        } else {\n          // inject component registration as beforeCreate hook\n          var existing = component.beforeCreate;\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n        }\n      }\n    }\n\n    return component;\n  }\n  /* style inject */\n  function __vue_create_injector__$1() {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var styles = __vue_create_injector__$1.styles || (__vue_create_injector__$1.styles = {});\n    var isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return; // SSR styles are present.\n\n      var group = isOldIE ? css.media || 'default' : id;\n      var style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        var code = css.source;\n        var index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n          // http://stackoverflow.com/a/26603875\n          code += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          var el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) el.setAttribute('media', css.media);\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts.filter(Boolean).join('\\n');\n        } else {\n          var textNode = document.createTextNode(code);\n          var nodes = style.element.childNodes;\n          if (nodes[index]) style.element.removeChild(nodes[index]);\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);\n        }\n      }\n    };\n  }\n  /* style inject SSR */\n\n  var FileUpload = __vue_normalize__$1({ render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 }, __vue_inject_styles__$1, __vue_script__$1, __vue_scope_id__$1, __vue_is_functional_template__$1, __vue_module_identifier__$1, __vue_create_injector__$1, undefined);\n\n  var FileUpload$1 = /*#__PURE__*/Object.freeze({\n    default: FileUpload\n  });\n\n  var require$$0 = ( FileUpload$1 && FileUpload ) || FileUpload$1;\n\n  var src = require$$0;\n\n  return src;\n\n})));\n//# sourceMappingURL=vue-upload-component.js.map\n","import Vue from 'vue';\nimport { nsEvent } from './../bootstrap';\n\nconst nsMenu    =   Vue.component( 'ns-menu', {\n    data: () => {\n        return {\n            defaultToggledState : false,\n            _save: 0\n        }\n    },\n    props: [ 'href', 'label', 'icon', 'notification', 'toggled', 'identifier' ],\n    template: `\n    <div>\n        <a @click=\"toggleEmit()\" :href=\"href || 'javascript:void(0)'\" :class=\"defaultToggledState ? 'border-blue-800 bg-gray-800' : 'border-transparent bg-gray-900'\" class=\"flex justify-between py-2 border-l-8 text-gray-200 px-3 font-bold  hover:bg-gray-700\">\n            <span class=\"flex items-center\">\n            <i class=\"las text-lg mr-2\" :class=\"icon?.length > 0 ? icon : 'la-star'\"></i>\n            {{ label }}\n            </span>\n            <span v-if=\"notification > 0\" class=\"rounded-full bg-red-600 text-white font-bold w-6 h-6 text-xs justify-center items-center flex\">{{ notification }}</span>\n        </a>\n        <ul :class=\"defaultToggledState ? '' : 'hidden'\" class=\"submenu-wrapper\">\n            <slot></slot>                  \n        </ul>\n    </div>\n    `,\n    mounted() {\n        this.defaultToggledState   =   this.toggled !== undefined ? this.toggled : this.defaultToggledState;\n        /**\n         * subscribe to menu click\n         * and check if the event is not emitted from\n         * the current component. If yes, then skip\n         */\n        nsEvent.subject().subscribe( event => {\n            if ( event.value !== this.identifier ) {\n                this.defaultToggledState    =   false;\n            }\n        });\n    },\n    methods: {\n        toggleEmit() {\n            this.toggle().then( toggled => {\n                if ( toggled ) {\n                    nsEvent.emit({ \n                        identifier: 'side-menu.open',\n                        value: this.identifier\n                    });\n                }\n            })\n        },\n        toggle() {                                                                                                                                                                                                                                                                                                                                                                                                  \n            return new Promise( ( resolve, reject ) => {\n                if ( this.href.length === 0 ) {\n                    this.defaultToggledState    =   !this.defaultToggledState;\n                    resolve( this.defaultToggledState );\n                }\n            })\n        }\n    }\n});\n\nexport { nsMenu }","import Vue from 'vue';\n\nconst nsSubmenu     =   Vue.component( 'ns-submenu', {\n    data: () => {\n        return {\n        }\n    },\n    props: [ 'href', 'label', 'active' ],\n    mounted() {},\n    template: `\n    <div>\n        <li>\n            <a :class=\"active ? 'font-bold text-white' : 'text-gray-100'\" :href=\"href\" class=\"py-2 border-l-8 border-blue-800 px-3 block bg-gray-800 hover:bg-gray-700\">\n                <slot></slot>\n            </a>\n        </li>\n    </div>\n    `,\n});\n\nexport { nsSubmenu };","import Vue from 'vue';\n\nconst nsButton      =   Vue.component( 'ns-button', {\n    data: () => {\n        return {\n            clicked: false,\n            _save: 0\n        }\n    },\n    props: [ 'type', 'disabled', 'link', 'href', 'routerLink', 'to' ],\n    template: `\n    <div class=\"flex\" @click=\"$emit( 'click' )\">\n        <button :disabled=\"isDisabled\" v-if=\"!link\" :class=\"buttonclass\" class=\"rounded cursor-pointer py-2 px-3 font-semibold\"><slot></slot></button>\n        <router-link  :to=\"to\" v-if=\"routerLink\" :class=\"buttonclass\" class=\"rounded cursor-pointer py-2 px-3 font-semibold\"><slot></slot></router-link>\n        <a v-if=\"link\" :href=\"href\" :class=\"buttonclass\" class=\"rounded cursor-pointer py-2 px-3 font-semibold\"><slot></slot></a>\n    </div>\n    `,\n    mounted() {\n        \n    },\n    computed: {\n        isDisabled() {\n            return this.disabled && ( this.disabled.length === 0 || this.disabled === 'disabled' || this.disabled );\n        },\n\n        buttonclass() {\n            let className;\n\n            switch( this.type ) {\n                case 'info':\n                    className = `${this.isDisabled ? 'bg-gray-400 border border-gray-500 cursor-not-allowed text-gray-600' : 'shadow bg-blue-400 text-white' }`;\n                break;\n                case 'success':\n                    className = `${this.isDisabled ? 'bg-gray-400 border border-gray-500 cursor-not-allowed text-gray-600' : 'shadow bg-green-400 text-white' }`;\n                break;\n                case 'danger':\n                    className = `${this.isDisabled ? 'bg-gray-400 border border-gray-500 cursor-not-allowed text-gray-600' : 'shadow bg-red-400 text-white' }`;\n                break;\n                case 'warning':\n                    className = `${this.isDisabled ? 'bg-gray-400 border border-gray-500 cursor-not-allowed text-gray-600' : 'shadow bg-orange-400 text-white' }`;\n                break;\n                default:\n                    className = `${this.isDisabled ? 'bg-gray-400 border border-gray-500 cursor-not-allowed text-gray-600' : 'shadow bg-white text-gray-800' }`;\n                break;\n            }\n\n            return className;\n        }\n    }\n});\n\nexport { nsButton };","import Vue from 'vue';\n\nconst nsLink      =   Vue.component( 'ns-link', {\n    data: () => {\n        return {\n            clicked: false,\n            _save: 0\n        }\n    },\n    props: [ 'type', 'to', 'href' ],\n    template: `\n    <div class=\"flex\">\n        <router-link v-if=\"to\" :to=\"to\" :class=\"buttonclass\" class=\"rounded cursor-pointer py-2 px-3 font-semibold\"><slot></slot></router-link>\n        <a v-if=\"href\" :href=\"href\" :class=\"buttonclass\" class=\"rounded cursor-pointer py-2 px-3 font-semibold\"><slot></slot></a>\n    </div>\n    `,\n    computed: {\n        buttonclass() {\n            switch( this.type ) {\n                case 'info':\n                    return 'shadow bg-blue-400 text-white'\n                break;\n                case 'success':\n                    return 'shadow bg-green-400 text-white'\n                break;\n                case 'danger':\n                    return 'shadow bg-red-400 text-white'\n                break;\n                case 'warning':\n                    return 'shadow bg-orange-400 text-white'\n                break;\n                default:\n                    return 'shadow bg-white text-gray-800'\n                break;\n            }\n        }\n    }\n});\n\nexport { nsLink };","import Vue from 'vue';\nconst nsInput      =   Vue.component( 'ns-input', {\n    data: () => {\n        return {\n        }\n    },\n    mounted() {\n    },\n    computed: {\n        hasError() {\n            if ( this.field.errors !== undefined && this.field.errors.length > 0 ) {\n                return true;\n            }\n            return false;\n        },\n        disabledClass() {\n            return this.field.disabled ? 'bg-gray-200 cursor-not-allowed' : 'bg-transparent';\n        },\n        inputClass() {\n            return this.disabledClass + ' ' + this.leadClass\n        },\n        leadClass() {\n            return this.leading ? 'pl-8' : 'px-4';\n        }\n    },\n    props: [ 'placeholder', 'leading', 'type', 'field' ],\n    template: `\n    <div class=\"flex flex-col mb-2 flex-auto\">\n        <label :for=\"field.name\" :class=\"hasError ? 'text-red-700' : 'text-gray-700'\" class=\"block leading-5 font-medium\"><slot></slot></label>\n        <div :class=\"hasError ? 'border-red-400' : 'border-gray-200'\" class=\"mt-1 relative border-2 rounded-md focus:shadow-sm\">\n            <div v-if=\"leading\" class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <span class=\"text-gray-500 sm:text-sm sm:leading-5\">\n                {{ leading }}\n                </span>\n            </div>\n            <input \n                :disabled=\"field.disabled\" \n                v-model=\"field.value\" \n                @blur=\"$emit( 'blur', this )\" \n                @change=\"$emit( 'change', this )\" \n                :id=\"field.name\" :type=\"type || field.type || 'text'\" \n                :class=\"inputClass\" class=\"form-input block w-full sm:text-sm sm:leading-5 h-10\" :placeholder=\"placeholder\" />\n        </div>\n        <p v-if=\"! field.errors || field.errors.length === 0\" class=\"text-xs text-gray-500\"><slot name=\"description\"></slot></p>\n        <p v-for=\"error of field.errors\" class=\"text-xs text-red-400\">\n            <slot v-if=\"error.identifier === 'required'\" :name=\"error.identifier\">This field is required.</slot>\n            <slot v-if=\"error.identifier === 'email'\" :name=\"error.identifier\">This field must contain a valid email address.</slot>\n            <slot v-if=\"error.identifier === 'invalid'\" :name=\"error.identifier\">{{ error.message }}</slot>\n        </p>\n    </div>\n    `,\n});\n\nexport { nsInput }","import Vue from 'vue';\nconst nsSelect      =   Vue.component( 'ns-select', {\n    data: () => {\n        return {\n        }\n    },\n    props: [ 'name', 'placeholder', 'field' ],\n    computed: {\n        hasError() {\n            if ( this.field.errors !== undefined && this.field.errors.length > 0 ) {\n                return true;\n            }\n            return false;\n        },\n        disabledClass() {\n            return this.field.disabled ? 'bg-gray-200 cursor-not-allowed' : 'bg-transparent';\n        },\n        inputClass() {\n            return this.disabledClass + ' ' + this.leadClass\n        },\n        leadClass() {\n            return this.leading ? 'pl-8' : 'px-4';\n        }\n    },\n    template: `\n    <div class=\"flex flex-col flex-auto\">\n        <label :for=\"field.name\" :class=\"hasError ? 'text-red-700' : 'text-gray-700'\" class=\"block leading-5 font-medium\"><slot></slot></label>\n        <div :class=\"hasError ? 'border-red-400' : 'border-gray-200'\" class=\"border-2 mt-1 relative rounded-md shadow-sm mb-2\">\n            <select @change=\"$emit( 'change', $event )\" :name=\"field.name\" v-model=\"field.value\" :class=\"inputClass\" class=\"text-gray-700 form-input block w-full pl-7 pr-12 sm:text-sm sm:leading-5 h-10\">\n                <option :value=\"option.value\" v-for=\"option of field.options\" class=\"py-2\">{{ option.label }}</option>\n            </select>\n        </div>\n        <p v-if=\"! field.errors || field.errors.length === 0\" class=\"text-xs text-gray-500\"><slot name=\"description\"></slot></p>\n        <p v-for=\"error of field.errors\" class=\"text-xs text-red-400\">\n            <slot v-if=\"error.identifier === 'required'\" :name=\"error.identifier\">This field is required.</slot>\n            <slot v-if=\"error.identifier === 'email'\" :name=\"error.identifier\">This field must contain a valid email address.</slot>\n            <slot v-if=\"error.identifier === 'invalid'\" :name=\"error.identifier\">{{ error.message }}</slot>\n        </p>\n    </div>\n    `,\n});\n\nexport { nsSelect }","import Vue from 'vue';\n\nconst nsCheckbox    =   Vue.component( 'ns-checkbox', {\n    data: () => {\n        return {}\n    },\n    props: [ 'checked', 'field', 'label' ],\n    template: `\n    <div class=\"flex items-center justify-center\">\n        <div @click=\"toggleIt()\" class=\"w-6 h-6 flex bg-white border-2 items-center justify-center cursor-pointer\">\n            <i v-if=\"isChecked\" class=\"las la-check\"></i>   \n        </div>\n        <span v-if=\"label\" class=\"mx-2\">{{ label }}</span>\n    </div>\n    `,\n    computed: {\n        isChecked() {\n            return this.field ? this.field.value : this.checked;\n        },\n    },\n    methods: {\n        toggleIt() {\n            if ( this.field !== undefined ) {\n                this.field.value    =   !this.field.value;\n            }\n\n            this.$emit( 'change', !this.checked );\n        }\n    }\n});\n\nexport { nsCheckbox };","import Vue from 'vue';\nimport { HttpCrudResponse } from '../interfaces/http-crud-response';\nimport { HttpStatusResponse } from '../interfaces/http-status-response';\nimport { nsHttpClient, nsSnackBar }   from './../bootstrap';\n\nconst nsCrud    =   Vue.component( 'ns-crud', {\n    data: () => {\n        return {\n            sortColumn: '',\n            searchInput: '',\n            searchQuery: '',\n            page: 1,\n            bulkAction: '',\n            bulkActions: [],\n            columns: [],\n            globallyChecked: false,\n            result: {\n                current_page: null,\n                data: [],\n                first_page_url: null,\n                from: null,\n                last_page: null, \n                last_page_url: null,\n                next_page_url: null,\n                path: null,\n                per_page: null,\n                prev_page_url: null,\n                to: null,\n                total: null,\n            }\n        }\n    }, \n    mounted() {\n        this.loadConfig();\n    },\n    props: [ 'src', 'create-url' ],\n    computed: {\n        /**\n         * helps to get parsed\n         * src link. Useful to enable sort\n         * pagination, total items per pages\n         */\n        getParsedSrc() {\n            return `${this.src}?${this.sortColumn}${this.searchQuery}${this.queryPage}`\n        },\n\n        getSelectedAction() {\n            const action    =   this.bulkActions.filter( action => {\n                return action.identifier === this.bulkAction;\n            });\n            return action.length > 0 ? action[0] : false;\n        },\n\n        pagination() {\n            if ( this.result ) {\n                return this.pageNumbers( this.result.last_page, this.result.current_page );\n            }\n            return [];\n        },\n\n        queryPage() {\n            if ( this.result ) {\n                return `&page=${this.page}`\n            }\n            return '';\n        }\n    },\n    methods: {\n        pageNumbers(count, current) {\n            var shownPages = 3;\n            var result = [];\n            if (current > count - shownPages) {\n                result.push(count - 2, count - 1, count);\n            } else {\n                result.push(current, current + 1, current + 2, '...', count);\n            }\n            return result.filter( f => f > 0 || typeof f === 'string' );\n        },\n\n        handleShowOptions( e ) {\n            this.result.data.forEach( row => {\n                if ( row.$id !== e.$id ) {\n                    row.$toggled    =   false;\n                }\n            });\n        },\n        handleGlobalChange( event ) {\n            this.globallyChecked    =   event;\n            this.result.data.forEach( r => r.$checked = event );\n        },\n        loadConfig() {\n            const request   =   nsHttpClient.get( `${this.src}/config` );\n            request.subscribe( (f:any) => {\n                this.columns        =   f.columns;\n                this.bulkActions    =   f.bulkActions;\n                this.refresh();\n            });\n        },\n        cancelSearch() {\n            this.searchInput    =   '';\n            this.search();\n        },\n        search() {\n            if ( this.searchInput ) {\n                this.searchQuery    =   `&search=${this.searchInput}`;\n            } else {\n                this.searchQuery    =   '';\n            }\n\n            this.refresh();\n        },\n        sort( identifier ) {\n\n            for ( let key in this.columns ) {\n                if ( key !== identifier ) {\n                    this.columns[ key ].$sorted     =   false;\n                    this.columns[ key ].$direction  =   '';\n                }\n            }\n\n            this.columns[ identifier ].$sorted      =   true;\n\n            switch( this.columns[ identifier ].$direction ) {\n                case 'asc':\n                    this.columns[ identifier ].$direction   =   'desc';\n                break;\n                case 'desc':\n                    this.columns[ identifier ].$direction   =   '';\n                break;\n                case '':\n                    this.columns[ identifier ].$direction   =   'asc';\n                break;\n            }\n            \n            if ( [ 'asc', 'desc' ].includes( this.columns[ identifier ].$direction ) ) {\n                this.sortColumn     =   `active=${identifier}&direction=${this.columns[ identifier ].$direction}`;\n            } else {\n                this.sortColumn     =   '';\n            }\n\n            this.$emit( 'sort', this.columns[ identifier ] );\n            this.refresh();\n        },\n        bulkDo() {\n            if ( this.bulkAction ) {\n                if ( this.result.data.filter( row => row.$checked ).length > 0 ) {\n                    console.log( this.getSelectedAction );\n                    if ( confirm( this.getSelectedAction.confirm || this.$slots[ 'error-bulk-confirmation' ] || 'No bulk confirmation message provided on the CRUD class.' ) ) {\n                        return nsHttpClient.post( `${this.src}/bulk-actions`, {\n                            action: this.bulkAction,\n                            entries: this.result.data.filter( row => row.$checked ).map( r => r.$id )\n                        }).subscribe( (result: HttpStatusResponse ) => {\n                            nsSnackBar.info( result.message ).subscribe();\n                            this.refresh();\n                        }, ( error ) => {\n                            nsSnackBar.error( error.message )\n                                .subscribe();\n                        })\n                    }\n                } else {\n                    return nsSnackBar.error( this.$slots[ 'error-no-selection' ] ? this.$slots[ 'error-no-selection' ][0].text : 'No error provided when there is no selection selected (error-no-selection).' )\n                        .subscribe();\n                }\n            } else {\n                return nsSnackBar.error( this.$slots[ 'error-no-action' ] ? this.$slots[ 'error-no-action' ][0].text : 'No error provided when there is no action selected (error-no-action).' )\n                    .subscribe();\n            }\n\n        },\n        refresh() {\n            const request   =   nsHttpClient.get( `${this.getParsedSrc}` );\n            request.subscribe( (f:HttpCrudResponse) => {\n                this.result     =   f;\n                this.page       =   f.current_page;\n            });\n        }\n    },\n    template: `\n    <div id=\"crud-table\" class=\"w-full shadow rounded-lg bg-white mb-8\">\n        <div id=\"crud-table-header\" class=\"p-2 border-b border-gray-200 flex justify-between flex-wrap\">\n            <div id=\"crud-search-box\" class=\"w-full md:w-auto -mx-2 flex\">\n                <div class=\"px-2 flex items-center justify-center\">\n                    <a :href=\"createUrl || '#'\" class=\"rounded-full hover:border-blue-400 hover:text-white hover:bg-blue-400 text-sm h-10 flex items-center justify-center cursor-pointer bg-white px-3 outline-none text-gray-800 border border-gray-400\"><i class=\"las la-plus\"></i></a>\n                </div>\n                <div class=\"px-2\">\n                    <div class=\"rounded-full p-1 bg-gray-200 flex\">\n                        <input v-model=\"searchInput\" type=\"text\" class=\"bg-transparent outline-none px-2\">\n                        <button @click=\"search()\" class=\"rounded-full w-8 h-8 bg-white outline-none hover:bg-blue-400 hover:text-white\"><i class=\"las la-search\"></i></button>\n                        <button v-if=\"searchQuery\" @click=\"cancelSearch()\" class=\"ml-1 rounded-full w-8 h-8 bg-red-400 text-white outline-none hover:bg-red-500 hover:text-white\"><i class=\"las la-times\"></i></button>\n                    </div>\n                </div>\n                <div class=\"px-2 flex\">\n                    <button @click=\"refresh()\" class=\"rounded-full hover:border-blue-400 hover:text-white hover:bg-blue-400 text-sm h-10 bg-white px-3 outline-none text-gray-800 border border-gray-400\"><i class=\"las la-sync\"></i> </button>\n                </div>\n            </div>\n            <div id=\"crud-buttons\" class=\"-mx-1 flex flex-wrap w-full md:w-auto\">\n                <div class=\"px-1 flex\">\n                    <button class=\"flex justify-center items-center rounded-full text-sm h-10 w-10 bg-teal-400 outline-none text-white font-semibold\"><i class=\"las la-download\"></i></button>\n                </div>\n                <div class=\"px-1 flex\">\n                    <button class=\"flex justify-center items-center rounded-full text-sm h-10 w-10 bg-green-400 outline-none text-white font-semibold\"><i class=\"las la-upload\"></i></button>\n                </div>\n                <div class=\"px-1 flex\">\n                    <button class=\"flex justify-center items-center rounded-full text-sm h-10 w-10 hover:border-blue-400 hover:text-white hover:bg-blue-400 outline-none border-gray-400 border text-gray-700\"><i class=\"las la-filter\"></i></button>\n                </div>\n            </div>\n        </div>\n        <div class=\"flex\">\n            <div class=\"overflow-x-auto flex-auto\">\n                <table class=\"table w-full\" v-if=\"Object.values( columns ).length > 0\">\n                    <thead>\n                        <tr class=\"text-gray-700 border-b border-gray-200\">\n                            <th class=\"text-center px-2 border-gray-200 bg-gray-100 border w-16 py-2\">\n                                <ns-checkbox :checked=\"globallyChecked\" @change=\"handleGlobalChange( $event )\"></ns-checkbox>\n                            </th>\n                            <th @click=\"sort( identifier )\" v-for=\"(column, identifier) of columns\" :style=\"{ 'min-width' : column.width || 'auto' }\" class=\"cursor-pointer justify-betweenw-40 border bg-gray-100 text-left px-2 border-gray-200 py-2\">\n                                <div class=\"w-full flex justify-between items-center\">\n                                    <span class=\"flex\">{{ column.label }}</span>\n                                    <span class=\"h-6 w-6 flex justify-center items-center\">\n                                        <i v-if=\"column.$direction === 'desc'\" class=\"las la-sort-amount-up\"></i>\n                                        <i v-if=\"column.$direction === 'asc'\" class=\"las la-sort-amount-down\"></i>\n                                    </span>\n                                </div>\n                            </th>\n                            <th class=\"text-left px-2 py-2 w-16 border border-gray-200 bg-gray-100\"></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <template v-if=\"result.data !== undefined && result.data.length > 0\">\n                            <ns-table-row @updated=\"refresh()\" v-for=\"row of result.data\" :columns=\"columns\" :row=\"row\" @toggled=\"handleShowOptions( $event )\"></ns-table-row>\n                        </template>\n                        <tr v-if=\"! result || result.data.length === 0\">\n                            <td :colspan=\"Object.values( columns ).length + 2\" class=\"text-center text-gray-600 py-3\">There is nothing to display...</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div class=\"p-2 flex justify-between\">\n            <div id=\"grouped-actions\" class=\"flex justify-between rounded-full bg-gray-200 p-1\">\n                <select class=\"text-gray-800 outline-none bg-transparent\" v-model=\"bulkAction\" id=\"grouped-actions\">\n                    <option selected value=\"\"><slot name=\"bulk-label\">bulk-label</slot></option>\n                    <option v-for=\"action of bulkActions\" :value=\"action.identifier\">{{ action.label }}</option>\n                </select>\n                <button @click=\"bulkDo()\" class=\"h-8 w-8 outline-none hover:bg-blue-400 hover:text-white rounded-full bg-white flex items-center justify-center\"><slot name=\"bulk-go\">Go</slot></button>\n            </div>\n            <div id=\"pagination\" class=\"flex -mx-1\">\n                <template v-if=\"result.current_page\">\n                    <a href=\"javascript:void(0)\" @click=\"page=result.first_page;refresh()\" class=\"mx-1 flex items-center justify-center h-8 w-8 rounded-full bg-gray-200 text-gray-700 hover:bg-blue-400 hover:text-white shadow\">\n                        <i class=\"las la-angle-double-left\"></i>\n                    </a>\n                    <template v-for=\"_paginationPage of pagination\">\n                        <a v-if=\"page !== '...'\" :class=\"page == _paginationPage ? 'bg-blue-400 text-white' : 'bg-gray-200 text-gray-700'\" @click=\"page=_paginationPage;refresh()\" href=\"javascript:void(0)\" class=\"mx-1 flex items-center justify-center h-8 w-8 rounded-full hover:bg-blue-400 hover:text-white\">{{ _paginationPage }}</a>\n                        <a v-if=\"page === '...'\" href=\"javascript:void(0)\" class=\"mx-1 flex items-center justify-center h-8 w-8 rounded-full bg-gray-200 text-gray-700\">...</a>\n                    </template>\n                    <a href=\"javascript:void(0)\" @click=\"page=result.last_page;refresh()\" class=\"mx-1 flex items-center justify-center h-8 w-8 rounded-full bg-gray-200 text-gray-700 hover:bg-blue-400 hover:text-white shadow\">\n                        <i class=\"las la-angle-double-right\"></i>\n                    </a>\n                </template>\n            </div>\n        </div>\n    </div>\n    `,\n});\n\nexport { nsCrud };","import Vue from 'vue';\n\nimport { nsEvent, nsHttpClient, nsSnackBar } from \"@/bootstrap\";\n\nconst nsTableRow    =   Vue.component( 'ns-table-row', {\n    props: [\n        'options', 'row', 'columns'\n    ],\n    data: () => {\n        return {\n            optionsToggled: false\n        }\n    },\n    mounted() {\n    },\n    methods: {\n        getElementOffset(el) {\n            const rect = el.getBoundingClientRect();\n            \n            return {\n                top: rect.top + window.pageYOffset,\n                left: rect.left + window.pageXOffset,\n            };\n        },\n        toggleMenu( element ) {\n            this.row.$toggled   =   !this.row.$toggled;\n            this.$emit( 'toggled', this.row );\n\n            if ( this.row.$toggled ) {\n                setTimeout(() => {\n                    // const contextMenu               =   element.target.parentElement.lastElementChild;\n                    // const offset                    =   this.getElementOffset( element.target );\n                    // contextMenu.style.top           =   ( offset.top + element.target.offsetHeight ) + 'px';\n                    // contextMenu.style.right         =   ( offset.right - element.target.offsetWidth ) + 'px';\n                    // console.log( offset.left - element.target.offsetWidth );\n                }, 100 );\n            }\n        },\n        handleChanged( event ) {\n            this.row.$checked   =   event;\n        },\n        triggerAsync( action ) {\n            if ( action.confirm ) {\n                if ( confirm( action.confirm.message ) ) {\n                    nsHttpClient[ action.type.toLowerCase() ]( action.url )\n                        .subscribe( response => {\n                            nsSnackBar.success( response.message )\n                                .subscribe();\n                            this.$emit( 'updated', true );\n                        }, ( response ) => {\n                            this.toggleMenu();\n                            nsSnackBar.error( response.message ).subscribe();\n                        })\n                }\n            } else {\n                nsEvent.emit({\n                    identifier: 'ns-table-row-action',\n                    value: { action, row: this.row }\n                });\n                this.toggleMenu();\n            }\n        }\n    },\n    template: `\n    <tr :class=\"row.$cssClass ? row.$cssClass : 'border-gray-200 border text-sm'\">\n        <td class=\"text-gray-700 font-sans border-gray-200 p-2\">\n            <ns-checkbox @change=\"handleChanged( $event )\" :checked=\"row.$checked\"> </ns-checkbox>\n        </td>\n        <td v-for=\"(column, identifier) of columns\" class=\"text-gray-700 font-sans border-gray-200 p-2\">{{ row[ identifier ] }}</td>\n        <td class=\"text-gray-700 font-sans border-gray-200 p-2 flex flex-col items-start justify-center\">\n            <button @click=\"toggleMenu( $event )\" class=\"outline-none rounded-full w-24 text-sm p-1 border border-gray-400 hover:bg-blue-400 hover:text-white hover:border-transparent\"><i class=\"las la-ellipsis-h\"></i> Options</button>\n            <div @click=\"toggleMenu( $event )\" v-if=\"row.$toggled\" class=\"absolute w-full h-full z-10 top-0 left-0\"></div>\n            <div class=\"relative\">\n                <div v-if=\"row.$toggled\" class=\"zoom-in-entrance anim-duration-300 z-50 origin-bottom-right -ml-32 w-56 mt-2 absolute rounded-md shadow-lg\">\n                    <div class=\"rounded-md bg-white shadow-xs\">\n                        <div class=\"py-1\" role=\"menu\" aria-orientation=\"vertical\" aria-labelledby=\"options-menu\">\n                            <template v-for=\"action of row.$actions\">\n                                <a :href=\"action.url\" v-if=\"action.type === 'GOTO'\" class=\"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900\" role=\"menuitem\" v-html=\"action.label\"></a>\n                                <a href=\"javascript:void(0)\" @click=\"triggerAsync( action )\" v-if=\"[ 'GET', 'DELETE', 'POPUP' ].includes( action.type )\" class=\"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900\" role=\"menuitem\" v-html=\"action.label\"></a>\n                            </template>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </td>\n    </tr>\n    `\n})\n\nexport { nsTableRow }","import Vue from 'vue';\nconst nsSpinner     =   Vue.component( 'ns-spinner', {\n    data: () => {\n        return {\n        }\n    },\n    mounted() {\n    },\n    computed: {\n        validatedSize() {\n            return this.size || 24;\n        },\n        validatedBorder() {\n            return this.border || 8;\n        },\n        validatedAnimation() {\n            return this.animation || 'fast';\n        }\n    },\n    props: [ 'color', 'size', 'border' ],\n    template: `\n    <div class=\"flex items-center justify-center\">\n    <div class=\"loader ease-linear rounded-full border-gray-200\" :class=\"validatedAnimation + ' border-' + validatedBorder + ' border-t-' + validatedBorder + ' w-' + validatedSize + ' h-' + validatedSize\"></div>\n    </div>\n    `,\n});\n\nexport { nsSpinner }","import { nsHttpClient, nsSnackBar } from '../bootstrap';\nimport Vue from 'vue';\nimport FormValidation from '../libraries/form-validation';\n\nconst nsCrudForm    =   Vue.component( 'ns-crud-form', {\n    data: () => {\n        return {\n            form: {},\n            globallyChecked: false,\n            formValidation: new FormValidation,\n            rows: []\n        }\n    }, \n    mounted() {\n        this.loadForm();\n    },\n    props: [ 'src', 'create-url', 'field-class', 'return-url', 'submit-url', 'submit-method', 'disable-tabs' ],\n    computed: {\n        activeTabFields() {\n            for( let identifier in this.form.tabs ) {\n                if ( this.form.tabs[ identifier ].active ) {\n                    return this.form.tabs[ identifier ].fields;\n                }\n            }\n            return [];\n        }\n    },\n    methods: {\n        toggle( identifier ) {\n            for( let key in this.form.tabs ) {\n                this.form.tabs[ key ].active    =   false;\n            }\n            this.form.tabs[ identifier ].active     =   true;\n        },\n        /**\n         * Dpeca\n         * @param {Object} e Something\n         * @deprecated\n         */\n        handleShowOptions( e ) {\n            this.rows.forEach( row => {\n                if ( row.$id !== e.$id ) {\n                    row.$toggled    =   false;\n                }\n            });\n        },\n        submit() {\n            if ( this.formValidation.validateForm( this.form ).length > 0 ) {\n                return nsSnackBar.error( this.$slots[ 'error-invalid-form' ] ? this.$slots[ 'error-invalid-form' ][0].text : 'No error message provided for having an invalid form.', this.$slots[ 'okay' ] ? this.$slots[ 'okay' ][0].text : 'OK' )\n                    .subscribe();\n            }\n\n            this.formValidation.disableForm( this.form );\n\n            if ( this.submitUrl === undefined ) {\n                return nsSnackBar.error( this.$slots[ 'error-no-submit-url' ] ? this.$slots[ 'error-no-submit-url' ][0].text : 'No error message provided for not having a valid submit url.', this.$slots[ 'okay' ] ? this.$slots[ 'okay' ][0].text : 'OK' )\n                    .subscribe();\n            }\n\n            nsHttpClient[ this.submitMethod ? this.submitMethod.toLowerCase() : 'post' ]( this.submitUrl, this.formValidation.extractForm( this.form ) )\n                .subscribe( result => {\n                    if ( result.status === 'success' ) {\n                        if ( this.returnUrl && this.returnUrl.length > 0 ) {\n                            return document.location   =   this.returnUrl;\n                        }\n                        this.$emit( 'save' );\n                    }\n                    this.formValidation.enableForm( this.form );\n                }, ( error ) => {\n                    nsSnackBar.error( error.message, undefined, {\n                        duration: 5000\n                    }).subscribe();\n                    \n                    this.formValidation.triggerError( this.form, error );\n\n                    this.formValidation.enableForm( this.form );\n                })\n        },\n        handleGlobalChange( event ) {\n            this.globallyChecked    =   event;\n            this.rows.forEach( r => r.$checked = event );\n        },\n        loadForm() {\n            const request   =   nsHttpClient.get( `${this.src}` );\n            request.subscribe( (f:any) => {\n                this.form    =   this.parseForm( f.form );\n            });\n        },\n        parseForm( form ) {\n            form.main.value     =   form.main.value === undefined ? '' : form.main.value;\n            form.main           =   this.formValidation.createFields([ form.main ])[0];\n            let index           =   0;\n\n            for( let key in form.tabs ) {\n                if ( index === 0 ) {\n                    form.tabs[ key ].active  =   true;\n                }\n\n                form.tabs[ key ].active     =   form.tabs[ key ].active === undefined ? false : form.tabs[ key ].active;\n                form.tabs[ key ].fields     =   this.formValidation.createFields( form.tabs[ key ].fields );\n\n                index++;\n            }\n\n            return form;\n        }\n    },\n    template: `\n    <div class=\"form flex-auto\" id=\"crud-form\">\n        <div v-if=\"Object.values( form ).length === 0\" class=\"flex items-center justify-center h-full\">\n            <ns-spinner />\n        </div>\n        <div v-if=\"Object.values( form ).length > 0\">\n            <div class=\"flex flex-col\">\n                <div class=\"flex justify-between items-center\" v-if=\"form.main\">\n                    <label for=\"title\" class=\"font-bold my-2 text-gray-700\">{{ form.main.label }}</label>\n                    <div for=\"title\" class=\"text-sm my-2 text-gray-700\">\n                        <a v-if=\"returnUrl\" :href=\"returnUrl\" class=\"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1\">Return</a>\n                    </div>\n                </div>\n                <div :class=\"form.main.disabled ? 'border-gray-500' : form.main.errors.length > 0 ? 'border-red-600' : 'border-blue-500'\" class=\"flex border-2 rounded overflow-hidden\">\n                    <input v-model=\"form.main.value\" \n                        @blur=\"formValidation.checkField( form.main )\" \n                        @change=\"formValidation.checkField( form.main )\" \n                        :disabled=\"form.main.disabled\"\n                        type=\"text\" \n                        :class=\"form.main.disabled ? 'bg-gray-400' : ''\"\n                        class=\"flex-auto text-gray-700 outline-none h-10 px-2\">\n                    <button :disabled=\"form.main.disabled\" :class=\"form.main.disabled ? 'bg-gray-500' : form.main.errors.length > 0 ? 'bg-red-500' : 'bg-blue-500'\" @click=\"submit()\" class=\"outline-none px-4 h-10 text-white border-l border-gray-400\"><slot name=\"save\">Save</slot></button>\n                </div>\n                <p class=\"text-xs text-gray-600 py-1\" v-if=\"form.main.description && form.main.errors.length === 0\">{{ form.main.description }}</p>\n                <p class=\"text-xs py-1 text-red-500\" v-for=\"error of form.main.errors\">\n                    <span v-if=\"error.identifier=== 'required'\"><slot name=\"error-required\">{{ error.identifier }}</slot></span>\n                    <span v-if=\"error.identifier=== 'invalid'\"><slot name=\"error-invalid\">{{ error.message }}</slot></span>\n                </p>\n            </div>\n            <div id=\"tabs-container\" class=\"my-5\" v-if=\"disableTabs !== 'true'\">\n                <div class=\"header flex\" style=\"margin-bottom: -1px;\">\n                    <div v-for=\"( tab , identifier ) of form.tabs\" @click=\"toggle( identifier )\" :class=\"tab.active ? 'border-b-0 bg-white' : 'border bg-gray-200'\" class=\"tab rounded-tl rounded-tr border border-gray-400  px-3 py-2 text-gray-700 cursor-pointer\" style=\"margin-right: -1px\">{{ tab.label }}</div>\n                </div>\n                <div class=\"border border-gray-400 p-4 bg-white\">\n                    <div class=\"-mx-4 flex flex-wrap\">\n                        <div :class=\"fieldClass || 'px-4 w-full md:w-1/2 lg:w-1/3'\" v-for=\"field of activeTabFields\">\n                            <ns-field @blur=\"formValidation.checkField( field )\" @change=\"formValidation.checkField( field )\" :field=\"field\"/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    `,\n});\n\nexport { nsCrudForm };","import Vue from 'vue';\nconst nsTextarea    =   Vue.component( 'ns-textarea', {\n    data: () => {\n        return {\n        }\n    },\n    mounted() {\n    },\n    computed: {\n        hasError() {\n            if ( this.field.errors !== undefined && this.field.errors.length > 0 ) {\n                return true;\n            }\n            return false;\n        },\n        disabledClass() {\n            return this.field.disabled ? 'bg-gray-200 cursor-not-allowed' : 'bg-transparent';\n        },\n        inputClass() {\n            return this.disabledClass + ' ' + this.leadClass\n        },\n        leadClass() {\n            return this.leading ? 'p-8' : 'p-2';\n        }\n    },\n    props: [ 'placeholder', 'leading', 'type', 'field' ],\n    template: `\n    <div class=\"flex flex-col mb-2 flex-auto\">\n        <label :for=\"field.name\" :class=\"hasError ? 'text-red-700' : 'text-gray-700'\" class=\"block leading-5 font-medium\"><slot></slot></label>\n        <div :class=\"hasError ? 'border-red-400' : 'border-gray-200'\" class=\"mt-1 relative border-2 rounded-md focus:shadow-sm mb-2\">\n            <div v-if=\"leading\" class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <span class=\"text-gray-500 sm:text-sm sm:leading-5\">\n                {{ leading }}\n                </span>\n            </div>\n            <textarea \n                :disabled=\"field.disabled\" \n                v-model=\"field.value\" \n                @blur=\"$emit( 'blur', this )\" \n                @change=\"$emit( 'change', this )\" \n                :id=\"field.name\" :type=\"type || field.type || 'text'\" \n                :class=\"inputClass\" class=\"form-input block w-full sm:text-sm sm:leading-5\" :placeholder=\"placeholder\"></textarea>\n        </div>\n        <p v-if=\"! field.errors || field.errors.length === 0\" class=\"text-xs text-gray-500\"><slot name=\"description\"></slot></p>\n        <p v-for=\"error of field.errors\" class=\"text-xs text-red-400\">\n            <slot v-if=\"error.identifier === 'required'\" :name=\"error.identifier\">This field is required.</slot>\n            <slot v-if=\"error.identifier === 'email'\" :name=\"error.identifier\">This field must contain a valid email address.</slot>\n            <slot v-if=\"error.identifier === 'invalid'\" :name=\"error.identifier\">{{ error.message }}</slot>\n        </p>\n    </div>\n    `,\n});\n\nexport { nsTextarea }","import Vue from 'vue';\nconst nsField       =   Vue.component( 'ns-field', {\n    data: () => {\n        return {\n        }\n    },\n    mounted() {\n    },\n    computed: {\n        isInputField() {\n            return [ 'text', 'password', 'email', 'number', 'tel' ].includes( this.field.type );\n        },\n        isDateField() {\n            return [ 'date' ].includes( this.field.type );\n        },\n        isSelectField() {\n            return [ 'select' ].includes( this.field.type );\n        },\n        isTextarea() {\n            return [ 'textarea' ].includes( this.field.type );\n        },\n        isCheckbox() {\n            return [ 'checkbox' ].includes( this.field.type );\n        },\n        isMultiselect() {\n            return [ 'multiselect' ].includes( this.field.type );\n        },\n        isSwitch() {\n            return [ 'switch' ].includes( this.field.type );\n        },\n        isMedia() {\n            return [ 'media' ].includes( this.field.type );\n        },\n    },\n    props: [ 'field' ],\n    methods: {\n        addOption( option ) {\n            if( this.field.type === 'select' ) {\n                this.field.options.forEach( option => option.selected = false );\n            }\n\n            option.selected     =   true;\n\n            this.refreshMultiselect();\n\n            this.$emit( 'change', { action: 'addOption', option })\n        },\n        refreshMultiselect() {\n            this.field.value    =   this.field.options\n                .filter( option => option.selected )\n                .map( option => option.value );\n\n            console.log( this.field.options );\n        },\n        removeOption( option ) {\n            option.selected     =   false;\n            this.refreshMultiselect();                \n            this.$emit( 'change', { action: 'removeOption', option });\n        },\n    },\n    template: `\n    <div class=\"flex flex-auto\">\n        <ns-input @blur=\"$emit( 'blur', field )\" @change=\"$emit( 'change', field )\"  :field=\"field\" v-if=\"isInputField\">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html=\"field.description || ''\"></span></template>\n        </ns-input>\n        <ns-date @blur=\"$emit( 'blur', field )\" @change=\"$emit( 'change', field )\"  :field=\"field\" v-if=\"isDateField\">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html=\"field.description || ''\"></span></template>\n        </ns-date>\n        <ns-media-input @blur=\"$emit( 'blur', field )\" @change=\"$emit( 'change', field )\"  :field=\"field\" v-if=\"isMedia\">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html=\"field.description || ''\"></span></template>\n        </ns-media-input>\n        <ns-select @blur=\"$emit( 'blur', field )\" @change=\"$emit( 'change', field )\"  :field=\"field\" v-if=\"isSelectField\">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html=\"field.description || ''\"></span></template>\n        </ns-select>\n        <ns-textarea @blur=\"$emit( 'blur', field )\" @change=\"$emit( 'change', field )\"  :field=\"field\" v-if=\"isTextarea\">\n            <template>{{ field.label }}</template>\n            <template v-slot:description><span v-html=\"field.description || ''\"></span></template>\n        </ns-textarea v-slot>\n        <ns-checkbox @blur=\"$emit( 'blur', field )\" @change=\"$emit( 'change', field )\"  :field=\"field\" v-if=\"isCheckbox\">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html=\"field.description || ''\"></span></template>\n        </ns-checkbox>\n        <ns-multiselect \n            @addOption=\"addOption( $event )\" \n            @removeOption=\"removeOption( $event )\" \n            :field=\"field\" \n            v-if=\"isMultiselect\">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html=\"field.description || ''\"></span></template>\n        </ns-multiselect>\n        <ns-switch \n            :field=\"field\" \n            @change=\"$emit( 'change', field )\"\n            v-if=\"isSwitch\">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html=\"field.description || ''\"></span></template>\n        </ns-switch>\n    </div>\n    `,\n});\n\nexport { nsField }","import { remove } from 'lodash';\nimport Vue from 'vue';\nimport { nsEvent } from './../bootstrap';\n\nconst nsMultiselect         =   Vue.component( 'ns-multiselect', {\n    data() {\n        return {\n            showPanel: false,\n            search: '',\n        }\n    },\n    props: [ 'field' ],\n    computed: {\n        hasError() {\n            if ( this.field.errors !== undefined && this.field.errors.length > 0 ) {\n                return true;\n            }\n            return false;\n        },\n        _options() {\n            return this.field.options.map( option => {\n                option.selected     =   option.selected === undefined ? false : option.selected;\n                if ( this.field.value && this.field.value.includes( option.value ) ) {\n                    option.selected     =   true;\n                }\n                return option;\n            });\n        },\n    },\n    methods: {\n        addOption( option ) {\n            if ( ! this.field.disabled ) {\n                this.$emit( 'addOption', option );\n                this.$forceUpdate();\n                setTimeout( () => {\n                    // this.search     =   '';\n                }, 100 );\n            }\n        },\n        removeOption( option, event ) {\n            if ( ! this.field.disabled ) {\n                event.preventDefault();\n                event.stopPropagation();\n                this.$emit( 'removeOption', option );\n                this.$forceUpdate();\n                setTimeout( () => {\n                    this.search     =   '';\n                }, 100 );\n                return false;\n            }\n        }\n    },\n    mounted() {},\n    template: `\n    <div class=\"flex flex-col\">\n        <label :for=\"field.name\" :class=\"hasError ? 'text-red-700' : 'text-gray-700'\" class=\"block mb-1 leading-5 font-medium\"><slot></slot></label>\n        <div class=\"bg-white flex flex-col\">\n            <div @click=\"showPanel = !showPanel\" :class=\"showPanel ? '' : ''\" class=\"select-preview flex justify-between rounded border-2 border-gray-200 p-2 items-center\">\n                <div class=\"flex -mx-1 -my-1 flex-wrap\">\n                    <div class=\"px-1 my-1\" v-for=\"(option,index) of _options.filter( o => o.selected )\">\n                        <div class=\"rounded bg-blue-400 text-white flex justify-between p-1 items-center\">\n                            <span class=\"pr-8\">{{ option.label }}</span>\n                            <button @click=\"removeOption( option, $event )\" class=\"rounded outline-none hover:bg-blue-500 h-6 w-6 flex items-center justify-center\">\n                                <i class=\"las la-times\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div>\n                    <i class=\"las la-angle-down\" v-if=\"showPanel\"></i>\n                    <i class=\"las la-angle-up\" v-if=\"!showPanel\"></i>\n                </div>\n            </div>\n            <div class=\"h-0 z-10\" v-if=\"showPanel\" :class=\"showPanel ? 'shadow' : ''\">\n                <div class=\"bg-white shadow\">\n                    <div class=\"search border-b border-gray-200\">\n                        <input v-model=\"search\" class=\"p-2 w-full text-gray-600 outline-none\" placeholder=\"Search\">\n                    </div>\n                    <div class=\"h-40 overflow-y-auto\">\n                        <div @click=\"addOption( option )\" v-for=\"(option, index) of _options\" :class=\"option.selected ? 'bg-blue-300 text-white' : 'text-gray-600'\" class=\"option p-2 flex justify-between cursor-pointer hover:bg-blue-200 hover:text-white\">\n                            <span>{{ option.label }}</span>\n                            <span>\n                                <i v-if=\"option.checked\" class=\"las la-check\"></i>\n                            </span>\n                        </div>\n                    </div>\n                    <div v-if=\"_options.length === 0\" class=\"p-2 text-center text-gray-400\">Nothing to display</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"my-2\">\n            <p v-if=\"! field.errors || field.errors.length === 0\" class=\"text-xs text-gray-500\"><slot name=\"description\"></slot></p>\n            <p v-for=\"error of field.errors\" class=\"text-xs text-red-400\">\n                <slot v-if=\"error.identifier === 'required'\" :name=\"error.identifier\">This field is required.</slot>\n                <slot v-if=\"error.identifier === 'email'\" :name=\"error.identifier\">This field must contain a valid email address.</slot>\n                <slot v-if=\"error.identifier === 'invalid'\" :name=\"error.identifier\">{{ error.message }}</slot>\n            </p>\n        </div>\n    </div>\n    `,\n})\n\nexport { nsMultiselect }","import Vue from 'vue';\n\nconst nsSwitch      =   Vue.component( 'ns-switch', {\n    data: () => {\n        return {\n        }\n    },\n    mounted() {\n    },\n    computed: {\n        _options() {\n            return this.field.options.map( option => {\n                option.selected     =   option.value    === this.field.value;\n                return option;\n            })\n        },\n        hasError() {\n            if ( this.field.errors !== undefined && this.field.errors.length > 0 ) {\n                return true;\n            }\n            return false;\n        },\n        disabledClass() {\n            return this.field.disabled ? 'bg-gray-200 cursor-not-allowed' : '';\n        },\n        sizeClass() {\n            return ` w-1/${this._options.length <= 4 ? this._options.length : 4}`;\n        },\n        inputClass() {\n            return this.disabledClass + ' ' + this.leadClass;\n        },\n        leadClass() {\n            return this.leading ? 'pl-8' : 'px-4';\n        }\n    },\n    methods: {\n        setSelected( option ) {\n            this.field.value    =   option.value;\n            this._options.forEach( option => option.selected = false );\n            option.selected     =   true;\n            this.$forceUpdate();\n            this.$emit( 'change', option.value );\n        }\n    },\n    props: [ 'placeholder', 'leading', 'type', 'field' ],\n    template: `\n    <div class=\"flex flex-col mb-2\">\n        <label :for=\"field.name\" :class=\"hasError ? 'text-red-700' : 'text-gray-700'\" class=\"block leading-5 font-medium\"><slot></slot></label>\n        <div class=\"rounded-lg flex overflow-hidden w-96 shadow my-2\" :class=\"hasError ? 'border border-red-400' : ''\">\n            <button \n                :disabled=\"option.disabled\" \n                v-for=\"option of _options\" \n                @click=\"setSelected( option )\" \n                :class=\"option.selected ? 'bg-blue-400 text-white ' + sizeClass : 'bg-gray-100 text-gray-800' + ' ' + inputClass + ' ' + sizeClass\" \n                class=\"px-3 py-2 flex-no-wrap outline-none\">{{ option.label }}</button>\n        </div>\n        <p v-if=\"! field.errors || field.errors.length === 0\" class=\"text-xs text-gray-500\"><slot name=\"description\"></slot></p>\n        <p v-for=\"error of field.errors\" class=\"text-xs text-red-400\">\n            <slot v-if=\"error.identifier === 'required'\" :name=\"error.identifier\">This field is required.</slot>\n        </p>\n    </div>\n    `,\n});\n\nexport { nsSwitch }","import Vue from 'vue';\nconst nsDate        =   Vue.component( 'ns-date', {\n    data: () => {\n        return {\n        }\n    },\n    mounted() {\n    },\n    computed: {\n        hasError() {\n            if ( this.field.errors !== undefined && this.field.errors.length > 0 ) {\n                return true;\n            }\n            return false;\n        },\n        disabledClass() {\n            return this.field.disabled ? 'bg-gray-200 cursor-not-allowed' : 'bg-transparent';\n        },\n        inputClass() {\n            return this.disabledClass + ' ' + this.leadClass\n        },\n        leadClass() {\n            return this.leading ? 'pl-8' : 'px-4';\n        }\n    },\n    props: [ 'placeholder', 'leading', 'type', 'field' ],\n    template: `\n    <div class=\"flex flex-col mb-2\">\n        <label :for=\"field.name\" :class=\"hasError ? 'text-red-700' : 'text-gray-700'\" class=\"block leading-5 font-medium\"><slot></slot></label>\n        <div :class=\"hasError ? 'border-red-400' : 'border-gray-200'\" class=\"mt-1 relative border-2 rounded-md focus:shadow-sm\">\n            <div v-if=\"leading\" class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <span class=\"text-gray-500 sm:text-sm sm:leading-5\">\n                {{ leading }}\n                </span>\n            </div>\n            <input \n                :disabled=\"field.disabled\" \n                v-model=\"field.value\" \n                @blur=\"$emit( 'blur', this )\" \n                @change=\"$emit( 'change', this )\" \n                :id=\"field.name\" type=\"date\"\n                :class=\"inputClass\" class=\"form-input block w-full sm:text-sm sm:leading-5 h-10\" :placeholder=\"placeholder\" />\n        </div>\n        <p v-if=\"! field.errors || field.errors.length === 0\" class=\"text-xs text-gray-500\"><slot name=\"description\"></slot></p>\n        <p v-for=\"error of field.errors\" class=\"text-xs text-red-400\">\n            <slot v-if=\"error.identifier === 'required'\" :name=\"error.identifier\">This field is required.</slot>\n            <slot v-if=\"error.identifier === 'email'\" :name=\"error.identifier\">This field must contain a valid email address.</slot>\n            <slot v-if=\"error.identifier === 'invalid'\" :name=\"error.identifier\">{{ error.message }}</slot>\n        </p>\n    </div>\n    `,\n});\n\nexport { nsDate }","import Vue from 'vue';\nimport { Media } from './../libraries/media';\n\nconst nsMediaInput   =   Vue.component( 'ns-media-input', {\n    template: `\n    <div class=\"flex flex-col mb-2 flex-auto\">\n        <label :for=\"field.name\" :class=\"hasError ? 'text-red-700' : 'text-gray-700'\" class=\"block leading-5 font-medium\"><slot></slot></label>\n        <div :class=\"hasError ? 'border-red-400' : 'border-gray-200'\" class=\"mt-1 relative border-2 rounded-md focus:shadow-sm\">\n            <div v-if=\"leading\" class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <span class=\"text-gray-500 sm:text-sm sm:leading-5\">\n                {{ leading }}\n                </span>\n            </div>\n            <div class=\"rounded overflow-hidden flex\">\n                <div \n                    v-if=\"field.data && field.data.type === 'model'\"\n                    class=\"form-input flex w-full sm:text-sm items-center sm:leading-5 h-10\">\n                    <template v-if=\"field.value && field.value.name\">\n                        <img class=\"w-8 h-8 m-1\" :src=\"field.value.sizes.thumb\" :alt=\"field.value.name\">\n                        <span class=\"text-xs text-gray-600\">{{ field.value.name }}</span>\n                    </template>\n                </div>\n                <input \n                    v-if=\"! field.data || field.data.type === 'undefined'\"\n                    v-model=\"field.value\" \n                    @blur=\"$emit( 'blur', this )\" \n                    @change=\"$emit( 'change', this )\" \n                    :id=\"field.name\" :type=\"type || field.type || 'text'\" \n                    :class=\"inputClass\" class=\"form-input block w-full sm:text-sm sm:leading-5 h-10\" :placeholder=\"placeholder\" />\n                <button \n                    @click=\"toggleMedia( field )\"\n                    class=\"w-10 h-10 flex items-center justify-center border-l-2 border-gray-200 hover:bg-blue-400 hover:text-white outline-none\">\n                    <i class=\"las la-photo-video\"></i>\n                </button>\n            </div>\n        </div>\n        <p v-if=\"! field.errors || field.errors.length === 0\" class=\"text-xs text-gray-500\"><slot name=\"description\"></slot></p>\n        <p v-for=\"error of field.errors\" class=\"text-xs text-red-400\">\n            <slot v-if=\"error.identifier === 'required'\" :name=\"error.identifier\">This field is required.</slot>\n            <slot v-if=\"error.identifier === 'email'\" :name=\"error.identifier\">This field must contain a valid email address.</slot>\n            <slot v-if=\"error.identifier === 'invalid'\" :name=\"error.identifier\">{{ error.message }}</slot>\n        </p>\n    </div>\n    `,\n    computed: {\n        hasError() {\n            if ( this.field.errors !== undefined && this.field.errors.length > 0 ) {\n                return true;\n            }\n            return false;\n        },\n        disabledClass() {\n            return this.field.disabled ? 'bg-gray-200 cursor-not-allowed' : 'bg-transparent';\n        },\n        inputClass() {\n            return this.disabledClass + ' ' + this.leadClass\n        },\n        leadClass() {\n            return this.leading ? 'pl-8' : 'px-4';\n        }\n    },\n    data() {\n        return {\n            mediaInstance: new Media\n        }\n    },\n    props: [ 'placeholder', 'leading', 'type', 'field' ],\n    mounted() {\n    },\n    methods: {\n        toggleMedia() {\n            this.mediaInstance.open();\n            this.mediaInstance.popup.event.subscribe( action => {\n\n                /**\n                 * When the performed action is \"use-selected\"\n                 * we define the current field value with what has been selected (first entry)\n                 * and we close the popup.\n                 */\n                if ( action.event === 'use-selected' ) {\n                    /**\n                     * a field might choose to use a URL \n                     * or to link to an existing model\n                     */\n                    if ( ( ! this.field.data || this.field.data.type === 'url' ) ) {\n                        this.field.value    =   action.value[0].sizes.original;\n                    } else if ( ( ! this.field.data || this.field.data.type === 'model' ) ) {\n                        this.field.value    =   action.value[0];\n                    }\n\n                    this.$forceUpdate();\n                    this.mediaInstance.popup.close();\n                }\n            });\n        }\n    }\n});\n\nexport { nsMediaInput };","import Vue from \"vue\";\n\nconst nsCloseButton     =   Vue.component( 'ns-close-button', {\n    template: `\n    <button @click=\"clicked( $event )\" class=\"hover:bg-red-400 hover:text-white hover:border-red-600 rounded-full h-8 w-8 border items-center justify-center\">\n        <i class=\"las la-times\"></i>\n    </button>\n    `,\n    methods: {\n        clicked( event ) {\n            this.$emit( 'click', event );\n        }\n    }\n});\n\nexport { nsCloseButton };","import Vue from \"vue\";\n\nconst nsTabs    =   Vue.component( 'ns-tabs', {\n    data() {\n        return {\n            childrens: [],\n        }\n    },\n    props: [ 'active' ],\n    computed: {\n        activeComponent() {\n            const active    =   this.$children.filter( tab => tab.active );\n            if ( active.length > 0 ) {\n                return active[0];\n            }\n            return false;\n        },\n    },\n    methods: {\n        toggle( tab ) {\n            this.$emit( 'active', tab.identifier );\n        }\n    },\n    mounted() {\n        this.childrens          =   this.$children;\n    },\n    template: `\n    <div class=\"tabs flex flex-col flex-auto\">\n        <div class=\"header flex\" style=\"margin-bottom: -1px;\">\n            <div v-for=\"( tab , identifier ) of childrens\" @click=\"toggle( tab )\" :class=\"active === tab.identifier ? 'border-b-0 bg-white z-10' : 'border bg-gray-200'\" class=\"tab rounded-tl rounded-tr border border-gray-400  px-3 py-2 text-gray-700 cursor-pointer\" style=\"margin-right: -1px\">{{ tab.label }}</div>\n        </div>\n        <slot></slot>\n    </div>\n    `\n})\n\nconst nsTabsItem    =   Vue.component( 'ns-tabs-item', {\n    data() {\n        return {}\n    },\n    mounted() {\n    },\n    props: [ 'label', 'identifier' ],\n    template: `\n    <div class=\"border flex-auto border-gray-400 p-4 bg-white\" v-if=\"$parent.active === identifier\">\n        <slot></slot>\n    </div>\n    `\n});\n\nexport { nsTabsItem, nsTabs };","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var map = {\n\t\"./af\": 15,\n\t\"./af.js\": 15,\n\t\"./ar\": 16,\n\t\"./ar-dz\": 17,\n\t\"./ar-dz.js\": 17,\n\t\"./ar-kw\": 18,\n\t\"./ar-kw.js\": 18,\n\t\"./ar-ly\": 19,\n\t\"./ar-ly.js\": 19,\n\t\"./ar-ma\": 20,\n\t\"./ar-ma.js\": 20,\n\t\"./ar-sa\": 21,\n\t\"./ar-sa.js\": 21,\n\t\"./ar-tn\": 22,\n\t\"./ar-tn.js\": 22,\n\t\"./ar.js\": 16,\n\t\"./az\": 23,\n\t\"./az.js\": 23,\n\t\"./be\": 24,\n\t\"./be.js\": 24,\n\t\"./bg\": 25,\n\t\"./bg.js\": 25,\n\t\"./bm\": 26,\n\t\"./bm.js\": 26,\n\t\"./bn\": 27,\n\t\"./bn-bd\": 28,\n\t\"./bn-bd.js\": 28,\n\t\"./bn.js\": 27,\n\t\"./bo\": 29,\n\t\"./bo.js\": 29,\n\t\"./br\": 30,\n\t\"./br.js\": 30,\n\t\"./bs\": 31,\n\t\"./bs.js\": 31,\n\t\"./ca\": 32,\n\t\"./ca.js\": 32,\n\t\"./cs\": 33,\n\t\"./cs.js\": 33,\n\t\"./cv\": 34,\n\t\"./cv.js\": 34,\n\t\"./cy\": 35,\n\t\"./cy.js\": 35,\n\t\"./da\": 36,\n\t\"./da.js\": 36,\n\t\"./de\": 37,\n\t\"./de-at\": 38,\n\t\"./de-at.js\": 38,\n\t\"./de-ch\": 39,\n\t\"./de-ch.js\": 39,\n\t\"./de.js\": 37,\n\t\"./dv\": 40,\n\t\"./dv.js\": 40,\n\t\"./el\": 41,\n\t\"./el.js\": 41,\n\t\"./en-au\": 42,\n\t\"./en-au.js\": 42,\n\t\"./en-ca\": 43,\n\t\"./en-ca.js\": 43,\n\t\"./en-gb\": 44,\n\t\"./en-gb.js\": 44,\n\t\"./en-ie\": 45,\n\t\"./en-ie.js\": 45,\n\t\"./en-il\": 46,\n\t\"./en-il.js\": 46,\n\t\"./en-in\": 47,\n\t\"./en-in.js\": 47,\n\t\"./en-nz\": 48,\n\t\"./en-nz.js\": 48,\n\t\"./en-sg\": 49,\n\t\"./en-sg.js\": 49,\n\t\"./eo\": 50,\n\t\"./eo.js\": 50,\n\t\"./es\": 51,\n\t\"./es-do\": 52,\n\t\"./es-do.js\": 52,\n\t\"./es-mx\": 53,\n\t\"./es-mx.js\": 53,\n\t\"./es-us\": 54,\n\t\"./es-us.js\": 54,\n\t\"./es.js\": 51,\n\t\"./et\": 55,\n\t\"./et.js\": 55,\n\t\"./eu\": 56,\n\t\"./eu.js\": 56,\n\t\"./fa\": 57,\n\t\"./fa.js\": 57,\n\t\"./fi\": 58,\n\t\"./fi.js\": 58,\n\t\"./fil\": 59,\n\t\"./fil.js\": 59,\n\t\"./fo\": 60,\n\t\"./fo.js\": 60,\n\t\"./fr\": 61,\n\t\"./fr-ca\": 62,\n\t\"./fr-ca.js\": 62,\n\t\"./fr-ch\": 63,\n\t\"./fr-ch.js\": 63,\n\t\"./fr.js\": 61,\n\t\"./fy\": 64,\n\t\"./fy.js\": 64,\n\t\"./ga\": 65,\n\t\"./ga.js\": 65,\n\t\"./gd\": 66,\n\t\"./gd.js\": 66,\n\t\"./gl\": 67,\n\t\"./gl.js\": 67,\n\t\"./gom-deva\": 68,\n\t\"./gom-deva.js\": 68,\n\t\"./gom-latn\": 69,\n\t\"./gom-latn.js\": 69,\n\t\"./gu\": 70,\n\t\"./gu.js\": 70,\n\t\"./he\": 71,\n\t\"./he.js\": 71,\n\t\"./hi\": 72,\n\t\"./hi.js\": 72,\n\t\"./hr\": 73,\n\t\"./hr.js\": 73,\n\t\"./hu\": 74,\n\t\"./hu.js\": 74,\n\t\"./hy-am\": 75,\n\t\"./hy-am.js\": 75,\n\t\"./id\": 76,\n\t\"./id.js\": 76,\n\t\"./is\": 77,\n\t\"./is.js\": 77,\n\t\"./it\": 78,\n\t\"./it-ch\": 79,\n\t\"./it-ch.js\": 79,\n\t\"./it.js\": 78,\n\t\"./ja\": 80,\n\t\"./ja.js\": 80,\n\t\"./jv\": 81,\n\t\"./jv.js\": 81,\n\t\"./ka\": 82,\n\t\"./ka.js\": 82,\n\t\"./kk\": 83,\n\t\"./kk.js\": 83,\n\t\"./km\": 84,\n\t\"./km.js\": 84,\n\t\"./kn\": 85,\n\t\"./kn.js\": 85,\n\t\"./ko\": 86,\n\t\"./ko.js\": 86,\n\t\"./ku\": 87,\n\t\"./ku.js\": 87,\n\t\"./ky\": 88,\n\t\"./ky.js\": 88,\n\t\"./lb\": 89,\n\t\"./lb.js\": 89,\n\t\"./lo\": 90,\n\t\"./lo.js\": 90,\n\t\"./lt\": 91,\n\t\"./lt.js\": 91,\n\t\"./lv\": 92,\n\t\"./lv.js\": 92,\n\t\"./me\": 93,\n\t\"./me.js\": 93,\n\t\"./mi\": 94,\n\t\"./mi.js\": 94,\n\t\"./mk\": 95,\n\t\"./mk.js\": 95,\n\t\"./ml\": 96,\n\t\"./ml.js\": 96,\n\t\"./mn\": 97,\n\t\"./mn.js\": 97,\n\t\"./mr\": 98,\n\t\"./mr.js\": 98,\n\t\"./ms\": 99,\n\t\"./ms-my\": 100,\n\t\"./ms-my.js\": 100,\n\t\"./ms.js\": 99,\n\t\"./mt\": 101,\n\t\"./mt.js\": 101,\n\t\"./my\": 102,\n\t\"./my.js\": 102,\n\t\"./nb\": 103,\n\t\"./nb.js\": 103,\n\t\"./ne\": 104,\n\t\"./ne.js\": 104,\n\t\"./nl\": 105,\n\t\"./nl-be\": 106,\n\t\"./nl-be.js\": 106,\n\t\"./nl.js\": 105,\n\t\"./nn\": 107,\n\t\"./nn.js\": 107,\n\t\"./oc-lnc\": 108,\n\t\"./oc-lnc.js\": 108,\n\t\"./pa-in\": 109,\n\t\"./pa-in.js\": 109,\n\t\"./pl\": 110,\n\t\"./pl.js\": 110,\n\t\"./pt\": 111,\n\t\"./pt-br\": 112,\n\t\"./pt-br.js\": 112,\n\t\"./pt.js\": 111,\n\t\"./ro\": 113,\n\t\"./ro.js\": 113,\n\t\"./ru\": 114,\n\t\"./ru.js\": 114,\n\t\"./sd\": 115,\n\t\"./sd.js\": 115,\n\t\"./se\": 116,\n\t\"./se.js\": 116,\n\t\"./si\": 117,\n\t\"./si.js\": 117,\n\t\"./sk\": 118,\n\t\"./sk.js\": 118,\n\t\"./sl\": 119,\n\t\"./sl.js\": 119,\n\t\"./sq\": 120,\n\t\"./sq.js\": 120,\n\t\"./sr\": 121,\n\t\"./sr-cyrl\": 122,\n\t\"./sr-cyrl.js\": 122,\n\t\"./sr.js\": 121,\n\t\"./ss\": 123,\n\t\"./ss.js\": 123,\n\t\"./sv\": 124,\n\t\"./sv.js\": 124,\n\t\"./sw\": 125,\n\t\"./sw.js\": 125,\n\t\"./ta\": 126,\n\t\"./ta.js\": 126,\n\t\"./te\": 127,\n\t\"./te.js\": 127,\n\t\"./tet\": 128,\n\t\"./tet.js\": 128,\n\t\"./tg\": 129,\n\t\"./tg.js\": 129,\n\t\"./th\": 130,\n\t\"./th.js\": 130,\n\t\"./tk\": 131,\n\t\"./tk.js\": 131,\n\t\"./tl-ph\": 132,\n\t\"./tl-ph.js\": 132,\n\t\"./tlh\": 133,\n\t\"./tlh.js\": 133,\n\t\"./tr\": 134,\n\t\"./tr.js\": 134,\n\t\"./tzl\": 135,\n\t\"./tzl.js\": 135,\n\t\"./tzm\": 136,\n\t\"./tzm-latn\": 137,\n\t\"./tzm-latn.js\": 137,\n\t\"./tzm.js\": 136,\n\t\"./ug-cn\": 138,\n\t\"./ug-cn.js\": 138,\n\t\"./uk\": 139,\n\t\"./uk.js\": 139,\n\t\"./ur\": 140,\n\t\"./ur.js\": 140,\n\t\"./uz\": 141,\n\t\"./uz-latn\": 142,\n\t\"./uz-latn.js\": 142,\n\t\"./uz.js\": 141,\n\t\"./vi\": 143,\n\t\"./vi.js\": 143,\n\t\"./x-pseudo\": 144,\n\t\"./x-pseudo.js\": 144,\n\t\"./yo\": 145,\n\t\"./yo.js\": 145,\n\t\"./zh-cn\": 146,\n\t\"./zh-cn.js\": 146,\n\t\"./zh-hk\": 147,\n\t\"./zh-hk.js\": 147,\n\t\"./zh-mo\": 148,\n\t\"./zh-mo.js\": 148,\n\t\"./zh-tw\": 149,\n\t\"./zh-tw.js\": 149\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 172;","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import moment from \"moment\";\n\ndeclare const ns;\n\n/**\n * till will make sure the frontend\n * time remain in sync or almost with\n * the backend date\n */\nns.date.moment          =   moment( ns.date.current );\n\n/**\n * define the interval that will\n * increate the value of the date\n * locally\n * @param {Interval} interval\n */\nns.date.interval        =   setInterval( () => {\n    ns.date.moment.add( 1, 'seconds' );\n}, 1000 );","<script>\nimport FormValidation from '../../libraries/form-validation';\nimport { nsSnackBar, nsHttpClient } from '../../bootstrap';\nexport default {\n    name: 'ns-rewards-system',\n    mounted() {\n        this.loadForm();\n        console.log( this.rules );\n    },\n    data: () => {\n        return {\n            formValidation: new FormValidation,\n            form: {},\n            nsSnackBar,\n            nsHttpClient,\n        }\n    },\n    props: [ 'submit-method', 'submit-url', 'return-url', 'src', 'rules' ],\n    methods: {\n        submit() {\n            if ( this.form.rules.length === 0 ) {\n                return nsSnackBar.error( this.$slots[ 'error-no-rules' ] ? this.$slots[ 'error-no-rules' ] : 'No error message is defined when no rules is provided' )\n                    .subscribe();\n            }\n\n            if ( this.form.rules.filter( rule => {\n                return rule.filter( field => ! field.value && field.type !== 'hidden' ).length > 0;\n            }).length > 0 ) {\n                return nsSnackBar.error( this.$slots[ 'error-no-valid-rules' ] ? this.$slots[ 'error-no-valid-rules' ] : 'No error message is defined when no valid rules is provided' )\n                    .subscribe();\n            }\n\n            if ( this.formValidation.validateForm( this.form ).length > 0 ) {\n                return nsSnackBar.error( this.$slots[ 'error-invalid-form' ] ? this.$slots[ 'error-invalid-form' ][0].text : 'No error message provided for having an invalid form.', this.$slots[ 'okay' ] ? this.$slots[ 'okay' ][0].text : 'OK' )\n                    .subscribe();\n            }\n\n            this.formValidation.disableForm( this.form );\n\n            if ( this.submitUrl === undefined ) {\n                return nsSnackBar.error( this.$slots[ 'error-no-submit-url' ] ? this.$slots[ 'error-no-submit-url' ][0].text : 'No error message provided for not having a valid submit url.', this.$slots[ 'okay' ] ? this.$slots[ 'okay' ][0].text : 'OK' )\n                    .subscribe();\n            }\n\n            const data  =   {\n                ...this.formValidation.extractForm( this.form ),\n                rules: this.form.rules.map( rule => {\n                    const fieldSet    =   {};\n                    \n                    rule.forEach( f => {\n                        fieldSet[ f.name ]  =   f.value;\n                    });\n\n                    return fieldSet;\n                })\n            }\n\n            nsHttpClient[ this.submitMethod ? this.submitMethod.toLowerCase() : 'post' ]( this.submitUrl, data )\n                .subscribe( data => {\n                    if ( data.status === 'success' ) {\n                        return document.location   =   this.returnUrl;\n                    }\n                    this.formValidation.enableForm( this.form );\n                }, ( error ) => {\n                    nsSnackBar.error( error.data.message, undefined, {\n                        duration: 5000\n                    }).subscribe();\n                    this.formValidation.triggerError( this.form, error.response.data );\n                    this.formValidation.enableForm( this.form );\n                })\n        },\n        handleGlobalChange( event ) {\n            this.globallyChecked    =   event;\n            this.rows.forEach( r => r.$checked = event );\n        },\n        loadForm() {\n            const request   =   nsHttpClient.get( `${this.src}` );\n            request.subscribe( f => {\n                this.form    =   this.parseForm( f.form );\n            });\n        },\n        parseForm( form ) {\n            form.main.value     =   form.main.value === undefined ? '' : form.main.value;\n            form.main           =   this.formValidation.createFields([ form.main ])[0];\n            let index           =   0;\n\n            console.log( form );\n\n            for( let key in form.tabs ) {\n                if ( index === 0 ) {\n                    form.tabs[ key ].active  =   true;\n                }\n\n                form.tabs[ key ].active     =   form.tabs[ key ].active === undefined ? false : form.tabs[ key ].active;\n                form.tabs[ key ].fields     =   this.formValidation.createFields( form.tabs[ key ].fields );\n\n                index++;\n            }\n\n            return form;\n        },\n        getRuleForm() {\n            return this.form.ruleForm;\n        },\n        addRule() {\n            this.form.rules.push( this.getRuleForm() );\n        },\n        removeRule( index ) {\n            this.form.rules.splice( index, 1 );\n        }\n    }\n}\n</script>\n<template>\n    <div class=\"form flex-auto flex flex-col\" id=\"crud-form\">\n        <div v-if=\"Object.values( form ).length === 0\" class=\"flex items-center justify-center flex-auto\">\n            <ns-spinner/>\n        </div>\n        <template v-if=\"Object.values( form ).length > 0\">\n            <div class=\"flex flex-col\">\n                <div class=\"flex justify-between items-center\">\n                    <label for=\"title\" class=\"font-bold my-2 text-gray-700\"><slot name=\"title\">No title Provided</slot></label>\n                    <div for=\"title\" class=\"text-sm my-2 text-gray-700\">\n                        <a v-if=\"returnUrl\" :href=\"returnUrl\" class=\"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1\">Return</a>\n                    </div>\n                </div>\n                <div :class=\"form.main.disabled ? 'border-gray-500' : form.main.errors.length > 0 ? 'border-red-600' : 'border-blue-500'\" class=\"flex border-2 rounded overflow-hidden\">\n                    <input v-model=\"form.main.value\" \n                        @blur=\"formValidation.checkField( form.main )\" \n                        @change=\"formValidation.checkField( form.main )\" \n                        :disabled=\"form.main.disabled\"\n                        type=\"text\" \n                        :class=\"form.main.disabled ? 'bg-gray-400' : ''\"\n                        class=\"flex-auto text-gray-700 outline-none h-10 px-2\">\n                    <button :disabled=\"form.main.disabled\" :class=\"form.main.disabled ? 'bg-gray-500' : form.main.errors.length > 0 ? 'bg-red-500' : 'bg-blue-500'\" @click=\"submit()\" class=\"outline-none px-4 h-10 text-white border-l border-gray-400\"><slot name=\"save\">Save</slot></button>\n                </div>\n                <p class=\"text-xs text-gray-600 py-1\" v-if=\"form.main.description && form.main.errors.length === 0\">{{ form.main.description }}</p>\n                <p class=\"text-xs py-1 text-red-500\" v-bind:key=\"index\" v-for=\"(error, index) of form.main.errors\">\n                    <span><slot name=\"error-required\">{{ error.identifier }}</slot></span>\n                </p>\n            </div>\n            <div id=\"points-wrapper\" class=\"flex -mx-4 mt-4\">\n                <div class=\"w-full md:w-1/3 lg:1/4 px-4\">\n                    <div class=\"bg-white rounded shadow\">\n                        <div class=\"header border-b border-gray-200 p-2\">General</div>\n                        <div class=\"body p-2\">\n                            <ns-field class=\"mb-2\" v-bind:key=\"index\" :field=\"field\" v-for=\"(field,index) of form.tabs.general.fields\"></ns-field>\n                        </div>\n                    </div>\n                    <div class=\"rounded bg-gray-100 border border-gray-400 p-2 flex justify-between items-center my-3\">\n                        <slot name=\"add\"><span class=\"text-gray-700\">Add Rule</span></slot>\n                        <button @click=\"addRule()\" class=\"rounded bg-blue-500 text-white font-semibold flex items-center justify-center h-10 w-10\">\n                            <i class=\"las la-plus\"></i>\n                        </button>\n                    </div>\n                </div>\n                <div class=\"w-full md:w-2/3 lg:3/4 px-4 -m-3 flex flex-wrap items-start justify-start\">\n                    <div class=\"w-full md:w-1/2 p-3\" v-bind:key=\"index\" v-for=\"(rule,index) of form.rules\">\n                        <div class=\"rounded shadow bg-white flex-auto\">\n                            <div class=\"body p-2\">\n                                <ns-field class=\"mb-2\" :field=\"field\" v-bind:key=\"fieldIndex\" v-for=\"(field,fieldIndex) of rule\"></ns-field>\n                            </div>\n                            <div class=\"header border-t border-gray-200 p-2 flex justify-end\">\n                                <ns-button @click=\"removeRule(index)\" type=\"danger\">\n                                    <i class=\"las la-times\"></i>\n                                </ns-button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </template>\n    </div>\n</template>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rewards-system.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rewards-system.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rewards-system.vue?vue&type=template&id=e668020a&\"\nimport script from \"./rewards-system.vue?vue&type=script&lang=js&\"\nexport * from \"./rewards-system.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form flex-auto flex flex-col\",attrs:{\"id\":\"crud-form\"}},[(Object.values( _vm.form ).length === 0)?_c('div',{staticClass:\"flex items-center justify-center flex-auto\"},[_c('ns-spinner')],1):_vm._e(),_vm._v(\" \"),(Object.values( _vm.form ).length > 0)?[_c('div',{staticClass:\"flex flex-col\"},[_c('div',{staticClass:\"flex justify-between items-center\"},[_c('label',{staticClass:\"font-bold my-2 text-gray-700\",attrs:{\"for\":\"title\"}},[_vm._t(\"title\",[_vm._v(\"No title Provided\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"text-sm my-2 text-gray-700\",attrs:{\"for\":\"title\"}},[(_vm.returnUrl)?_c('a',{staticClass:\"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1\",attrs:{\"href\":_vm.returnUrl}},[_vm._v(\"Return\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"flex border-2 rounded overflow-hidden\",class:_vm.form.main.disabled ? 'border-gray-500' : _vm.form.main.errors.length > 0 ? 'border-red-600' : 'border-blue-500'},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.main.value),expression:\"form.main.value\"}],staticClass:\"flex-auto text-gray-700 outline-none h-10 px-2\",class:_vm.form.main.disabled ? 'bg-gray-400' : '',attrs:{\"disabled\":_vm.form.main.disabled,\"type\":\"text\"},domProps:{\"value\":(_vm.form.main.value)},on:{\"blur\":function($event){return _vm.formValidation.checkField( _vm.form.main )},\"change\":function($event){return _vm.formValidation.checkField( _vm.form.main )},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.main, \"value\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{staticClass:\"outline-none px-4 h-10 text-white border-l border-gray-400\",class:_vm.form.main.disabled ? 'bg-gray-500' : _vm.form.main.errors.length > 0 ? 'bg-red-500' : 'bg-blue-500',attrs:{\"disabled\":_vm.form.main.disabled},on:{\"click\":function($event){return _vm.submit()}}},[_vm._t(\"save\",[_vm._v(\"Save\")])],2)]),_vm._v(\" \"),(_vm.form.main.description && _vm.form.main.errors.length === 0)?_c('p',{staticClass:\"text-xs text-gray-600 py-1\"},[_vm._v(_vm._s(_vm.form.main.description))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.form.main.errors),function(error,index){return _c('p',{key:index,staticClass:\"text-xs py-1 text-red-500\"},[_c('span',[_vm._t(\"error-required\",[_vm._v(_vm._s(error.identifier))])],2)])})],2),_vm._v(\" \"),_c('div',{staticClass:\"flex -mx-4 mt-4\",attrs:{\"id\":\"points-wrapper\"}},[_c('div',{staticClass:\"w-full md:w-1/3 lg:1/4 px-4\"},[_c('div',{staticClass:\"bg-white rounded shadow\"},[_c('div',{staticClass:\"header border-b border-gray-200 p-2\"},[_vm._v(\"General\")]),_vm._v(\" \"),_c('div',{staticClass:\"body p-2\"},_vm._l((_vm.form.tabs.general.fields),function(field,index){return _c('ns-field',{key:index,staticClass:\"mb-2\",attrs:{\"field\":field}})}),1)]),_vm._v(\" \"),_c('div',{staticClass:\"rounded bg-gray-100 border border-gray-400 p-2 flex justify-between items-center my-3\"},[_vm._t(\"add\",[_c('span',{staticClass:\"text-gray-700\"},[_vm._v(\"Add Rule\")])]),_vm._v(\" \"),_c('button',{staticClass:\"rounded bg-blue-500 text-white font-semibold flex items-center justify-center h-10 w-10\",on:{\"click\":function($event){return _vm.addRule()}}},[_c('i',{staticClass:\"las la-plus\"})])],2)]),_vm._v(\" \"),_c('div',{staticClass:\"w-full md:w-2/3 lg:3/4 px-4 -m-3 flex flex-wrap items-start justify-start\"},_vm._l((_vm.form.rules),function(rule,index){return _c('div',{key:index,staticClass:\"w-full md:w-1/2 p-3\"},[_c('div',{staticClass:\"rounded shadow bg-white flex-auto\"},[_c('div',{staticClass:\"body p-2\"},_vm._l((rule),function(field,fieldIndex){return _c('ns-field',{key:fieldIndex,staticClass:\"mb-2\",attrs:{\"field\":field}})}),1),_vm._v(\" \"),_c('div',{staticClass:\"header border-t border-gray-200 p-2 flex justify-end\"},[_c('ns-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.removeRule(index)}}},[_c('i',{staticClass:\"las la-times\"})])],1)])])}),0)])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport FormValidation from '../../libraries/form-validation';\nimport { Subject, BehaviorSubject } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport { nsSnackBar, nsHttpClient } from '../../bootstrap';\nexport default { \n    name: 'ns-create-coupons',\n    mounted() {\n        this.loadForm();\n        // this.optionsSubject     =   new BehaviorSubject( this.options );\n    },\n    computed: {\n        validTabs() {\n            if ( this.form ) {\n                const tabs  =   [];\n                for( let tab in this.form.tabs ) {\n                    if ([ 'selected_products', 'selected_categories' ].includes( tab ) ) {\n                        tabs.push( this.form.tabs[ tab ] );\n                    }\n                }\n                return tabs;\n            }\n            return [];\n        },\n        activeValidTab() {\n            return this.validTabs.filter( tab => tab.active )[0];\n        },\n        generalTab() {\n            const tabs  =   [];\n            for( let tab in this.form.tabs ) {\n                if ([ 'general' ].includes( tab ) ) {\n                    tabs.push( this.form.tabs[ tab ] );\n                }\n            }\n            return tabs;\n        }\n    },\n    data() {\n        return {\n            formValidation: new FormValidation,\n            form: {},\n            nsSnackBar,\n            nsHttpClient,\n            // optionsSubject: null,\n            options: (new Array(40)).fill('').map( ( a, index ) =>  {\n                return {\n                    label: 'Foo' + index,\n                    value: 'bar' + index\n                }\n            })\n        }\n    },\n    props: [ 'submit-method', 'submit-url', 'return-url', 'src', 'rules' ],\n    methods: {\n        setTabActive( tab ) {\n            this.validTabs.forEach( tab => tab.active = false );\n            tab.active  =   true;\n        },\n        submit() {\n            if ( this.formValidation.validateForm( this.form ).length > 0 ) {\n                return nsSnackBar.error( this.$slots[ 'error-invalid-form' ] ? this.$slots[ 'error-invalid-form' ][0].text : 'No error message provided for having an invalid form.', this.$slots[ 'okay' ] ? this.$slots[ 'okay' ][0].text : 'OK' )\n                    .subscribe();\n            }\n\n            if ( this.submitUrl === undefined ) {\n                return nsSnackBar.error( this.$slots[ 'error-no-submit-url' ] ? this.$slots[ 'error-no-submit-url' ][0].text : 'No error message provided for not having a valid submit url.', this.$slots[ 'okay' ] ? this.$slots[ 'okay' ][0].text : 'OK' )\n                    .subscribe();\n            }\n\n            this.formValidation.disableForm( this.form );\n\n            const data  =   {\n                ...this.formValidation.extractForm( this.form ),\n            }\n\n            nsHttpClient[ this.submitMethod ? this.submitMethod.toLowerCase() : 'post' ]( this.submitUrl, data )\n                .subscribe( data => {\n                    if ( data.status === 'success' ) {\n                        return document.location   =   this.returnUrl;\n                    }\n                    this.formValidation.enableForm( this.form );\n                }, ( error ) => {\n                    nsSnackBar.error( error.message, undefined, {\n                        duration: 5000\n                    }).subscribe();\n                    this.formValidation.triggerError( this.form, error.response.data );\n                    this.formValidation.enableForm( this.form );\n                })\n        },\n        handleGlobalChange( event ) {\n            this.globallyChecked    =   event;\n            this.rows.forEach( r => r.$checked = event );\n        },\n        loadForm() {\n            const request   =   nsHttpClient.get( `${this.src}` );\n            request.subscribe( f => {\n                this.form    =   this.parseForm( f.form );\n            });\n        },\n        parseForm( form ) {\n            form.main.value     =   form.main.value === undefined ? '' : form.main.value;\n            form.main           =   this.formValidation.createFields([ form.main ])[0];\n            let index           =   0;\n\n            for( let key in form.tabs ) {\n                if ( index === 1 && form.tabs[ key ].active === undefined ) {\n                    form.tabs[ key ].active  =   true;\n                }\n\n                form.tabs[ key ].active     =   form.tabs[ key ].active === undefined ? false : form.tabs[ key ].active;\n                form.tabs[ key ].fields     =   this.formValidation.createFields( form.tabs[ key ].fields );\n\n                index++;\n            }\n\n            return form;\n        },\n        addOption( option ) {\n            const index     =   this.options.indexOf( option );\n\n            if ( index >= 0 ) {\n                this.options[ index ].selected  =   !this.options[ index ].selected;\n            }\n        },\n        removeOption({ option, index }) {\n            option.selected     =   false;\n        },  \n        getRuleForm() {\n            return this.form.ruleForm;\n        },\n        addRule() {\n            this.form.rules.push( this.getRuleForm() );\n        },\n        removeRule( index ) {\n            this.form.rules.splice( index, 1 );\n        }\n    }\n}\n</script>\n<template>\n    <div class=\"form flex-auto flex flex-col\" id=\"crud-form\">\n        <div v-if=\"Object.values( form ).length === 0\" class=\"flex items-center justify-center flex-auto\">\n            <ns-spinner/>\n        </div>\n        <template v-if=\"Object.values( form ).length > 0\">\n            <div class=\"flex flex-col\">\n                <div class=\"flex justify-between items-center\">\n                    <label for=\"title\" class=\"font-bold my-2 text-gray-700\"><slot name=\"title\">No title Provided</slot></label>\n                    <div for=\"title\" class=\"text-sm my-2 text-gray-700\">\n                        <a v-if=\"returnUrl\" :href=\"returnUrl\" class=\"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1\">Return</a>\n                    </div>\n                </div>\n                <div :class=\"form.main.disabled ? 'border-gray-500' : form.main.errors.length > 0 ? 'border-red-600' : 'border-blue-500'\" class=\"flex border-2 rounded overflow-hidden\">\n                    <input v-model=\"form.main.value\" \n                        @blur=\"formValidation.checkField( form.main )\" \n                        @change=\"formValidation.checkField( form.main )\" \n                        :disabled=\"form.main.disabled\"\n                        type=\"text\" \n                        :class=\"form.main.disabled ? 'bg-gray-400' : ''\"\n                        class=\"flex-auto text-gray-700 outline-none h-10 px-2\">\n                    <button :disabled=\"form.main.disabled\" :class=\"form.main.disabled ? 'bg-gray-500' : form.main.errors.length > 0 ? 'bg-red-500' : 'bg-blue-500'\" @click=\"submit()\" class=\"outline-none px-4 h-10 text-white border-l border-gray-400\"><slot name=\"save\">Save</slot></button>\n                </div>\n                <p class=\"text-xs text-gray-600 py-1\" v-if=\"form.main.description && form.main.errors.length === 0\">{{ form.main.description }}</p>\n                <p class=\"text-xs py-1 text-red-500\" v-bind:key=\"index\" v-for=\"(error, index) of form.main.errors\">\n                    <span><slot name=\"error-required\">{{ error.identifier }}</slot></span>\n                </p>\n            </div>\n            <div id=\"form-container\" class=\"-mx-4 flex flex-wrap mt-4\">\n                <div class=\"px-4 w-full md:w-1/2\">\n                    <div class=\"rounded bg-white shadow p-2\" v-bind:key=\"index\" v-for=\"( tab, index) of generalTab\">\n                        <ns-field v-bind:key=\"index\" v-for=\"( field, index ) of tab.fields\" :field=\"field\"></ns-field>\n                    </div>\n                </div>\n                <div class=\"px-4 w-full md:w-1/2\">\n                    <div id=\"tabbed-card\">\n                        <div id=\"card-header\" class=\"flex flex-wrap\">\n                            <div @click=\"setTabActive( tab )\" :class=\"tab.active ? 'bg-white' : 'bg-gray-100'\" v-for=\"( tab, index ) of validTabs\" v-bind:key=\"index\" class=\"cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg\">\n                                {{ tab.label }}\n                            </div>\n                        </div>\n                        <div class=\"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2\">\n                            <div class=\"flex flex-col\" v-bind:key=\"index\" v-for=\"( field, index ) of activeValidTab.fields\">\n                                <label for=\"\" class=\"font-medium text-gray-700 pb-1\">{{ field.label }}</label>\n                                <ns-field  :field=\"field\"></ns-field>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </template>\n    </div>\n</template>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create-coupons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create-coupons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create-coupons.vue?vue&type=template&id=09f522eb&\"\nimport script from \"./create-coupons.vue?vue&type=script&lang=js&\"\nexport * from \"./create-coupons.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form flex-auto flex flex-col\",attrs:{\"id\":\"crud-form\"}},[(Object.values( _vm.form ).length === 0)?_c('div',{staticClass:\"flex items-center justify-center flex-auto\"},[_c('ns-spinner')],1):_vm._e(),_vm._v(\" \"),(Object.values( _vm.form ).length > 0)?[_c('div',{staticClass:\"flex flex-col\"},[_c('div',{staticClass:\"flex justify-between items-center\"},[_c('label',{staticClass:\"font-bold my-2 text-gray-700\",attrs:{\"for\":\"title\"}},[_vm._t(\"title\",[_vm._v(\"No title Provided\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"text-sm my-2 text-gray-700\",attrs:{\"for\":\"title\"}},[(_vm.returnUrl)?_c('a',{staticClass:\"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1\",attrs:{\"href\":_vm.returnUrl}},[_vm._v(\"Return\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"flex border-2 rounded overflow-hidden\",class:_vm.form.main.disabled ? 'border-gray-500' : _vm.form.main.errors.length > 0 ? 'border-red-600' : 'border-blue-500'},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.main.value),expression:\"form.main.value\"}],staticClass:\"flex-auto text-gray-700 outline-none h-10 px-2\",class:_vm.form.main.disabled ? 'bg-gray-400' : '',attrs:{\"disabled\":_vm.form.main.disabled,\"type\":\"text\"},domProps:{\"value\":(_vm.form.main.value)},on:{\"blur\":function($event){return _vm.formValidation.checkField( _vm.form.main )},\"change\":function($event){return _vm.formValidation.checkField( _vm.form.main )},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.main, \"value\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{staticClass:\"outline-none px-4 h-10 text-white border-l border-gray-400\",class:_vm.form.main.disabled ? 'bg-gray-500' : _vm.form.main.errors.length > 0 ? 'bg-red-500' : 'bg-blue-500',attrs:{\"disabled\":_vm.form.main.disabled},on:{\"click\":function($event){return _vm.submit()}}},[_vm._t(\"save\",[_vm._v(\"Save\")])],2)]),_vm._v(\" \"),(_vm.form.main.description && _vm.form.main.errors.length === 0)?_c('p',{staticClass:\"text-xs text-gray-600 py-1\"},[_vm._v(_vm._s(_vm.form.main.description))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.form.main.errors),function(error,index){return _c('p',{key:index,staticClass:\"text-xs py-1 text-red-500\"},[_c('span',[_vm._t(\"error-required\",[_vm._v(_vm._s(error.identifier))])],2)])})],2),_vm._v(\" \"),_c('div',{staticClass:\"-mx-4 flex flex-wrap mt-4\",attrs:{\"id\":\"form-container\"}},[_c('div',{staticClass:\"px-4 w-full md:w-1/2\"},_vm._l((_vm.generalTab),function(tab,index){return _c('div',{key:index,staticClass:\"rounded bg-white shadow p-2\"},_vm._l((tab.fields),function(field,index){return _c('ns-field',{key:index,attrs:{\"field\":field}})}),1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"px-4 w-full md:w-1/2\"},[_c('div',{attrs:{\"id\":\"tabbed-card\"}},[_c('div',{staticClass:\"flex flex-wrap\",attrs:{\"id\":\"card-header\"}},_vm._l((_vm.validTabs),function(tab,index){return _c('div',{key:index,staticClass:\"cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg\",class:tab.active ? 'bg-white' : 'bg-gray-100',on:{\"click\":function($event){return _vm.setTabActive( tab )}}},[_vm._v(\"\\n                            \"+_vm._s(tab.label)+\"\\n                        \")])}),0),_vm._v(\" \"),_c('div',{staticClass:\"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2\"},_vm._l((_vm.activeValidTab.fields),function(field,index){return _c('div',{key:index,staticClass:\"flex flex-col\"},[_c('label',{staticClass:\"font-medium text-gray-700 pb-1\",attrs:{\"for\":\"\"}},[_vm._v(_vm._s(field.label))]),_vm._v(\" \"),_c('ns-field',{attrs:{\"field\":field}})],1)}),0)])])])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n    <div class=\"form flex-auto\" id=\"crud-form\">\n        <div v-if=\"Object.values( form ).length === 0\" class=\"flex items-center h-full justify-center flex-auto\">\n            <ns-spinner/>\n        </div>\n        <template v-if=\"Object.values( form ).length > 0\">\n            <div class=\"flex flex-col\">\n                <div class=\"flex justify-between items-center\">\n                    <label for=\"title\" class=\"font-bold my-2 text-gray-700\">{{ form.main.label }}</label>\n                    <div for=\"title\" class=\"text-sm my-2 text-gray-700\">\n                        <a v-if=\"returnUrl\" :href=\"returnUrl\" class=\"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1\">Return</a>\n                    </div>\n                </div>\n                <div :class=\"form.main.disabled ? 'border-gray-500' : form.main.errors.length > 0 ? 'border-red-600' : 'border-blue-500'\" class=\"flex border-2 rounded overflow-hidden\">\n                    <input v-model=\"form.main.value\" \n                        @blur=\"formValidation.checkField( form.main )\" \n                        @change=\"formValidation.checkField( form.main )\" \n                        :disabled=\"form.main.disabled\"\n                        type=\"text\" \n                        :class=\"form.main.disabled ? 'bg-gray-400' : ''\"\n                        class=\"flex-auto text-gray-700 outline-none h-10 px-2\">\n                    <button :disabled=\"form.main.disabled\" :class=\"form.main.disabled ? 'bg-gray-500' : form.main.errors.length > 0 ? 'bg-red-500' : 'bg-blue-500'\" @click=\"submit()\" class=\"outline-none px-4 h-10 text-white border-l border-gray-400\"><slot name=\"save\">Save</slot></button>\n                </div>\n                <p class=\"text-xs text-gray-600 py-1\" v-if=\"form.main.description && form.main.errors.length === 0\">{{ form.main.description }}</p>\n                <p class=\"text-xs py-1 text-red-500\" v-bind:key=\"index\" v-for=\"(error, index) of form.main.errors\">\n                    <span><slot name=\"error-required\">{{ error.identifier }}</slot></span>\n                </p>\n            </div>\n            <div id=\"form-container\" class=\"-mx-4 flex flex-wrap mt-4\">\n                <div class=\"px-4 w-full\">\n                    <div id=\"tabbed-card\" class=\"mb-8\" :key=\"variation_index\" v-for=\"(variation, variation_index) of form.variations\">\n                        <div id=\"card-header\" class=\"flex flex-wrap justify-between\">\n                            <div class=\"flex flex-wrap\">\n                                <div @click=\"setTabActive( index, variation.tabs )\" :class=\"tab.active ? 'bg-white' : 'bg-gray-100'\" v-for=\"( tab, index ) in variation.tabs\" v-bind:key=\"index\" class=\"cursor-pointer text-gray-700 px-4 py-2 rounded-tl-lg rounded-tr-lg flex justify-between\">\n                                    <span class=\"block mr-2\">{{ tab.label }}</span>\n                                    <span v-if=\"tab.errors && tab.errors.length > 0\" class=\"rounded-full bg-red-400 text-white h-6 w-6 flex font-semibold items-center justify-center\">{{ tab.errors.length }}</span>\n                                </div>\n                            </div>\n                            <div class=\"flex items-center justify-center -mx-1\">\n                                <!-- <div class=\"px-1\" v-if=\"form.variations.length > 1 && variation_index > 0\">\n                                    <button @click=\"deleteVariation( variation_index )\" class=\"rounded-full h-8 w-8 flex items-center justify-center bg-red-400 text-white\">\n                                        <i class=\"las la-times\"></i>\n                                    </button>\n                                </div>\n                                <div class=\"px-1\">\n                                    <button @click=\"newVariation()\" class=\"rounded-full h-8 w-8 flex items-center justify-center bg-green-400 text-white\">\n                                        <i class=\"las la-plus\"></i>\n                                    </button>\n                                </div>\n                                <div class=\"px-1\">\n                                    <button @click=\"duplicate( variation )\" class=\"rounded-full h-8 w-8 flex items-center justify-center bg-blue-400 text-white\">\n                                        <i class=\"las la-copy\"></i>\n                                    </button>\n                                </div> -->\n                            </div>\n                        </div>\n                        <div class=\"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2\">\n                            <div class=\"-mx-4 flex flex-wrap\" v-if=\"getActiveTabKey( variation.tabs ) !== 'images'\">\n                                <template v-for=\"( field, index ) of getActiveTab( variation.tabs ).fields\">\n                                    <div :key=\"index\" class=\"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3\">\n                                        <ns-field @change=\"detectChange( variation_index, $event )\" :field=\"field\"></ns-field>\n                                    </div>\n                                </template>\n                            </div>\n                            <div class=\"-mx-4 flex flex-wrap\" v-if=\"getActiveTabKey( variation.tabs ) === 'images'\">\n                                <div class=\"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3\">\n                                    <div class=\"rounded border flex bg-white justify-between p-2 items-center\">\n                                        <span>Add Images</span>\n                                        <button @click=\"addImage( variation )\" class=\"rounded-full border flex items-center justify-center w-8 h-8 bg-white hover:bg-blue-400 hover:text-white\">\n                                            <i class=\"las la-plus-circle\"></i>\n                                        </button>\n                                    </div>\n                                </div>\n                                <div\n                                    :key=\"index\" \n                                    v-for=\"( group, index ) of getActiveTab( variation.tabs ).groups\" \n                                    class=\"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3 mb-4\">\n                                    <div class=\"rounded border flex flex-col bg-white p-2\">\n                                        <ns-field :key=\"index\" v-for=\"(field, index) of group\" :field=\"field\"></ns-field>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </template>\n    </div>\n</template>\n<script>\nimport FormValidation from '../../libraries/form-validation'\nimport { nsSnackBar, nsHttpClient } from '../../bootstrap';\n\nexport default {\n    data: () => {\n        return {\n            formValidation: new FormValidation,\n            nsSnackBar,\n            nsHttpClient,\n            _sampleVariation: null,\n            form: '',\n        }\n    },\n    computed: {\n        defaultVariation() {\n            const newVariation     =   new Object;\n\n            for( let tabIndex in this._sampleVariation.tabs ) {\n                newVariation[ tabIndex ]            =   new Object;\n                newVariation[ tabIndex ].label      =   this._sampleVariation.tabs[ tabIndex ].label;\n                newVariation[ tabIndex ].active     =   this._sampleVariation.tabs[ tabIndex ].active;\n                newVariation[ tabIndex ].fields     =   this._sampleVariation.tabs[ tabIndex ].fields\n                    .filter( field => {\n                        console.log( field );\n                        return ! [ 'category_id', 'product_type', 'stock_management', 'expires' ].includes( field.name );\n                    })\n                    .map( field => {\n                    field.value     =   '';\n                    return field;\n                });\n            }\n\n            return {\n                id: '',\n                tabs: newVariation\n            };\n        }\n    },  \n    props: [ 'submit-method', 'submit-url', 'return-url', 'src', 'units-url' ],\n    methods: {\n        detectChange( variation_index, field ) {\n            if ( [ 'unit_group' ].includes( field.name ) ) {\n                switch( field.name ) {\n                    case 'unit_group' :\n                        this.loadOptionsFor( 'purchase_unit_ids', field.value, variation_index );\n                        this.loadOptionsFor( 'transfer_unit_ids', field.value, variation_index );\n                        this.loadOptionsFor( 'selling_unit_ids', field.value, variation_index );\n                    break;\n                }\n            }\n        },\n        loadOptionsFor( fieldName, value, variation_index ) {\n            nsHttpClient.get( this.unitsUrl.replace( '{id}', value ) )\n                .subscribe( result => {\n                    this.form.variations[ variation_index ].tabs.units.fields.forEach( _field => {\n                        if ( _field.name === fieldName ) {\n                            _field.options    =   result.map( option => {\n                                return {\n                                    label: option.name,\n                                    value: option.id,\n                                    selected: false,\n                                };\n                            })\n                        }\n                    });\n                    this.$forceUpdate();\n                })\n        },\n        submit() {\n            let formValidGlobally   =   true;\n            this.formValidation.validateFields([ this.form.main ]); \n\n            const validity  =   this.form.variations.map( variation => {\n                return this.formValidation.validateForm( variation );\n            }).filter( v => v.length > 0 );\n\n            if ( validity.length > 0 || Object.values( this.form.main.errors ).length > 0 ) {\n                return nsSnackBar.error( this.$slots[ 'error-form-invalid' ] ? this.$slots[ 'error-form-invalid' ][0].text : 'No error has been provided for the slot \"error-form-invalid\"' ).subscribe();\n            }\n\n            /**\n             * If there are more than one\n             * primary image, we'll block the process\n             */\n            const images    =   this.form.variations.map( (v,i) => {\n                return v.tabs.images.groups.filter( fields => {\n                    return fields.filter( f => f.name === 'primary' && f.value === 1 ).length > 0;\n                });\n            })\n\n            if ( images[0] && images[0].length > 1 ) {\n                return nsSnackBar.error( this.$slots[ 'error-multiple-primary' ] ? this.$slots[ 'error-multiple-primary' ][0].text : 'No error has been provided for the slot \"error-multiple-primary\"' ).subscribe();\n            }\n\n            /**\n             * let's correctly extract \n             * the form before submitting that\n             */\n            const data  =   {\n                ...this.formValidation.extractForm( this.form ),\n                variations: this.form.variations.map( (v,i) => {\n                    const data  =   this.formValidation.extractForm( v );\n                    if ( i === 0 ) {\n                        data[ '$primary' ]  =   true;\n                    }\n\n                    data[ 'images' ]    =   v.tabs.images.groups.map( fields => {\n                        return this.formValidation.extractFields( fields );\n                    });\n\n                    return data;\n                })\n            }\n\n            nsHttpClient[ this.submitMethod ? this.submitMethod.toLowerCase() : 'post' ]( this.submitUrl, data )\n                .subscribe( data => {\n                    if ( data.status === 'success' ) {\n                        if ( this.returnUrl !== false ) {\n                            return document.location   =   this.returnUrl;\n                        }\n                        this.$emit( 'save' );\n                    }\n                    this.formValidation.enableForm( this.form );\n                }, ( error ) => {\n                    nsSnackBar.error( error.message, undefined, {\n                        duration: 5000\n                    }).subscribe();\n                    this.formValidation.triggerError( this.form, error.response.data );\n                    this.formValidation.enableForm( this.form );\n                })\n        },\n        deleteVariation( index ) {\n            if ( confirm( this.$slots[ 'delete-variation' ] ? this.$slots[ 'delete-variation' ][0].text : 'No error message provided with code \"delete-variation\"' ) ) {\n                this.form.variations.splice( index, 1 );\n            }\n        },\n        setTabActive( activeIndex, tabs ) {\n            for( let _index in tabs ) {\n                if ( _index !== activeIndex ) {\n                    tabs[ _index ].active    =   false;\n                }\n            }\n\n            tabs[ activeIndex ].active  =   true;\n        },  \n        duplicate( variation ) {\n            this.form.variations.push( Object.assign({}, variation ));\n        },\n        newVariation() {\n            this.form.variations.push( this.defaultVariation );\n        },\n        getActiveTab( tabs ) {\n            for( let key in tabs ) {\n                if ( tabs[ key ].active ) {\n                    return tabs[ key ];\n                }\n            }\n\n            return false;\n        }, \n        getActiveTabKey( tabs ) {\n            for( let key in tabs ) {\n                if ( tabs[ key ].active ) {\n                    return key;\n                }\n            }\n\n            return false;\n        },\n        parseForm( form ) {\n            form.main.value     =   form.main.value === undefined ? '' : form.main.value;\n            form.main           =   this.formValidation.createFields([ form.main ])[0];\n\n            form.variations.forEach( ( variation, _index ) => {\n                let index           =   0;\n                for( let key in variation.tabs ) {\n\n                    /**\n                     * here we need to explicitely remove the\n                     * name field as this is replaced by the top field.\n                     * We also save the default variation as that's used for variations\n                     */\n                    if ( index === 0 && variation.tabs[ key ].active === undefined ) {\n                        variation.tabs[ key ].active    =   true;\n                        this._sampleVariation           =   Object.assign({}, variation );\n                        if ( variation.tabs[ key ].fields ) {\n                            variation.tabs[ key ].fields    =   this.formValidation.createFields( variation.tabs[ key ].fields.filter( f => f.name !== 'name' ) );\n                        }\n                    } else {\n                        if ( variation.tabs[ key ].fields ) {\n                            variation.tabs[ key ].fields    =   this.formValidation.createFields( variation.tabs[ key ].fields );\n                        }\n                    }\n\n                    variation.tabs[ key ].active    =   variation.tabs[ key ].active === undefined ? false : variation.tabs[ key ].active;\n\n                    index++;\n                }\n            });\n\n            return form;\n        },\n        loadForm() {\n            const request   =   nsHttpClient.get( `${this.src}` );\n            request.subscribe( f => {\n                this.form    =   this.parseForm( f.form );\n            });\n        },\n\n        addImage( variation ) {\n            variation.tabs.images.groups.push(\n                this.formValidation.createFields( JSON.parse( JSON.stringify( variation.tabs.images.fields ) ) )\n            );\n        }\n    },\n    mounted() {\n        this.loadForm();\n    },\n    name: 'ns-manage-products',\n}\n</script>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manage-products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manage-products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manage-products.vue?vue&type=template&id=306855ec&\"\nimport script from \"./manage-products.vue?vue&type=script&lang=js&\"\nexport * from \"./manage-products.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form flex-auto\",attrs:{\"id\":\"crud-form\"}},[(Object.values( _vm.form ).length === 0)?_c('div',{staticClass:\"flex items-center h-full justify-center flex-auto\"},[_c('ns-spinner')],1):_vm._e(),_vm._v(\" \"),(Object.values( _vm.form ).length > 0)?[_c('div',{staticClass:\"flex flex-col\"},[_c('div',{staticClass:\"flex justify-between items-center\"},[_c('label',{staticClass:\"font-bold my-2 text-gray-700\",attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm.form.main.label))]),_vm._v(\" \"),_c('div',{staticClass:\"text-sm my-2 text-gray-700\",attrs:{\"for\":\"title\"}},[(_vm.returnUrl)?_c('a',{staticClass:\"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1\",attrs:{\"href\":_vm.returnUrl}},[_vm._v(\"Return\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"flex border-2 rounded overflow-hidden\",class:_vm.form.main.disabled ? 'border-gray-500' : _vm.form.main.errors.length > 0 ? 'border-red-600' : 'border-blue-500'},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.main.value),expression:\"form.main.value\"}],staticClass:\"flex-auto text-gray-700 outline-none h-10 px-2\",class:_vm.form.main.disabled ? 'bg-gray-400' : '',attrs:{\"disabled\":_vm.form.main.disabled,\"type\":\"text\"},domProps:{\"value\":(_vm.form.main.value)},on:{\"blur\":function($event){return _vm.formValidation.checkField( _vm.form.main )},\"change\":function($event){return _vm.formValidation.checkField( _vm.form.main )},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.main, \"value\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{staticClass:\"outline-none px-4 h-10 text-white border-l border-gray-400\",class:_vm.form.main.disabled ? 'bg-gray-500' : _vm.form.main.errors.length > 0 ? 'bg-red-500' : 'bg-blue-500',attrs:{\"disabled\":_vm.form.main.disabled},on:{\"click\":function($event){return _vm.submit()}}},[_vm._t(\"save\",[_vm._v(\"Save\")])],2)]),_vm._v(\" \"),(_vm.form.main.description && _vm.form.main.errors.length === 0)?_c('p',{staticClass:\"text-xs text-gray-600 py-1\"},[_vm._v(_vm._s(_vm.form.main.description))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.form.main.errors),function(error,index){return _c('p',{key:index,staticClass:\"text-xs py-1 text-red-500\"},[_c('span',[_vm._t(\"error-required\",[_vm._v(_vm._s(error.identifier))])],2)])})],2),_vm._v(\" \"),_c('div',{staticClass:\"-mx-4 flex flex-wrap mt-4\",attrs:{\"id\":\"form-container\"}},[_c('div',{staticClass:\"px-4 w-full\"},_vm._l((_vm.form.variations),function(variation,variation_index){return _c('div',{key:variation_index,staticClass:\"mb-8\",attrs:{\"id\":\"tabbed-card\"}},[_c('div',{staticClass:\"flex flex-wrap justify-between\",attrs:{\"id\":\"card-header\"}},[_c('div',{staticClass:\"flex flex-wrap\"},_vm._l((variation.tabs),function(tab,index){return _c('div',{key:index,staticClass:\"cursor-pointer text-gray-700 px-4 py-2 rounded-tl-lg rounded-tr-lg flex justify-between\",class:tab.active ? 'bg-white' : 'bg-gray-100',on:{\"click\":function($event){return _vm.setTabActive( index, variation.tabs )}}},[_c('span',{staticClass:\"block mr-2\"},[_vm._v(_vm._s(tab.label))]),_vm._v(\" \"),(tab.errors && tab.errors.length > 0)?_c('span',{staticClass:\"rounded-full bg-red-400 text-white h-6 w-6 flex font-semibold items-center justify-center\"},[_vm._v(_vm._s(tab.errors.length))]):_vm._e()])}),0),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-center -mx-1\"})]),_vm._v(\" \"),_c('div',{staticClass:\"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2\"},[(_vm.getActiveTabKey( variation.tabs ) !== 'images')?_c('div',{staticClass:\"-mx-4 flex flex-wrap\"},[_vm._l((_vm.getActiveTab( variation.tabs ).fields),function(field,index){return [_c('div',{key:index,staticClass:\"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3\"},[_c('ns-field',{attrs:{\"field\":field},on:{\"change\":function($event){return _vm.detectChange( variation_index, $event )}}})],1)]})],2):_vm._e(),_vm._v(\" \"),(_vm.getActiveTabKey( variation.tabs ) === 'images')?_c('div',{staticClass:\"-mx-4 flex flex-wrap\"},[_c('div',{staticClass:\"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3\"},[_c('div',{staticClass:\"rounded border flex bg-white justify-between p-2 items-center\"},[_c('span',[_vm._v(\"Add Images\")]),_vm._v(\" \"),_c('button',{staticClass:\"rounded-full border flex items-center justify-center w-8 h-8 bg-white hover:bg-blue-400 hover:text-white\",on:{\"click\":function($event){return _vm.addImage( variation )}}},[_c('i',{staticClass:\"las la-plus-circle\"})])])]),_vm._v(\" \"),_vm._l((_vm.getActiveTab( variation.tabs ).groups),function(group,index){return _c('div',{key:index,staticClass:\"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3 mb-4\"},[_c('div',{staticClass:\"rounded border flex flex-col bg-white p-2\"},_vm._l((group),function(field,index){return _c('ns-field',{key:index,attrs:{\"field\":field}})}),1)])})],2):_vm._e()])])}),0)])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings.vue?vue&type=script&lang=js&\"","<template>\n    <div id=\"tabbed-card\" v-if=\"formDefined\">\n        <div id=\"card-header\" class=\"flex flex-wrap\">\n            <div :class=\"tab.active ? 'bg-white' : 'bg-gray-300'\" @click=\"setActive( tab )\" v-bind:key=\"key\" v-for=\"( tab, key ) of form.tabs\" class=\"text-gray-700 cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg\">\n                {{ tab.label }}\n            </div>\n        </div>\n        <div class=\"card-body bg-white rounded-br-lg rounded-bl-lg shadow\">\n            <div class=\"-mx-4 flex flex-wrap p-2\">\n                <div class=\"w-full px-4 md:w-1/2 lg:w-1/3\" v-bind:key=\"index\" v-for=\"( field, index ) of activeTab.fields\">\n                    <div class=\"flex flex-col my-2\">\n                        <ns-field :field=\"field\"></ns-field>\n                    </div>\n                </div>\n            </div>\n            <div class=\"border-t border-gray-400 p-2 flex justify-end\">\n                <ns-button @click=\"submitForm()\" type=\"info\"><slot name=\"submit-button\">Save Settings</slot></ns-button>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { nsHttpClient, nsSnackBar } from '../../bootstrap';\nimport FormValidation from '../../libraries/form-validation';\n\nexport default {\n    name: 'ns-settings',\n    props: [ 'url' ],\n    data() {\n        return {\n            validation: new FormValidation,\n            form: {},\n            test: ''\n        }\n    },\n    computed: {\n        formDefined() {\n            return Object.values( this.form ).length > 0;\n        },\n        activeTab() {\n            for( let tab in this.form.tabs ) {\n                if ( this.form.tabs[ tab ].active === true ) {\n                    return this.form.tabs[ tab ];\n                }\n            }\n        }\n    },\n    mounted() {\n        this.loadSettingsForm();\n    },\n    methods: {\n        submitForm() {\n            if ( this.validation.validateForm( this.form ).length === 0 ) {\n                this.validation.disableForm( this.form );\n                return nsHttpClient.post( this.url, this.validation.extractForm( this.form ) )\n                    .subscribe( result => {\n                        this.validation.enableForm( this.form );\n                        this.loadSettingsForm();\n\n                        if ( result.data ) {\n                            result.data.forEach( response => {\n                                if ( response.status === 'failed' ) {\n                                    nsSnackBar.error( response.message ).subscribe();\n                                } else {\n                                    nsSnackBar.success( response.message ).subscribe();\n                                }\n                            });\n                        }\n\n                        nsSnackBar.success( result.message ).subscribe();\n                    }, ( error ) => {\n                        this.validation.enableForm( this.form );\n                        nsSnackBar.error( error.message || 'No error message provided in case the form is not valid.' )\n                            .subscribe();\n                    })\n            }\n\n            nsSnackBar.error( this.$slots[ 'error-form-invalid' ][0].text || 'No error message provided in case the form is not valid.' )\n                .subscribe();\n        },\n        setActive( tab ) {\n            for( let tab in this.form.tabs ) {\n                this.form.tabs[ tab ].active     =   false;\n            }\n            tab.active  =   true;\n        },\n        loadSettingsForm() {\n            nsHttpClient.get( this.url ).subscribe( form => {\n                let i   =   0;\n                const hasSelected   =   Object.values( form.tabs ).filter( t => t.active ).length > 0;\n\n                /**\n                 * only if it doesn't have selected\n                 * tab so that we can reload it without resetting the focused tab.\n                 */\n                for( let tab in form.tabs ) {\n                    if ( ! this.formDefined ) {\n                        form.tabs[ tab ].active  =   false;\n                        if ( i === 0 ) {\n                            form.tabs[ tab ].active  =   true;\n                        }\n                    } else {\n                        form.tabs[ tab ].active  =   this.form.tabs[ tab ].active;\n                    }\n                    i++;\n                }\n\n                this.form  =    this.validation.createForm( form );\n            })\n        }\n    }\n}\n</script>","import { render, staticRenderFns } from \"./settings.vue?vue&type=template&id=e889496c&\"\nimport script from \"./settings.vue?vue&type=script&lang=js&\"\nexport * from \"./settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.formDefined)?_c('div',{attrs:{\"id\":\"tabbed-card\"}},[_c('div',{staticClass:\"flex flex-wrap\",attrs:{\"id\":\"card-header\"}},_vm._l((_vm.form.tabs),function(tab,key){return _c('div',{key:key,staticClass:\"text-gray-700 cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg\",class:tab.active ? 'bg-white' : 'bg-gray-300',on:{\"click\":function($event){return _vm.setActive( tab )}}},[_vm._v(\"\\n            \"+_vm._s(tab.label)+\"\\n        \")])}),0),_vm._v(\" \"),_c('div',{staticClass:\"card-body bg-white rounded-br-lg rounded-bl-lg shadow\"},[_c('div',{staticClass:\"-mx-4 flex flex-wrap p-2\"},_vm._l((_vm.activeTab.fields),function(field,index){return _c('div',{key:index,staticClass:\"w-full px-4 md:w-1/2 lg:w-1/3\"},[_c('div',{staticClass:\"flex flex-col my-2\"},[_c('ns-field',{attrs:{\"field\":field}})],1)])}),0),_vm._v(\" \"),_c('div',{staticClass:\"border-t border-gray-400 p-2 flex justify-end\"},[_c('ns-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.submitForm()}}},[_vm._t(\"submit-button\",[_vm._v(\"Save Settings\")])],2)],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reset.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reset.vue?vue&type=script&lang=js&\"","<template>\n    <div id=\"reset-app\">\n        <div id=\"card-header\" class=\"flex flex-wrap\">\n            <div class=\"text-gray-700 bg-white cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg\">\n                Reset\n            </div>\n        </div>\n        <div class=\"card-body bg-white rounded-br-lg rounded-bl-lg shadow\">\n            <div class=\"-mx-4 flex flex-wrap p-2\">\n                <div class=\"px-4\" :key=\"index\" v-for=\"(field, index) of fields\">\n                    <ns-field :field=\"field\"></ns-field>\n                </div>\n            </div>\n            <div class=\"card-body border-t border-gray-400 p-2 flex\">\n                <div> \n                    <ns-button type=\"info\" @click=\"submit()\">Proceed</ns-button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { nsHttpClient, nsSnackBar } from '../../bootstrap';\nimport FormValidation from '../../libraries/form-validation';\n\nexport default {\n    name: 'ns-reset',\n    props: [ 'url' ],\n    methods: {\n        submit() {\n            if ( ! this.validation.validateFields( this.fields ) ) {\n                this.$forceUpdate();\n                return nsSnackBar.error( this.$slots[ 'error-form-invalid' ] ? this.$slots[ 'error-form-invalid' ][0].text : 'Invalid Form' ).subscribe(); \n            }\n\n            const fields   =   this.validation.getValue( this.fields );\n\n            if ( confirm( this.$slots[ 'confirm-message' ] ? this.$slots[ 'confirm-message' ][0].text : 'Would you like to proceed ?' ) ) {\n                nsHttpClient.post( '/api/nexopos/v4/reset', fields )\n                    .subscribe( result => {\n                        nsSnackBar.success( result.message ).subscribe();\n                    }, error => {\n                        nsSnackBar.error( error.message ).subscribe();\n                    })\n            }\n        }\n    },\n    data() {\n        return {\n            validation: new FormValidation,\n            fields: [\n                {\n                    label: 'Choose Option',\n                    name: 'mode',\n                    description: 'Will apply various reset method on the system.',\n                    type: 'select',\n                    options: [{\n                        label: 'Wipe Everything',\n                        value: 'wipe_all',\n                    }, {\n                        label: 'Wipe + Grocery Demo',\n                        value: 'wipe_plus_grocery',\n                    }],\n                    validation: 'required'\n                }\n            ]\n        }\n    },\n}\n</script>","import { render, staticRenderFns } from \"./reset.vue?vue&type=template&id=1212a607&\"\nimport script from \"./reset.vue?vue&type=script&lang=js&\"\nexport * from \"./reset.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"reset-app\"}},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body bg-white rounded-br-lg rounded-bl-lg shadow\"},[_c('div',{staticClass:\"-mx-4 flex flex-wrap p-2\"},_vm._l((_vm.fields),function(field,index){return _c('div',{key:index,staticClass:\"px-4\"},[_c('ns-field',{attrs:{\"field\":field}})],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"card-body border-t border-gray-400 p-2 flex\"},[_c('div',[_c('ns-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"Proceed\")])],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-wrap\",attrs:{\"id\":\"card-header\"}},[_c('div',{staticClass:\"text-gray-700 bg-white cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg\"},[_vm._v(\"\\n            Reset\\n        \")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"module-wrapper\" class=\"flex-auto flex flex-col pb-4\">\n        <div class=\"flex justify-between items-center\">\n            <div class=\"flex justify-between items-center -mx-2\">\n                <span class=\"px-2\">\n                    <a @click=\"refreshModules()\" class=\"items-center justify-center rounded cursor-pointer text-gray-600 bg-white shadow flex px-3 py-1 hover:bg-blue-400 hover:text-white\">\n                        <i class=\"las la-sync\"></i>\n                        <span class=\"mx-2\">Refresh</span>\n                    </a>\n                </span>\n                <span class=\"px-2\">\n                    <a :href=\"upload\" class=\"flex items-center justify-center rounded cursor-pointer text-gray-600 bg-white shadow px-3 py-1 hover:bg-blue-400 hover:text-white\">\n                        <span>Upload</span>                        \n                        <i class=\"las la-angle-right\"></i>\n                    </a>\n                </span>\n            </div>\n            <div class=\"header-tabs flex -mx-4 flex-wrap\">\n                <div class=\"px-4 text-xs text-blue-500 font-semibold hover:underline\"><a href=\"#\">{{ $slots[ 'enabled' ] ? $slots[ 'enabled' ][0].text : 'Enabled' }}({{ total_enabled }})</a></div>\n                <div class=\"px-4 text-xs text-blue-500 font-semibold hover:underline\"><a href=\"#\">{{ $slots[ 'disabled' ] ? $slots[ 'disabled' ][0].text : 'Disabled' }} ({{ total_disabled }})</a></div>\n            </div>\n        </div>\n        <div class=\"module-section flex-auto flex flex-wrap -mx-4\">\n            <div v-if=\"noModules\" class=\"p-4 flex-auto flex\">\n                <div class=\"flex h-full flex-auto border-dashed border-2 border-gray-600 bg-white justify-center items-center\">\n                    <h2 class=\"font-bold text-xl text-gray-700\">{{ noModuleMessage }}</h2>\n                </div>\n            </div>\n            <div class=\"px-4 w-full md:w-1/2 lg:w-1/3 py-4\" :key=\"moduleNamespace\" v-for=\"(moduleObject,moduleNamespace) of modules\">\n                <div class=\"rounded shadow overflow-hidden\">\n                    <div class=\"module-head h-40 p-2 bg-white\">\n                        <h3 class=\"font-semibold text-lg text-gray-700\">{{ moduleObject[ 'name' ] }}</h3>\n                        <p class=\"text-gray-600 text-xs flex justify-between\">\n                            <span>{{ moduleObject[ 'author' ] }}</span>\n                            <strong>v{{ moduleObject[ 'version' ] }}</strong>\n                        </p>\n                        <p class=\"py-2 text-gray-700 text-sm\">{{ moduleObject[ 'description' ] }}</p>\n                    </div>\n                    <div class=\"footer bg-gray-200 p-2 flex justify-between\">\n                        <ns-button v-if=\"! moduleObject.enabled\" @click=\"enableModule( moduleObject )\" type=\"info\">Enable</ns-button>\n                        <ns-button v-if=\"moduleObject.enabled\" @click=\"disableModule( moduleObject )\" type=\"success\">Disable</ns-button>\n                        <div class=\"flex -mx-1\">\n                            <div class=\"px-1\">\n                                <ns-button \n                                    @click=\"performMigration( moduleObject )\" \n                                    v-if=\"Object.values( moduleObject.migrations ).length > 0 && ! moduleObject.migrating && ! moduleObject.migrated\">\n                                    <i class=\"las la-sync text-xl\"></i>\n                                </ns-button>\n                                <ns-button v-if=\"moduleObject.migrating\" disabled><i class=\"las la-sync text-xl animate-spin\"></i></ns-button>\n                                <ns-button v-if=\"moduleObject.migrated\" disabled type=\"success\"><i class=\"las la-check text-xl\"></i></ns-button>\n                            </div>\n                            <div class=\"px-1 flex -mx-1\">\n                                <div class=\"px-1\">\n                                    <ns-button @click=\"download( moduleObject )\" type=\"info\">\n                                        <i class=\"las la-archive\"></i>\n                                    </ns-button>\n                                </div>\n                                <div class=\"px-1\">\n                                    <ns-button @click=\"removeModule( moduleObject )\" type=\"danger\"><i class=\"las la-trash\"></i></ns-button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { nsHttpClient, nsSnackBar } from \"../../bootstrap\";\nimport { map } from \"rxjs/operators\";\n\nexport default {\n    name: 'ns-modules',\n    props: [ 'url', 'upload' ],\n    data() {\n        return {\n            modules: [],\n            total_enabled : 0,\n            total_disabled : 0,\n        }\n    },\n    mounted() {\n        this.loadModules().subscribe();\n    },\n    computed: {\n        noModules() {\n            return Object.values( this.modules ).length === 0;\n        },\n        noModuleMessage() {\n            return this.$slots[ 'no-modules-message' ] ? this.$slots[ 'no-modules-message' ][0].text : 'No message provided for \"no-module-message\"';\n        }\n    },\n    methods: {\n        download( module ) {\n            document.location   =   '/dashboard/modules/download/' + module.namespace;\n        },\n        performMigration: async ( module, migrations ) => {\n            const syncRunMigration  =   async ( file, version ) => {\n                return new Promise( ( resolve, reject ) => {\n                    nsHttpClient.post( `/api/nexopos/v4/modules/${module.namespace}/migrate`, { file, version })\n                        .subscribe( result => {\n                            resolve( true );\n                        }, error => {\n                            return nsSnackBar.error( error.message, null, { duration: 4000 })\n                                .subscribe();\n                        })\n                })\n            }\n\n            /**\n             * if a migration is not provded\n             * let's check from the module definition\n             */\n            migrations      =   migrations || module.migrations;\n\n            if ( migrations ) {\n                module.migrating    =   true;\n\n                for( let version in migrations ) {\n                    for( let index = 0; index < migrations[ version ].length ; index++ ) {\n                        const file  =   migrations[ version ][ index ];\n                        await syncRunMigration( file, version );\n                    }\n                }\n\n                module.migrating     =   false;\n                module.migrated      =   true;\n            }\n        },\n        refreshModules() {\n            this.loadModules().subscribe();\n        },\n        enableModule( object ) {\n            const url   =   `${this.url}/${object.namespace}/enable`;\n            nsHttpClient.put( url )\n                .subscribe( async result => {\n                    nsSnackBar.success( result.message ).subscribe();\n\n                    this.performMigration( object, result.data.migrations );\n\n                    this.loadModules().subscribe( result => {\n                        document.location.reload();\n                    }, ( error ) => {\n                        nsSnackBar.error( error.message ).subscribe();\n                    });\n                }, ( error ) => {\n                    nsSnackBar.error( error.message ).subscribe();\n                });\n        },\n        disableModule( object ) {\n            const url   =   `${this.url}/${object.namespace}/disable`;\n            nsHttpClient.put( url )\n                .subscribe( result => {\n                    nsSnackBar.success( result.message ).subscribe();\n                    this.loadModules().subscribe( result => {\n                        document.location.reload();\n                    }, ( error ) => {\n                        nsSnackBar.error( error.message ).subscribe();\n                    })\n                }, ( error ) => {\n                    nsSnackBar.error( error.message ).subscribe();\n                });\n        },\n        loadModules() {\n            return nsHttpClient.get( this.url )\n                .pipe(\n                    map( result => {\n                        /**\n                         * provide default attributes\n                         */\n                        for( let namespace in result.modules ) {\n                            result.modules[ namespace ].migrating       =   false;\n                            result.modules[ namespace ].migrated        =   false;\n                        };\n                        \n                        this.modules            =   result.modules;\n                        this.total_enabled      =   result.total_enabled;\n                        this.total_disabled     =   result.total_disabled;\n                        return result;\n                    })\n                );\n        },\n        removeModule( module ) {\n            if ( confirm( this.$slots[ 'confirm-delete-module' ] ? this.$slots[ 'confirm-delete-module' ][0].text : 'No text was provided for \"confirm-delete-module\" message.' ) ) {\n                const url   =   `${this.url}/${module.namespace}/delete`;\n                nsHttpClient.delete( url )\n                    .subscribe( result => {\n                        this.loadModules().subscribe( result => {\n                            document.location.reload();\n                        })\n                    }, ( error ) => {\n                        nsSnackBar.error( error.message, null, { duration: 5000 }).subscribe();\n                    })\n            }\n        }\n    }\n}\n</script>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modules.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modules.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modules.vue?vue&type=template&id=dbfae5e6&\"\nimport script from \"./modules.vue?vue&type=script&lang=js&\"\nexport * from \"./modules.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-auto flex flex-col pb-4\",attrs:{\"id\":\"module-wrapper\"}},[_c('div',{staticClass:\"flex justify-between items-center\"},[_c('div',{staticClass:\"flex justify-between items-center -mx-2\"},[_c('span',{staticClass:\"px-2\"},[_c('a',{staticClass:\"items-center justify-center rounded cursor-pointer text-gray-600 bg-white shadow flex px-3 py-1 hover:bg-blue-400 hover:text-white\",on:{\"click\":function($event){return _vm.refreshModules()}}},[_c('i',{staticClass:\"las la-sync\"}),_vm._v(\" \"),_c('span',{staticClass:\"mx-2\"},[_vm._v(\"Refresh\")])])]),_vm._v(\" \"),_c('span',{staticClass:\"px-2\"},[_c('a',{staticClass:\"flex items-center justify-center rounded cursor-pointer text-gray-600 bg-white shadow px-3 py-1 hover:bg-blue-400 hover:text-white\",attrs:{\"href\":_vm.upload}},[_c('span',[_vm._v(\"Upload\")]),_vm._v(\" \"),_c('i',{staticClass:\"las la-angle-right\"})])])]),_vm._v(\" \"),_c('div',{staticClass:\"header-tabs flex -mx-4 flex-wrap\"},[_c('div',{staticClass:\"px-4 text-xs text-blue-500 font-semibold hover:underline\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.$slots[ 'enabled' ] ? _vm.$slots[ 'enabled' ][0].text : 'Enabled')+\"(\"+_vm._s(_vm.total_enabled)+\")\")])]),_vm._v(\" \"),_c('div',{staticClass:\"px-4 text-xs text-blue-500 font-semibold hover:underline\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.$slots[ 'disabled' ] ? _vm.$slots[ 'disabled' ][0].text : 'Disabled')+\" (\"+_vm._s(_vm.total_disabled)+\")\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"module-section flex-auto flex flex-wrap -mx-4\"},[(_vm.noModules)?_c('div',{staticClass:\"p-4 flex-auto flex\"},[_c('div',{staticClass:\"flex h-full flex-auto border-dashed border-2 border-gray-600 bg-white justify-center items-center\"},[_c('h2',{staticClass:\"font-bold text-xl text-gray-700\"},[_vm._v(_vm._s(_vm.noModuleMessage))])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.modules),function(moduleObject,moduleNamespace){return _c('div',{key:moduleNamespace,staticClass:\"px-4 w-full md:w-1/2 lg:w-1/3 py-4\"},[_c('div',{staticClass:\"rounded shadow overflow-hidden\"},[_c('div',{staticClass:\"module-head h-40 p-2 bg-white\"},[_c('h3',{staticClass:\"font-semibold text-lg text-gray-700\"},[_vm._v(_vm._s(moduleObject[ 'name' ]))]),_vm._v(\" \"),_c('p',{staticClass:\"text-gray-600 text-xs flex justify-between\"},[_c('span',[_vm._v(_vm._s(moduleObject[ 'author' ]))]),_vm._v(\" \"),_c('strong',[_vm._v(\"v\"+_vm._s(moduleObject[ 'version' ]))])]),_vm._v(\" \"),_c('p',{staticClass:\"py-2 text-gray-700 text-sm\"},[_vm._v(_vm._s(moduleObject[ 'description' ]))])]),_vm._v(\" \"),_c('div',{staticClass:\"footer bg-gray-200 p-2 flex justify-between\"},[(! moduleObject.enabled)?_c('ns-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.enableModule( moduleObject )}}},[_vm._v(\"Enable\")]):_vm._e(),_vm._v(\" \"),(moduleObject.enabled)?_c('ns-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.disableModule( moduleObject )}}},[_vm._v(\"Disable\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex -mx-1\"},[_c('div',{staticClass:\"px-1\"},[(Object.values( moduleObject.migrations ).length > 0 && ! moduleObject.migrating && ! moduleObject.migrated)?_c('ns-button',{on:{\"click\":function($event){return _vm.performMigration( moduleObject )}}},[_c('i',{staticClass:\"las la-sync text-xl\"})]):_vm._e(),_vm._v(\" \"),(moduleObject.migrating)?_c('ns-button',{attrs:{\"disabled\":\"\"}},[_c('i',{staticClass:\"las la-sync text-xl animate-spin\"})]):_vm._e(),_vm._v(\" \"),(moduleObject.migrated)?_c('ns-button',{attrs:{\"disabled\":\"\",\"type\":\"success\"}},[_c('i',{staticClass:\"las la-check text-xl\"})]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"px-1 flex -mx-1\"},[_c('div',{staticClass:\"px-1\"},[_c('ns-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.download( moduleObject )}}},[_c('i',{staticClass:\"las la-archive\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"px-1\"},[_c('ns-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.removeModule( moduleObject )}}},[_c('i',{staticClass:\"las la-trash\"})])],1)])])],1)])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ns-permissions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ns-permissions.vue?vue&type=script&lang=js&\"","<template>\n    <div id=\"permission-wrapper\">\n        <div class=\"rounded shadow bg-white flex\">\n            <div id=\"permissions\" class=\"w- bg-gray-800 flex-shrink-0\">\n                <div class=\"py-4 px-2 border-b border-gray-700 text-gray-100\">Permissions</div>\n                <div :key=\"permission.id\" v-for=\"permission of permissions\" class=\"p-2 border-b border-gray-700 text-gray-100\">\n                    <a href=\"javascript:void(0)\" :title=\"permission.namespace\">{{ permission.name }}</a>\n                </div>\n            </div>\n            <div class=\"flex flex-auto overflow-hidden\">\n                <div class=\"overflow-y-auto\">\n                    <div class=\"border-b border-gray-200 text-gray-700 flex\">\n                        <div v-for=\"role of roles\" :key=\"role.id\" class=\"py-4 px-2 items-center justify-center flex role w-56 flex-shrink-0 border-r border-gray-200\">\n                            <p class=\"mx-1\"><span>{{ role.name }}</span></p>\n                            <span class=\"mx-1\"><ns-checkbox @change=\"selectAllPermissions( role )\" :field=\"role.field\"></ns-checkbox></span>\n                        </div>\n                    </div>\n                    <div :key=\"permission.id\" v-for=\"permission of permissions\" class=\"permission flex border-b border-gray-200\">\n                        <div v-for=\"role of roles\" :key=\"role.id\" class=\"w-56 flex-shrink-0 p-2 flex items-center justify-center border-r\">\n                            <ns-checkbox @change=\"submitPermissions( role, role.fields[ permission.namespace ] )\" :field=\"role.fields[ permission.namespace ]\"></ns-checkbox>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { forkJoin } from \"rxjs\";\nimport { nsHttpClient, nsSnackBar } from \"../../bootstrap\";\nexport default {\n    name: 'ns-permissions',\n    data() {\n        return {\n            permissions: [],\n            roles: [],\n        }\n    },\n    mounted() {\n        this.loadPermissionsAndRoles();\n    },\n    methods: {\n        /**\n         * before performing a bulk edit action for a specific role\n         * we should first check if it's a system role and ask for confirmation\n         * @param {object} role\n         * @return void\n         */\n        selectAllPermissions( role ) {\n            const roles   =   new Object;\n            roles[ role.namespace ]                     =   new Object;\n\n            if ( \n                ! role.locked ||\n                ( role.locked && confirm( this.$slots[ 'bulk-edit-system-role' ] ? this.$slots[ 'bulk-edit-system-role' ][0].text : 'No message has been provided for \"bulk-edit-system-role\"' ) )\n                \n            ) {    \n                for( let permission in role.fields ) {\n                    role.fields[ permission ].value             =   role.field.value;\n                    roles[ role.namespace ][ permission ]       =   role.field.value;\n                }    \n\n                nsHttpClient.put( '/api/nexopos/v4/users/roles', roles )\n                    .subscribe( result => {\n                        nsSnackBar.success( result.message, null, {\n                            duration: 3000\n                        }).subscribe();\n                    });\n            } else {\n                /**\n                 * if there is no confirmation, let's \n                 * revert the preview value. Since it's supposed to be a boolean\n                 * the preview value is the opposite (!)\n                 */\n                role.field.value    =   ! role.field.value;\n            }\n        },\n\n        /**\n         * Submit role and permissions change\n         * @param {Role} role\n         * @param {Permission} permission\n         * @return void\n         */\n        submitPermissions( role, permission ) {\n            const roles   =   new Object;\n\n            roles[ role.namespace ]                     =   new Object;\n            roles[ role.namespace ][ permission.name ]  =   permission.value;\n\n            nsHttpClient.put( '/api/nexopos/v4/users/roles', roles )\n                .subscribe( result => {\n                    nsSnackBar.success( result.message, null, {\n                        duration: 3000\n                    }).subscribe();\n                })\n        },\n\n        /**\n         * Load Permission and roles\n         * @return void\n         */\n        loadPermissionsAndRoles() {\n            return forkJoin(\n                nsHttpClient.get( '/api/nexopos/v4/users/roles' ),\n                nsHttpClient.get( '/api/nexopos/v4/users/permissions' ),\n            ).subscribe( result => {\n                this.permissions    =   result[1];\n                this.roles          =   result[0].map( role => {\n                    let isChecked           =   false;\n                    role.fields             =   {};\n                    role.field              =   {\n                        type: 'checkbox',\n                        name: role.namespace,\n                        value: false\n                    }\n                    this.permissions.forEach( permission => {\n                        role.fields[ permission.namespace ]     =   {\n                            type: 'checkbox',\n                            value: role.permissions\n                                .filter( role_permission => role_permission.namespace === permission.namespace )\n                                .length > 0,\n                            name: permission.namespace,\n                            label: null,\n                        };\n                    });\n\n                    return role;\n                });\n            });\n        }\n    }\n}\n</script>","import { render, staticRenderFns } from \"./ns-permissions.vue?vue&type=template&id=196cd04e&\"\nimport script from \"./ns-permissions.vue?vue&type=script&lang=js&\"\nexport * from \"./ns-permissions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"permission-wrapper\"}},[_c('div',{staticClass:\"rounded shadow bg-white flex\"},[_c('div',{staticClass:\"w- bg-gray-800 flex-shrink-0\",attrs:{\"id\":\"permissions\"}},[_c('div',{staticClass:\"py-4 px-2 border-b border-gray-700 text-gray-100\"},[_vm._v(\"Permissions\")]),_vm._v(\" \"),_vm._l((_vm.permissions),function(permission){return _c('div',{key:permission.id,staticClass:\"p-2 border-b border-gray-700 text-gray-100\"},[_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"title\":permission.namespace}},[_vm._v(_vm._s(permission.name))])])})],2),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-auto overflow-hidden\"},[_c('div',{staticClass:\"overflow-y-auto\"},[_c('div',{staticClass:\"border-b border-gray-200 text-gray-700 flex\"},_vm._l((_vm.roles),function(role){return _c('div',{key:role.id,staticClass:\"py-4 px-2 items-center justify-center flex role w-56 flex-shrink-0 border-r border-gray-200\"},[_c('p',{staticClass:\"mx-1\"},[_c('span',[_vm._v(_vm._s(role.name))])]),_vm._v(\" \"),_c('span',{staticClass:\"mx-1\"},[_c('ns-checkbox',{attrs:{\"field\":role.field},on:{\"change\":function($event){return _vm.selectAllPermissions( role )}}})],1)])}),0),_vm._v(\" \"),_vm._l((_vm.permissions),function(permission){return _c('div',{key:permission.id,staticClass:\"permission flex border-b border-gray-200\"},_vm._l((_vm.roles),function(role){return _c('div',{key:role.id,staticClass:\"w-56 flex-shrink-0 p-2 flex items-center justify-center border-r\"},[_c('ns-checkbox',{attrs:{\"field\":role.fields[ permission.namespace ]},on:{\"change\":function($event){return _vm.submitPermissions( role, role.fields[ permission.namespace ] )}}})],1)}),0)})],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport FormValidation from '../../libraries/form-validation';\nimport { Subject, BehaviorSubject, forkJoin } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport { nsSnackBar, nsHttpClient } from '../../bootstrap';\nimport NsManageProducts from './manage-products';\n\nexport default {\n    name: 'ns-procurement',\n    mounted() {\n        this.reloadEntities();\n    },\n    computed: {\n        activeTab() {\n            return this.validTabs.filter( tab => tab.active ).length > 0 ? this.validTabs.filter( tab => tab.active )[0] : false;\n        },\n    },\n    data() {\n        return {\n            /**\n             * Is the total taxes\n             * computed on all the supplied products\n             */\n            totalTaxValues: 0,\n            \n            /**\n             * is the total purchase price of\n             * all the products\n             */\n            totalPurchasePrice: 0,\n\n\n            /**\n             * Creating an instance of the form validation\n             * to proceed with basic form validation\n             */\n            formValidation: new FormValidation,\n\n            /**\n             * Reference to the form. Contains\n             * all the values and that's what is submitted\n             * to the server\n             */\n            form: {},\n\n            /**\n             * Reference to the nsSnackBar object\n             */\n            nsSnackBar,\n\n            /**\n             * Is the array that contains the various \n             * procurement informations\n             */\n            fields: [],\n\n            /**\n             * Is the array that contains the result\n             * from the search.\n             */\n            searchResult: [],\n\n            /**\n             * Search value.\n             */\n            searchValue: '',\n\n            /**\n             * Debounce reference,used for searching\n             * product using the search bar\n             */\n            debounceSearch: null,\n\n            /**\n             * A reference to the nsHttpClient object\n             */\n            nsHttpClient,\n\n            /**\n             * Must contain the \n             * available taxes group\n             */\n            taxes: [],\n\n            /**\n             * Define the available tabs on\n             * the actual uI\n             */\n            validTabs: [\n                {\n                    label: 'Details',\n                    identifier: 'details',\n                    active: true,\n                }, {\n                    label: 'Products',\n                    identifier: 'products',\n                    active: false,\n                }, \n            ],\n\n            /**\n             * control the state of the reloading\n             * spinner\n             */\n            reloading: false\n        }\n    },\n    watch: {\n        searchValue( value ) {\n            if ( value ) {\n                clearTimeout( this.debounceSearch );\n                this.debounceSearch     =   setTimeout( () => {\n                    this.doSearch( value );\n                }, 500 );\n            }\n        }\n    },\n    components: {\n        NsManageProducts\n    },\n    props: [ 'submit-method', 'submit-url', 'return-url', 'src', 'rules' ],\n    methods: {\n        computeTotal() {\n\n            this.totalTaxValues = 0;\n\n            if ( this.form.products.length > 0 ) {\n                this.totalTaxValues = this.form.products.map( p => p.procurement.tax_value )\n                    .reduce( ( b, a ) => b + a );\n            }\n\n            this.totalPurchasePrice     =   0;\n\n            if ( this.form.products.length > 0 ) {\n                this.totalPurchasePrice     =   this.form.products.map( p => parseFloat( p.procurement.total_purchase_price ) )\n                    .reduce( ( b, a ) => b + a );\n            }\n        },\n\n        /**\n         * Ensure a line is being updated after\n         * some field has been changed.\n         * @param {integer} product index\n         * @return {void}\n         */\n        updateLine( index ) {\n            const product   =   this.form.products[ index ];\n            const taxGroup  =   this.taxes.filter( taxGroup => taxGroup.id === product.procurement.tax_group_id );\n\n            if ( parseFloat( product.procurement.purchase_price_edit ) > 0 && parseFloat( product.procurement.quantity ) > 0 ) {\n\n                /**\n                 * if some tax group is provided\n                 * then let's compute all the grouped taxes\n                 */\n                if ( taxGroup.length > 0 ) {\n                    const totalTaxes    =   taxGroup[0].taxes.map( tax => {\n                        return ( parseFloat( tax.rate ) * product.procurement.purchase_price_edit ) / 100;\n                    });\n\n                    product.procurement.tax_value   =   ( totalTaxes.reduce( ( b, a ) => b + a ) );\n\n                    if ( product.procurement.tax_type === 'inclusive' ) {\n                        product.procurement.gross_purchase_price    =   parseFloat( product.procurement.purchase_price_edit ) - product.procurement.tax_value;\n                        product.procurement.purchase_price          =   parseFloat( product.procurement.purchase_price_edit );\n                        product.procurement.net_purchase_price      =   parseFloat( product.procurement.purchase_price_edit );\n                    } else {\n                        product.procurement.gross_purchase_price    =   parseFloat( product.procurement.purchase_price_edit );\n                        product.procurement.purchase_price          =   parseFloat( product.procurement.purchase_price_edit ) + product.procurement.tax_value;\n                        product.procurement.net_purchase_price      =   parseFloat( product.procurement.purchase_price_edit ) + product.procurement.tax_value;\n                    }\n                } else {\n                    product.procurement.gross_purchase_price    =   parseFloat( product.procurement.purchase_price_edit );\n                    product.procurement.purchase_price          =   parseFloat( product.procurement.purchase_price_edit );\n                    product.procurement.net_purchase_price      =   parseFloat( product.procurement.purchase_price_edit );\n                    product.procurement.tax_value               =   0;\n                }\n\n                product.procurement.tax_value                   =   product.procurement.tax_value * parseFloat( product.procurement.quantity );\n                product.procurement.total_purchase_price        =   product.procurement.purchase_price * parseFloat( product.procurement.quantity );\n            }\n\n            this.computeTotal();\n            this.$forceUpdate();\n        },\n\n        /**\n         * Switch the tax type applied \n         * on the current product.\n         */\n        switchTaxType( product, index ) {\n            product.procurement.tax_type =  product.procurement.tax_type === 'inclusive' ? 'exclusive' : 'inclusive';\n            this.updateLine( index );\n        },\n\n        /**\n         * Perform a seach and populate\n         * the search result array\n         * @param string\n         * @return void\n         */\n        doSearch( search ) {\n            nsHttpClient.post( '/api/nexopos/v4/products/search', { search })\n                .subscribe( result => {\n                    if ( result.length === 1 ) {\n                        this.addProductList( result[0] );\n                    } else {\n                        this.searchResult   =   result;\n                    }\n                })\n        },\n\n        /**\n         * Reload the value from the server.\n         * Useful to reload data after having created a new\n         * entity\n         * @return void\n         */\n        reloadEntities() {\n            this.reloading          =   true;\n            forkJoin([\n                nsHttpClient.get( '/api/nexopos/v4/categories' ),\n                nsHttpClient.get( '/api/nexopos/v4/products' ),\n                nsHttpClient.get( this.src ),\n                nsHttpClient.get( '/api/nexopos/v4/taxes/groups' ),\n            ]).subscribe( result => {\n                this.reloading      =   false;\n                this.categories     =   result[0];\n                this.products       =   result[1];\n                this.taxes          =   result[3];\n\n                if ( this.form.general ) {\n                    result[2].tabs.general.fieds.forEach( (field,index) => {\n                        field.value     =   this.form.tabs.general.fields[ index ].value || '';\n                    });\n                } \n\n                console.log( result[2] );\n\n                this.form           =   Object.assign( this.form, result[2] );\n                this.form           =   this.formValidation.createForm( this.form );\n                \n                if ( this.form.products === undefined ) {\n                    this.form.products  =   [];\n                } else {\n                    /**\n                     * if the product has been provided by the\n                     * server we need to format it.\n                     */\n                    this.form.products  =   this.form.products.map( product => {\n                        [\n                            'gross_purchase_price',\n                            'purchase_price_edit',\n                            'tax_value',\n                            'net_purchase_price',\n                            'purchase_price',\n                            'total_price',\n                            'total_purchase_price',\n                            'quantity',\n                            'tax_group_id',\n                        ].forEach( field => {\n                            if ( product[ field ] === undefined ) {\n                                product[ field ]    =   0;\n                            }\n                        });\n\n                        product.$invalid                =   product.$invalid || false;\n                        product.purchase_price_edit     =   product.purchase_price;\n                        \n                        return {\n                            name: product.name,\n                            purchase_units: product.purchase_units,\n                            procurement: product\n                        }\n                    });\n\n                    console.log( this.form.products );\n                }\n                \n                this.$forceUpdate();\n            })\n        },\n        setTabActive( tab ) {\n            this.validTabs.forEach( tab => tab.active = false );\n            this.$forceUpdate();\n            this.$nextTick().then( () => {\n                tab.active  =   true;\n            });\n        },\n        addProductList( product ) {\n\n            if ( product.purchase_units === undefined ) {\n                return nsSnackBar.error( 'Unable to add product which doesn\\'t have a default unit selected for purchase.' )\n                    .subscribe();\n            }\n\n            product.procurement                             =   new Object;\n            product.procurement.gross_purchase_price        =   0;\n            product.procurement.purchase_price_edit         =   0;\n            product.procurement.tax_value                   =   0;\n            product.procurement.net_purchase_price          =   0;\n            product.procurement.purchase_price              =   0;\n            product.procurement.total_price                 =   0;\n            product.procurement.total_purchase_price        =   0;\n            product.procurement.quantity                    =   1;\n            product.procurement.tax_group_id                =   0;\n            product.procurement.tax_type                    =   'inclusive';\n            product.procurement.unit_id                     =   0;\n            product.procurement.product_id                  =   product.id;\n            product.procurement.procurement_id              =   null;\n            product.procurement.$invalid                    =   false;\n\n            this.searchResult           =   [];\n            this.searchValue            =   '';\n\n            this.form.products.push( product );\n        },\n        submit() {\n\n            if ( this.form.products.length === 0 ) {\n                return nsSnackBar.error( this.$slots[ 'error-no-products' ] ? this.$slots[ 'error-no-products' ][0].text : 'No error message provided on the slot \"error-no-products\".', this.$slots[ 'okay' ] ? this.$slots[ 'okay' ][0].text : 'OK' )\n                    .subscribe();\n            }\n\n            this.form.products.forEach( product => {\n                if ( ! parseFloat( product.procurement.quantity ) >= 1 ) {\n                    product.procurement.$invalid    =   true;\n                } else if ( product.unit_id === 0 ) {\n                    product.procurement.$invalid    =   true;\n                } else {\n                    product.procurement.$invalid    =   false;\n                }\n            });\n\n            const invalidProducts   =   this.form.products.filter( product => product.procurement.$invalid );\n\n            if ( invalidProducts.length > 0 ) {\n                return nsSnackBar.error( this.$slots[ 'error-invalid-products' ] ? this.$slots[ 'error-invalid-products' ][0].text : 'No error message provided on the slot \"error-invalid-products\".', this.$slots[ 'okay' ] ? this.$slots[ 'okay' ][0].text : 'OK' )\n                    .subscribe();\n            }\n\n            if ( this.formValidation.validateForm( this.form ).length > 0 ) {\n                /**\n                 * hack to force rerendering\n                 * there might be a better solutin here.\n                 */\n                this.setTabActive( this.activeTab );\n\n                return nsSnackBar.error( this.$slots[ 'error-invalid-form' ] ? this.$slots[ 'error-invalid-form' ][0].text : 'No error message provided for having an invalid form.', this.$slots[ 'okay' ] ? this.$slots[ 'okay' ][0].text : 'OK' )\n                    .subscribe();\n            }\n\n            if ( this.submitUrl === undefined ) {\n                return nsSnackBar.error( this.$slots[ 'error-no-submit-url' ] ? this.$slots[ 'error-no-submit-url' ][0].text : 'No error message provided for not having a valid submit url.', this.$slots[ 'okay' ] ? this.$slots[ 'okay' ][0].text : 'OK' )\n                    .subscribe();\n            }\n\n            this.formValidation.disableForm( this.form );\n\n            const data  =   {\n                ...this.formValidation.extractForm( this.form ), ...{\n                    products: this.form.products.map( product => product.procurement )\n                }\n            }\n\n            nsHttpClient[ this.submitMethod ? this.submitMethod.toLowerCase() : 'post' ]( this.submitUrl, data )\n                .subscribe( data => {\n                    if ( data.status === 'success' ) {\n                        return document.location   =   this.returnUrl;\n                    }\n                    this.formValidation.enableForm( this.form );\n                }, ( error ) => {\n                    nsSnackBar.error( error.message, undefined, {\n                        duration: 5000\n                    }).subscribe();\n\n                    this.formValidation.enableForm( this.form );\n                    \n                    if ( error.errors ) {\n                        this.formValidation.triggerError( this.form, error.errors );\n                    }\n                })\n        },\n        deleteProduct( index ) {\n            this.form.products.splice( index, 1 );\n            this.$forceUpdate();\n        },\n        handleGlobalChange( event ) {\n            this.globallyChecked    =   event;\n            this.rows.forEach( r => r.$checked = event );\n        },\n    }\n}\n</script>\n<template>\n    <div class=\"form flex-auto flex flex-col\" id=\"crud-form\">\n        <template v-if=\"form.main\">\n            <div class=\"flex flex-col\">\n                <div class=\"flex justify-between items-center\">\n                    <label for=\"title\" class=\"font-bold my-2 text-gray-700\"><slot name=\"title\">No title Provided</slot></label>\n                    <div for=\"title\" class=\"text-sm my-2 text-gray-700\">\n                        <a v-if=\"returnUrl\" :href=\"returnUrl\" class=\"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1\">Return</a>\n                    </div>\n                </div>\n                <div :class=\"form.main.disabled ? 'border-gray-500' : form.main.errors.length > 0 ? 'border-red-600' : 'border-blue-500'\" class=\"flex border-2 rounded overflow-hidden\">\n                    <input v-model=\"form.main.value\" \n                        @blur=\"formValidation.checkField( form.main )\" \n                        @change=\"formValidation.checkField( form.main )\" \n                        :disabled=\"form.main.disabled\"\n                        type=\"text\" \n                        :class=\"form.main.disabled ? 'bg-gray-400' : ''\"\n                        class=\"flex-auto text-gray-700 outline-none h-10 px-2\">\n                    <button :disabled=\"form.main.disabled\" :class=\"form.main.disabled ? 'bg-gray-500' : form.main.errors.length > 0 ? 'bg-red-500' : 'bg-blue-500'\" @click=\"submit()\" class=\"outline-none px-4 h-10 text-white border-l border-gray-400\"><slot name=\"save\">Save</slot></button>\n                    <button @click=\"reloadEntities()\" class=\"bg-white text-gray-700 outline-none px-4 h-10 border-gray-400\"><i :class=\"reloading ? 'animate animate-spin' : ''\" class=\"las la-sync\"></i></button>\n                </div>\n                <p class=\"text-xs text-gray-600 py-1\" v-if=\"form.main.description && form.main.errors.length === 0\">{{ form.main.description }}</p>\n                <p class=\"text-xs py-1 text-red-500\" v-bind:key=\"index\" v-for=\"(error, index) of form.main.errors\">\n                    <span><slot name=\"error-required\">{{ error.identifier }}</slot></span>\n                </p>\n            </div>\n            <div id=\"form-container\" class=\"-mx-4 flex flex-wrap mt-4\">\n                <div class=\"px-4 w-full\">\n                    <div id=\"tabbed-card\">\n                        <div id=\"card-header\" class=\"flex flex-wrap\">\n                            <div @click=\"setTabActive( tab )\" :class=\"tab.active ? 'bg-white' : 'bg-gray-100'\" v-for=\"( tab, index ) of validTabs\" v-bind:key=\"index\" class=\"cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg text-gray-700\">\n                                {{ tab.label }}\n                            </div>\n                        </div>\n                        <div class=\"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2\" v-if=\"activeTab.identifier === 'details'\">\n                            <div class=\"-mx-4 flex flex-wrap\" v-if=\"form.tabs\">\n                                <div class=\"flex px-4 w-full md:w-1/2 lg:w-1/3\" :key=\"index\" v-for=\"(field, index) of form.tabs.general.fields\">\n                                    <ns-field :field=\"field\"></ns-field>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2 \" v-if=\"activeTab.identifier === 'products'\">\n                            <div class=\"mb-2\">\n                                <div class=\"border-blue-500 flex border-2 rounded overflow-hidden\">\n                                    <input\n                                        v-model=\"searchValue\"\n                                        type=\"text\" \n                                        :placeholder=\"$slots[ 'search-placeholder' ] ? $slots[ 'search-placeholder' ][0].text : 'SKU, Barcode, Name'\"\n                                        class=\"flex-auto text-gray-700 outline-none h-10 px-2\">\n                                </div>\n                                <div class=\"h-0\">\n                                    <div class=\"shadow bg-white relative z-10\">\n                                        <div @click=\"addProductList( product )\" v-for=\"(product, index) of searchResult\" :key=\"index\" class=\"cursor-pointer border border-b border-gray-300 p-2 text-gray-700\">\n                                            <h3 class=\"font-bold text-gray-700\">{{ product.name }}</h3>\n                                            <h4 class=\"text-sm text-gray-600\">SKU : {{ product.sku }}</h4>\n                                            <h4 class=\"text-sm text-gray-600\">Barcode : {{ product.barcode }}</h4>                                                \n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"overflow-x-auto\">\n                                <table class=\"w-full\">\n                                    <thead>\n                                        <tr>\n                                            <td class=\"text-gray-700 p-2 border border-gray-300 bg-gray-200\">Product</td>\n                                            <td class=\"text-gray-700 p-2 border border-gray-300 bg-gray-200 w-32\">Unit Price</td>\n                                            <td class=\"text-gray-700 p-2 border border-gray-300 bg-gray-200\">Tax</td>\n                                            <td class=\"text-gray-700 p-2 border border-gray-300 bg-gray-200\">Tax Value</td>\n                                            <td class=\"text-gray-700 p-2 border border-gray-300 bg-gray-200\">UOM</td>\n                                            <td class=\"text-gray-700 p-2 border border-gray-300 bg-gray-200\">Quantity</td>\n                                            <td class=\"text-gray-700 p-2 border border-gray-300 bg-gray-200\">Total Price</td>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr v-for=\"( product, index ) of form.products\" :key=\"index\" :class=\"product.procurement.$invalid ? 'bg-red-200 border-2 border-red-500' : 'bg-gray-100'\">\n                                            <td width=\"200\" class=\"p-2 text-gray-600 border border-gray-300\">\n                                                <h3 class=\"font-semibold\">{{ product.name }}</h3>\n                                                <div class=\"flex -mx-1\">\n                                                    <span class=\"text-xs text-red-500 cursor-pointer underline px-1\" @click=\"deleteProduct( index )\">Delete</span>\n                                                    <span @click=\"switchTaxType( product, index )\" class=\"text-xs text-red-500 cursor-pointer underline px-1\">Tax {{ product.procurement.tax_type === 'inclusive' ? 'Inclusive' : 'Exclusive' }}</span>\n                                                </div>\n                                            </td>\n                                            <td class=\"p-2 text-gray-600 border border-gray-300\">\n                                                <div class=\"flex items-start\">\n                                                    <input @change=\"updateLine( index )\" type=\"text\" v-model=\"product.procurement.purchase_price_edit\" class=\"w-24 border-2 p-2 border-blue-400 rounded\">\n                                                </div>\n                                            </td>\n                                            <td width=\"100\" class=\"p-2 text-gray-600 border border-gray-300\">\n                                                <div class=\"flex items-start\">\n                                                    <select @change=\"updateLine( index )\" v-model=\"product.procurement.tax_group_id\" class=\"rounded border-blue-500 border-2 p-2 w-56\">\n                                                        <option v-for=\"option of taxes\" :key=\"option.id\" :value=\"option.id\">{{ option.name }}</option>\n                                                    </select>\n                                                </div>\n                                            </td>\n                                            <td class=\"p-2 text-gray-600 border border-gray-300\">\n                                                <div class=\"flex items-start flex-col\">\n                                                    <span class=\"text-sm text-gray-600\">{{ product.procurement.tax_value | currency }}</span>\n                                                </div>\n                                            </td>\n                                            <td width=\"100\" class=\"p-2 text-gray-600 border border-gray-300\">\n                                                <div class=\"flex items-start\">\n                                                    <select v-model=\"product.procurement.unit_id\" class=\"rounded border-blue-500 border-2 p-2 w-56\">\n                                                        <option v-for=\"option of product.purchase_units\" :key=\"option.id\" :value=\"option.id\">{{ option.name }}</option>\n                                                    </select>\n                                                </div>\n                                            </td>\n                                            <td class=\"p-2 text-gray-600 border border-gray-300\">\n                                                <div class=\"flex items-start\">\n                                                    <input @change=\"updateLine( index )\" type=\"text\" v-model=\"product.procurement.quantity\" class=\"w-24 border-2 p-2 border-blue-400 rounded\">\n                                                </div>\n                                            </td>\n                                            <td class=\"p-2 text-gray-600 border border-gray-300\">\n                                                <div class=\"flex items-start\">{{ product.procurement.total_purchase_price | currency }}</div>\n                                            </td>\n                                        </tr>\n                                        <tr class=\"bg-gray-100\">\n                                            <td class=\"p-2 text-gray-600 border border-gray-300\" colspan=\"3\"></td>\n                                            <td class=\"p-2 text-gray-600 border border-gray-300\">{{ totalTaxValues | currency }}</td>\n                                            <td class=\"p-2 text-gray-600 border border-gray-300\" colspan=\"2\"></td>\n                                            <td class=\"p-2 text-gray-600 border border-gray-300\">{{ totalPurchasePrice | currency }}</td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </template>\n    </div>\n</template>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ns-procurement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ns-procurement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ns-procurement.vue?vue&type=template&id=715f0f6e&\"\nimport script from \"./ns-procurement.vue?vue&type=script&lang=js&\"\nexport * from \"./ns-procurement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form flex-auto flex flex-col\",attrs:{\"id\":\"crud-form\"}},[(_vm.form.main)?[_c('div',{staticClass:\"flex flex-col\"},[_c('div',{staticClass:\"flex justify-between items-center\"},[_c('label',{staticClass:\"font-bold my-2 text-gray-700\",attrs:{\"for\":\"title\"}},[_vm._t(\"title\",[_vm._v(\"No title Provided\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"text-sm my-2 text-gray-700\",attrs:{\"for\":\"title\"}},[(_vm.returnUrl)?_c('a',{staticClass:\"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1\",attrs:{\"href\":_vm.returnUrl}},[_vm._v(\"Return\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"flex border-2 rounded overflow-hidden\",class:_vm.form.main.disabled ? 'border-gray-500' : _vm.form.main.errors.length > 0 ? 'border-red-600' : 'border-blue-500'},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.main.value),expression:\"form.main.value\"}],staticClass:\"flex-auto text-gray-700 outline-none h-10 px-2\",class:_vm.form.main.disabled ? 'bg-gray-400' : '',attrs:{\"disabled\":_vm.form.main.disabled,\"type\":\"text\"},domProps:{\"value\":(_vm.form.main.value)},on:{\"blur\":function($event){return _vm.formValidation.checkField( _vm.form.main )},\"change\":function($event){return _vm.formValidation.checkField( _vm.form.main )},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.main, \"value\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{staticClass:\"outline-none px-4 h-10 text-white border-l border-gray-400\",class:_vm.form.main.disabled ? 'bg-gray-500' : _vm.form.main.errors.length > 0 ? 'bg-red-500' : 'bg-blue-500',attrs:{\"disabled\":_vm.form.main.disabled},on:{\"click\":function($event){return _vm.submit()}}},[_vm._t(\"save\",[_vm._v(\"Save\")])],2),_vm._v(\" \"),_c('button',{staticClass:\"bg-white text-gray-700 outline-none px-4 h-10 border-gray-400\",on:{\"click\":function($event){return _vm.reloadEntities()}}},[_c('i',{staticClass:\"las la-sync\",class:_vm.reloading ? 'animate animate-spin' : ''})])]),_vm._v(\" \"),(_vm.form.main.description && _vm.form.main.errors.length === 0)?_c('p',{staticClass:\"text-xs text-gray-600 py-1\"},[_vm._v(_vm._s(_vm.form.main.description))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.form.main.errors),function(error,index){return _c('p',{key:index,staticClass:\"text-xs py-1 text-red-500\"},[_c('span',[_vm._t(\"error-required\",[_vm._v(_vm._s(error.identifier))])],2)])})],2),_vm._v(\" \"),_c('div',{staticClass:\"-mx-4 flex flex-wrap mt-4\",attrs:{\"id\":\"form-container\"}},[_c('div',{staticClass:\"px-4 w-full\"},[_c('div',{attrs:{\"id\":\"tabbed-card\"}},[_c('div',{staticClass:\"flex flex-wrap\",attrs:{\"id\":\"card-header\"}},_vm._l((_vm.validTabs),function(tab,index){return _c('div',{key:index,staticClass:\"cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg text-gray-700\",class:tab.active ? 'bg-white' : 'bg-gray-100',on:{\"click\":function($event){return _vm.setTabActive( tab )}}},[_vm._v(\"\\n                            \"+_vm._s(tab.label)+\"\\n                        \")])}),0),_vm._v(\" \"),(_vm.activeTab.identifier === 'details')?_c('div',{staticClass:\"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2\"},[(_vm.form.tabs)?_c('div',{staticClass:\"-mx-4 flex flex-wrap\"},_vm._l((_vm.form.tabs.general.fields),function(field,index){return _c('div',{key:index,staticClass:\"flex px-4 w-full md:w-1/2 lg:w-1/3\"},[_c('ns-field',{attrs:{\"field\":field}})],1)}),0):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.activeTab.identifier === 'products')?_c('div',{staticClass:\"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2 \"},[_c('div',{staticClass:\"mb-2\"},[_c('div',{staticClass:\"border-blue-500 flex border-2 rounded overflow-hidden\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchValue),expression:\"searchValue\"}],staticClass:\"flex-auto text-gray-700 outline-none h-10 px-2\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$slots[ 'search-placeholder' ] ? _vm.$slots[ 'search-placeholder' ][0].text : 'SKU, Barcode, Name'},domProps:{\"value\":(_vm.searchValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchValue=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"h-0\"},[_c('div',{staticClass:\"shadow bg-white relative z-10\"},_vm._l((_vm.searchResult),function(product,index){return _c('div',{key:index,staticClass:\"cursor-pointer border border-b border-gray-300 p-2 text-gray-700\",on:{\"click\":function($event){return _vm.addProductList( product )}}},[_c('h3',{staticClass:\"font-bold text-gray-700\"},[_vm._v(_vm._s(product.name))]),_vm._v(\" \"),_c('h4',{staticClass:\"text-sm text-gray-600\"},[_vm._v(\"SKU : \"+_vm._s(product.sku))]),_vm._v(\" \"),_c('h4',{staticClass:\"text-sm text-gray-600\"},[_vm._v(\"Barcode : \"+_vm._s(product.barcode))])])}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"overflow-x-auto\"},[_c('table',{staticClass:\"w-full\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',[_vm._l((_vm.form.products),function(product,index){return _c('tr',{key:index,class:product.procurement.$invalid ? 'bg-red-200 border-2 border-red-500' : 'bg-gray-100'},[_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\",attrs:{\"width\":\"200\"}},[_c('h3',{staticClass:\"font-semibold\"},[_vm._v(_vm._s(product.name))]),_vm._v(\" \"),_c('div',{staticClass:\"flex -mx-1\"},[_c('span',{staticClass:\"text-xs text-red-500 cursor-pointer underline px-1\",on:{\"click\":function($event){return _vm.deleteProduct( index )}}},[_vm._v(\"Delete\")]),_vm._v(\" \"),_c('span',{staticClass:\"text-xs text-red-500 cursor-pointer underline px-1\",on:{\"click\":function($event){return _vm.switchTaxType( product, index )}}},[_vm._v(\"Tax \"+_vm._s(product.procurement.tax_type === 'inclusive' ? 'Inclusive' : 'Exclusive'))])])]),_vm._v(\" \"),_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\"},[_c('div',{staticClass:\"flex items-start\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(product.procurement.purchase_price_edit),expression:\"product.procurement.purchase_price_edit\"}],staticClass:\"w-24 border-2 p-2 border-blue-400 rounded\",attrs:{\"type\":\"text\"},domProps:{\"value\":(product.procurement.purchase_price_edit)},on:{\"change\":function($event){return _vm.updateLine( index )},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(product.procurement, \"purchase_price_edit\", $event.target.value)}}})])]),_vm._v(\" \"),_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\",attrs:{\"width\":\"100\"}},[_c('div',{staticClass:\"flex items-start\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(product.procurement.tax_group_id),expression:\"product.procurement.tax_group_id\"}],staticClass:\"rounded border-blue-500 border-2 p-2 w-56\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(product.procurement, \"tax_group_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.updateLine( index )}]}},_vm._l((_vm.taxes),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(_vm._s(option.name))])}),0)])]),_vm._v(\" \"),_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\"},[_c('div',{staticClass:\"flex items-start flex-col\"},[_c('span',{staticClass:\"text-sm text-gray-600\"},[_vm._v(_vm._s(_vm._f(\"currency\")(product.procurement.tax_value)))])])]),_vm._v(\" \"),_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\",attrs:{\"width\":\"100\"}},[_c('div',{staticClass:\"flex items-start\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(product.procurement.unit_id),expression:\"product.procurement.unit_id\"}],staticClass:\"rounded border-blue-500 border-2 p-2 w-56\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(product.procurement, \"unit_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((product.purchase_units),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(_vm._s(option.name))])}),0)])]),_vm._v(\" \"),_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\"},[_c('div',{staticClass:\"flex items-start\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(product.procurement.quantity),expression:\"product.procurement.quantity\"}],staticClass:\"w-24 border-2 p-2 border-blue-400 rounded\",attrs:{\"type\":\"text\"},domProps:{\"value\":(product.procurement.quantity)},on:{\"change\":function($event){return _vm.updateLine( index )},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(product.procurement, \"quantity\", $event.target.value)}}})])]),_vm._v(\" \"),_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\"},[_c('div',{staticClass:\"flex items-start\"},[_vm._v(_vm._s(_vm._f(\"currency\")(product.procurement.total_purchase_price)))])])])}),_vm._v(\" \"),_c('tr',{staticClass:\"bg-gray-100\"},[_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\",attrs:{\"colspan\":\"3\"}}),_vm._v(\" \"),_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.totalTaxValues)))]),_vm._v(\" \"),_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\",attrs:{\"colspan\":\"2\"}}),_vm._v(\" \"),_c('td',{staticClass:\"p-2 text-gray-600 border border-gray-300\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.totalPurchasePrice)))])])],2)])])]):_vm._e()])])])]:_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('td',{staticClass:\"text-gray-700 p-2 border border-gray-300 bg-gray-200\"},[_vm._v(\"Product\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-gray-700 p-2 border border-gray-300 bg-gray-200 w-32\"},[_vm._v(\"Unit Price\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-gray-700 p-2 border border-gray-300 bg-gray-200\"},[_vm._v(\"Tax\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-gray-700 p-2 border border-gray-300 bg-gray-200\"},[_vm._v(\"Tax Value\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-gray-700 p-2 border border-gray-300 bg-gray-200\"},[_vm._v(\"UOM\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-gray-700 p-2 border border-gray-300 bg-gray-200\"},[_vm._v(\"Quantity\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-gray-700 p-2 border border-gray-300 bg-gray-200\"},[_vm._v(\"Total Price\")])])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ns-notifications.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ns-notifications.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n        <div id=\"notification-button\" @click=\"visible = !visible\" :class=\"visible ? 'bg-white border-0 shadow-lg' : 'border border-gray-400'\" class=\"hover:bg-white hover:text-gray-700 hover:shadow-lg hover:border-opacity-0 rounded-full h-12 w-12 cursor-pointer font-bold text-2xl justify-center items-center flex text-gray-800\">\n            <div class=\"relative float-right\" v-if=\"notifications.length > 0\">\n                <div class=\"absolute -ml-6 -mt-8\">\n                    <div class=\"bg-blue-400 text-white w-8 h-8 rounded-full text-xs flex items-center justify-center\">{{ notifications.length | abbreviate }}</div>\n                </div>\n            </div>\n            <i class=\"las la-bell\"></i>\n        </div>\n        <div class=\"h-0 w-0\" v-if=\"visible\" id=\"notification-center\">\n            <div class=\"absolute left-0 top-0 sm:relative w-screen zoom-out-entrance anim-duration-300 h-5/7-screen sm:w-64 sm:h-108 flex flex-row-reverse\">\n                <div class=\"z-50 sm:rounded-lg shadow-lg h-full w-full bg-white md:mt-2 overflow-y-hidden flex flex-col\">\n                    <div @click=\"visible = false\" class=\"sm:hidden p-2 cursor-pointer flex items-center justify-center border-b border-gray-200\">\n                        <h3 class=\"font-semibold hover:text-blue-400\">Close</h3>\n                    </div>\n                    <div class=\"overflow-y-auto flex flex-col flex-auto\">\n                        <div :key=\"notification.id\" v-for=\"notification of notifications\" class=\"notice border-b border-gray-200\">\n                            <div class=\"p-2 cursor-pointer\" @click=\"triggerLink( notification )\">\n                                <div class=\"flex items-center justify-between\">\n                                    <h1 class=\"font-semibold text-gray-700\">{{ notification.title }}</h1>\n                                    <ns-close-button @click=\"closeNotice( $event )\"></ns-close-button>\n                                </div>\n                                <p class=\"py-1 text-gray-600 text-sm\">{{ notification.description }}</p>\n                            </div>\n                        </div>\n                        <div v-if=\"notifications.length === 0\" class=\"h-full w-full flex items-center justify-center\">\n                            <div class=\"flex flex-col items-center\">\n                                <i class=\"las la-laugh-wink text-5xl text-gray-800\"></i>\n                                <p class=\"text-gray-600 text-sm\">Nothing to care about !</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"cursor-pointer\">\n                        <h3 class=\"text-sm p-2 flex items-center justify-center hover:bg-red-100 w-full text-red-400 font-semibold hover:text-red-500\">Clear All</h3>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { nsHttpClient } from '@/bootstrap';\nexport default {\n    name: 'ns-notifications',\n    data() {\n        return {\n            notifications: [],\n            visible: false,\n            interval: null,\n        }\n    },\n    mounted() {\n        document.addEventListener( 'click', this.checkClickedItem );\n        this.interval   =   setInterval( () => {\n            this.loadNotifications();\n        }, 5000 );\n    },\n    destroyed() {\n        clearInterval( this.interval );\n    },\n    methods: {\n        checkClickedItem( event ) {\n            let clickChildrens;\n\n            if ( document.getElementById( 'notification-center' ) ) {\n                clickChildrens        =   document.getElementById( 'notification-center' ).contains( event.srcElement );\n            } else {\n                clickChildrens        =   false;\n            }\n            \n            const isNotificationButton  =   document.getElementById( 'notification-button' ).contains( event.srcElement );\n\n            if ( ! clickChildrens && ! isNotificationButton && this.visible ) {\n                this.visible    =   false;\n            }\n        },\n\n        loadNotifications() {\n            nsHttpClient.get( '/api/nexopos/v4/notifications' )\n                .subscribe( notifications => {\n                    this.notifications  =   notifications;\n                })\n        },\n\n        triggerLink( notification ) {\n            if ( notification.url !== 'url' ) {\n                return window.open( notification.url, '_blank' );\n            }\n        },\n\n        closeNotice( event ) {\n            event.stopPropagation();\n        }\n    }\n}\n</script>","import { render, staticRenderFns } from \"./ns-notifications.vue?vue&type=template&id=bd881672&\"\nimport script from \"./ns-notifications.vue?vue&type=script&lang=js&\"\nexport * from \"./ns-notifications.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"hover:bg-white hover:text-gray-700 hover:shadow-lg hover:border-opacity-0 rounded-full h-12 w-12 cursor-pointer font-bold text-2xl justify-center items-center flex text-gray-800\",class:_vm.visible ? 'bg-white border-0 shadow-lg' : 'border border-gray-400',attrs:{\"id\":\"notification-button\"},on:{\"click\":function($event){_vm.visible = !_vm.visible}}},[(_vm.notifications.length > 0)?_c('div',{staticClass:\"relative float-right\"},[_c('div',{staticClass:\"absolute -ml-6 -mt-8\"},[_c('div',{staticClass:\"bg-blue-400 text-white w-8 h-8 rounded-full text-xs flex items-center justify-center\"},[_vm._v(_vm._s(_vm._f(\"abbreviate\")(_vm.notifications.length)))])])]):_vm._e(),_vm._v(\" \"),_c('i',{staticClass:\"las la-bell\"})]),_vm._v(\" \"),(_vm.visible)?_c('div',{staticClass:\"h-0 w-0\",attrs:{\"id\":\"notification-center\"}},[_c('div',{staticClass:\"absolute left-0 top-0 sm:relative w-screen zoom-out-entrance anim-duration-300 h-5/7-screen sm:w-64 sm:h-108 flex flex-row-reverse\"},[_c('div',{staticClass:\"z-50 sm:rounded-lg shadow-lg h-full w-full bg-white md:mt-2 overflow-y-hidden flex flex-col\"},[_c('div',{staticClass:\"sm:hidden p-2 cursor-pointer flex items-center justify-center border-b border-gray-200\",on:{\"click\":function($event){_vm.visible = false}}},[_c('h3',{staticClass:\"font-semibold hover:text-blue-400\"},[_vm._v(\"Close\")])]),_vm._v(\" \"),_c('div',{staticClass:\"overflow-y-auto flex flex-col flex-auto\"},[_vm._l((_vm.notifications),function(notification){return _c('div',{key:notification.id,staticClass:\"notice border-b border-gray-200\"},[_c('div',{staticClass:\"p-2 cursor-pointer\",on:{\"click\":function($event){return _vm.triggerLink( notification )}}},[_c('div',{staticClass:\"flex items-center justify-between\"},[_c('h1',{staticClass:\"font-semibold text-gray-700\"},[_vm._v(_vm._s(notification.title))]),_vm._v(\" \"),_c('ns-close-button',{on:{\"click\":function($event){return _vm.closeNotice( $event )}}})],1),_vm._v(\" \"),_c('p',{staticClass:\"py-1 text-gray-600 text-sm\"},[_vm._v(_vm._s(notification.description))])])])}),_vm._v(\" \"),(_vm.notifications.length === 0)?_c('div',{staticClass:\"h-full w-full flex items-center justify-center\"},[_vm._m(0)]):_vm._e()],2),_vm._v(\" \"),_vm._m(1)])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col items-center\"},[_c('i',{staticClass:\"las la-laugh-wink text-5xl text-gray-800\"}),_vm._v(\" \"),_c('p',{staticClass:\"text-gray-600 text-sm\"},[_vm._v(\"Nothing to care about !\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cursor-pointer\"},[_c('h3',{staticClass:\"text-sm p-2 flex items-center justify-center hover:bg-red-100 w-full text-red-400 font-semibold hover:text-red-500\"},[_vm._v(\"Clear All\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ns-dashboard-cards.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ns-dashboard-cards.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"-m-4 flex flex-wrap\">\n        <div class=\"p-4 w-full md:w-1/2 lg:w-1/4\">\n            <div class=\"flex flex-auto rounded-lg shadow-lg bg-gradient-to-br from-red-400 to-red-600 text-white px-3 py-5\">\n                <div class=\"text-4xl font-black w-1/2 flex items-center justify-center\">{{ ( report.total_unpaid_orders_count || 0 ) }}</div>\n                <div class=\"flex flex-col px-2 w-1/2 justify-center\">\n                    <h3 class=\"font-bold\">Unpaid Orders</h3>\n                    <h4 class=\"text-xs font-semibold\">+{{ ( report.day_unpaid_orders_count || 0 ) }} Today</h4>\n                </div>\n            </div>\n        </div>\n        <div class=\"p-4 w-full md:w-1/2 lg:w-1/4\">\n            <div class=\"flex flex-auto rounded-lg shadow-lg bg-gradient-to-br from-green-400 to-green-600 text-white px-3 py-5\">\n                <div class=\"text-4xl font-black w-1/2 flex items-center justify-center\">{{ ( report.total_income || 0 ) | currency }}</div>\n                <div class=\"flex flex-col px-2 w-1/2 justify-center\">\n                    <h3 class=\"font-bold\">Total Incomes</h3>\n                    <h4 class=\"text-xs font-semibold\">+{{ ( report.day_income || 0 ) | currency }} Today</h4>\n                </div>\n            </div>\n        </div>\n        <div class=\"p-4 w-full md:w-1/2 lg:w-1/4\">\n            <div class=\"flex flex-auto rounded-lg shadow-lg bg-gradient-to-br from-teal-400 to-teal-600 text-white px-3 py-5\">\n                <div class=\"text-4xl font-black w-1/2 flex items-center justify-center\">{{ ( report.total_wasted_goods || 0 ) | currency }}</div>\n                <div class=\"flex flex-col px-2 w-1/2 justify-center\">\n                    <h3 class=\"font-bold\">Wasted Goods</h3>\n                    <h4 class=\"text-xs font-semibold\">+{{ ( report.day_wasted_goods || 0 ) | currency }} Today</h4>\n                </div>\n            </div>\n        </div>\n        <div class=\"p-4 w-full md:w-1/2 lg:w-1/4\">\n            <div class=\"flex flex-auto rounded-lg shadow-lg bg-gradient-to-br from-indigo-400 to-indigo-600 text-white px-3 py-5\">\n                <div class=\"text-4xl font-black w-1/2 flex items-center justify-center\">{{ ( report.total_expenses || 0 ) | currency }}</div>\n                <div class=\"flex flex-col px-2 w-1/2 justify-center\">\n                    <h3 class=\"font-bold\">Expenses</h3>\n                    <h4 class=\"text-xs font-semibold\">+{{ ( report.day_expenses || 0 ) | currency }} Last Month</h4>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { nsHttpClient } from '@/bootstrap';\nexport default {\n    name : 'ns-dashboard-cards',\n    data() {\n        return {\n            report: {}\n        }\n    },\n    mounted() {\n        this.loadReport();\n    },\n    methods: {\n        loadReport() {\n            nsHttpClient.get( '/api/nexopos/v4/dashboard/day' )\n                .subscribe( result => {\n                    this.report    =   result;\n                })\n        }\n    }\n}\n</script>","import { render, staticRenderFns } from \"./ns-dashboard-cards.vue?vue&type=template&id=6b758616&\"\nimport script from \"./ns-dashboard-cards.vue?vue&type=script&lang=js&\"\nexport * from \"./ns-dashboard-cards.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"-m-4 flex flex-wrap\"},[_c('div',{staticClass:\"p-4 w-full md:w-1/2 lg:w-1/4\"},[_c('div',{staticClass:\"flex flex-auto rounded-lg shadow-lg bg-gradient-to-br from-red-400 to-red-600 text-white px-3 py-5\"},[_c('div',{staticClass:\"text-4xl font-black w-1/2 flex items-center justify-center\"},[_vm._v(_vm._s(( _vm.report.total_unpaid_orders_count || 0 )))]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col px-2 w-1/2 justify-center\"},[_c('h3',{staticClass:\"font-bold\"},[_vm._v(\"Unpaid Orders\")]),_vm._v(\" \"),_c('h4',{staticClass:\"text-xs font-semibold\"},[_vm._v(\"+\"+_vm._s(( _vm.report.day_unpaid_orders_count || 0 ))+\" Today\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"p-4 w-full md:w-1/2 lg:w-1/4\"},[_c('div',{staticClass:\"flex flex-auto rounded-lg shadow-lg bg-gradient-to-br from-green-400 to-green-600 text-white px-3 py-5\"},[_c('div',{staticClass:\"text-4xl font-black w-1/2 flex items-center justify-center\"},[_vm._v(_vm._s(_vm._f(\"currency\")(( _vm.report.total_income || 0 ))))]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col px-2 w-1/2 justify-center\"},[_c('h3',{staticClass:\"font-bold\"},[_vm._v(\"Total Incomes\")]),_vm._v(\" \"),_c('h4',{staticClass:\"text-xs font-semibold\"},[_vm._v(\"+\"+_vm._s(_vm._f(\"currency\")(( _vm.report.day_income || 0 )))+\" Today\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"p-4 w-full md:w-1/2 lg:w-1/4\"},[_c('div',{staticClass:\"flex flex-auto rounded-lg shadow-lg bg-gradient-to-br from-teal-400 to-teal-600 text-white px-3 py-5\"},[_c('div',{staticClass:\"text-4xl font-black w-1/2 flex items-center justify-center\"},[_vm._v(_vm._s(_vm._f(\"currency\")(( _vm.report.total_wasted_goods || 0 ))))]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col px-2 w-1/2 justify-center\"},[_c('h3',{staticClass:\"font-bold\"},[_vm._v(\"Wasted Goods\")]),_vm._v(\" \"),_c('h4',{staticClass:\"text-xs font-semibold\"},[_vm._v(\"+\"+_vm._s(_vm._f(\"currency\")(( _vm.report.day_wasted_goods || 0 )))+\" Today\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"p-4 w-full md:w-1/2 lg:w-1/4\"},[_c('div',{staticClass:\"flex flex-auto rounded-lg shadow-lg bg-gradient-to-br from-indigo-400 to-indigo-600 text-white px-3 py-5\"},[_c('div',{staticClass:\"text-4xl font-black w-1/2 flex items-center justify-center\"},[_vm._v(_vm._s(_vm._f(\"currency\")(( _vm.report.total_expenses || 0 ))))]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col px-2 w-1/2 justify-center\"},[_c('h3',{staticClass:\"font-bold\"},[_vm._v(\"Expenses\")]),_vm._v(\" \"),_c('h4',{staticClass:\"text-xs font-semibold\"},[_vm._v(\"+\"+_vm._s(_vm._f(\"currency\")(( _vm.report.day_expenses || 0 )))+\" Last Month\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport * as baseComponents from './components/components';\n\nimport {\n    nsCurrency\n}   from './filters/declarations';\n\n/**\n * Will bootstrap time and \n * start counting\n */\nimport './shared/time';\n\nimport NsRewardsSystem   from './pages/dashboard/rewards-system.vue';\nimport NsCreateCoupons   from './pages/dashboard/create-coupons.vue';\nimport NsManageProducts  from './pages/dashboard/manage-products.vue';\nimport NsSettings        from './pages/dashboard/settings.vue';\nimport NsReset           from './pages/dashboard/reset.vue';\nimport NsModules         from './pages/dashboard/modules.vue';\nimport NsPermissions     from './pages/dashboard/ns-permissions.vue';\nimport NsProcurement     from './pages/dashboard/ns-procurement.vue';\nimport NsNotifications   from './pages/dashboard/ns-notifications.vue';\nimport NsMedia           from './pages/dashboard/ns-media.vue';\nimport NsDashboardCards  from './pages/dashboard/home/ns-dashboard-cards.vue';\n\ndeclare const nsState;\ndeclare const nsScreen;\ndeclare const nsExtraComponents;\n\n(<any>window).nsDashboardAside  =   new Vue({\n    el: '#dashboard-aside',\n    data: {\n        sidebar: 'visible'\n    },\n    components: {...baseComponents},\n    mounted() {\n        nsState.behaviorState.subscribe(({ object }) => {\n            this.sidebar    =   object.sidebar;\n        })\n    }\n});\n\n(<any>window).nsDashboardOverlay    =   new Vue({\n    el: '#dashboard-overlay',\n    data: {\n        sidebar: null\n    },\n    components: {...baseComponents},\n    mounted() {\n        nsState.behaviorState.subscribe(({ object }) => {\n            this.sidebar    =   object.sidebar;\n        })\n    },\n    methods: {\n        /**\n         * this is mean to appear only on mobile.\n         * If it's clicked, the menu should hide\n         */\n        closeMenu() {\n            nsState.setState({\n                sidebar: this.sidebar === 'hidden' ? 'visible' : 'hidden'\n            });\n        }\n    }\n});\n\n(<any>window).nsDashboardHeader     =   new Vue({\n    el: '#dashboard-header',\n    data: {\n        menuToggled: false,\n    },\n    components: {\n        ...baseComponents,\n        NsNotifications,\n    },\n    methods: {\n        toggleMenu() {\n            this.menuToggled    =   !this.menuToggled;\n        },\n        toggleSideMenu() {\n            if ([ 'lg', 'xl' ].includes( nsScreen.breakpoint ) ) {\n                nsState.setState({ sidebar: this.sidebar === 'collapsed' ? 'visible': 'collapsed' });    \n            } else {\n                nsState.setState({ sidebar: this.sidebar === 'hidden' ? 'visible': 'hidden' });\n            }\n        }\n    },\n    mounted() {\n        nsState.behaviorState.subscribe( ({ object }) => {\n            this.sidebar    =   object.sidebar;\n        })\n    }\n});\n\nconst components    =   {\n    NsModules,\n    NsRewardsSystem,\n    NsCreateCoupons,\n    NsManageProducts,\n    NsSettings,\n    NsReset,\n    NsPermissions,\n    NsProcurement,\n    NsMedia,\n    NsDashboardCards,\n    ...nsExtraComponents, // add extra components provided by plugins.\n};\n\n(<any>window).nsDashboardContent    =   new Vue({\n    el: '#dashboard-content',\n    components\n});","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Subject } from \"rxjs\";\n\ndeclare const Vue;\ndeclare const document;\n\nexport class Popup {\n    private config  =   {\n        primarySelector     :   undefined,\n        popupClass  :   'shadow-lg h-half w-1/2 bg-white',\n    }; \n\n    private container   =   document.createElement( 'div' );\n    private popupBody   =   document.createElement( 'div' );\n    private event: Subject<{ event: string, value: any }>;\n    private instance: any;\n    private parentWrapper: HTMLDivElement | HTMLBodyElement;\n\n    constructor( config: {\n        primarySelector?: string,\n        popupClass?: string\n    } = {} ) {\n        this.config             =   Object.assign( this.config, config );\n        \n        if ( \n            this.config.primarySelector === undefined &&\n            document.querySelectorAll( '.is-popup' ).length > 0\n        ) {\n            const items             =   document.querySelectorAll( '.is-popup' ).length;\n            this.parentWrapper      =   <HTMLDivElement>(document.querySelectorAll( '.is-popup' )[ items - 1 ]);\n        } else {\n            this.parentWrapper      =   <HTMLDivElement>document.querySelector( 'body' ).querySelectorAll( 'div' )[0];\n        }\n\n        this.event              =   new Subject;\n    }\n\n    static show( component, params = {}, config = {}) {\n        const popup     =   new Popup( config );\n        popup.open( component, params );\n        return popup;\n    }\n\n    open( component, params = {} ) {\n        this.parentWrapper.style.filter   =   'blur(5px)';\n        \n        this.container.setAttribute( 'class', 'absolute top-0 left-0 w-full h-full flex items-center justify-center is-popup' );\n\n        /**\n         * We need to listen to click even on the container\n         * as it might be used to close the popup\n         */\n        this.container.addEventListener( 'click', ( event ) => {\n            /**\n             * this will emit an even\n             * when the overlay is clicked\n             */\n            this.event.next({\n                event: 'click-overlay',\n                value: true\n            });\n\n            event.stopPropagation();\n        });\n\n        /**\n         * We don't want to propagate to the\n         * overlay, that closes the popup\n         */\n        this.popupBody.addEventListener( 'click', ( event ) => {\n            event.stopImmediatePropagation();\n        });\n\n        this.container.style.background     =   'rgb(51 51 51 / 20%)';\n        this.container.id                   =   'popup-container-' + document.querySelectorAll( '.is-popup' ).length;\n        this.popupBody.setAttribute( 'class', ' zoom-out-entrance' );\n        this.popupBody.innerHTML            =   '<div class=\"popup-body\"></div>';\n        this.container.appendChild( this.popupBody );  \n\n        document.body.appendChild( this.container );\n\n        /**\n         * We'll provide a reference of the\n         * wrapper so that the component\n         * can manipulate that.\n         */\n        const componentClass        =   Vue.extend( component );\n        this.instance               =   new componentClass({\n            propsData:  {\n                popup   :   this, // @deprecated\n            }\n        });\n\n        /**\n         * Let's intanciaate the component\n         * and mount it\n         */\n        this.instance.template          =   component?.options?.template || undefined;\n        this.instance.render            =   component.render || undefined;\n        this.instance.methods           =   component?.options?.methods || component?.methods;\n        this.instance.data              =   component?.options?.data || component?.data;\n        this.instance.$popup            =   this;\n        this.instance.$popupParams      =   params;\n        this.instance.$mount( `#${this.container.id} .popup-body` );\n    }\n\n    close() {\n        /**\n         * Let's start by destorying the\n         * Vue component attached to the popup\n         */\n        this.instance.$destroy();\n        \n        /**\n         * The Subject we've initialized earlier\n         * need to be closed\n         */\n        this.event.unsubscribe();\n\n        /**\n         * For some reason we need to fetch the \n         * primary selector once again.\n         */\n        this.parentWrapper.style.filter   =   'blur(0px)';\n        \n        this.popupBody.classList.remove( 'zoom-out-entrance' );\n        this.popupBody.classList.add( 'zoom-in-exit' );\n\n        setTimeout( () => {\n            this.container.remove();\n        }, 300 ); // as by default the animation is set to 500ms\n    }\n}","export default class FormValidation {\n    validateFields( fields ) {\n        return fields.map( field => {\n            this.checkField( field );\n            return field.errors.length === 0;\n        }).filter( f => f === false ).length === 0;\n    }\n\n    validateFieldsErrors( fields ) {\n        return fields.map( field => {\n            this.checkField( field );\n            return field.errors;\n        }).flat();\n    }\n\n    validateForm( form ) {\n        if ( form.main ) {\n            this.validateField( form.main );\n        }\n\n        const globalErrors          =   [];\n        \n        for( let key in form.tabs ) {\n            const tabsInvalidity    =   [];\n            const validErrors       =   this.validateFieldsErrors( form.tabs[ key ].fields );\n            \n            if ( validErrors.length > 0 ) {\n                tabsInvalidity.push(\n                    validErrors\n                );\n            }\n\n            form.tabs[ key ].errors     =   tabsInvalidity.flat();\n            globalErrors.push( tabsInvalidity.flat() );\n        }\n\n        return globalErrors.flat().filter( error => error !== undefined );\n    }\n\n    initializeTabs( tabs ) {\n        let index           =   0;\n\n        for( let key in tabs ) {\n            if ( index === 0 ) {\n                tabs[ key ].active  =   true;\n            }\n\n            tabs[ key ].active     =   tabs[ key ].active === undefined ? false : tabs[ key ].active;\n            tabs[ key ].fields     =   this.createFields( tabs[ key ].fields );\n\n            index++;\n        }\n\n        return tabs;\n    }\n\n    validateField( field ) {\n        return this.checkField( field );\n    }\n\n    createFields( fields ) {\n        return fields.map( field => {\n            field.type      =   field.type      || 'text',\n            field.errors    =   field.errors    || [];\n            field.disabled  =   field.disabled  || false;\n            return field;\n        })\n    }\n\n    createForm( form ) {\n        if ( form.main ) {\n            form.main   =   this.createFields([ form.main ])[0];\n        }\n\n        if ( form.tabs ) {\n            for( let tab in form.tabs ) {\n                form.tabs[ tab ].fields     =   this.createFields( form.tabs[ tab ].fields );\n                form.tabs[ tab ].errors     =   [];\n            }\n        }\n\n        return form;\n    }\n\n    enableFields( fields ) {\n        return fields.map( field => field.disabled = false );\n    }\n\n    disableFields( fields ) {\n        return fields.map( field => field.disabled = true );\n    }\n\n    disableForm( form ) {\n        if ( form.main ) {\n            form.main.disabled  =   true;\n        }\n\n        for( let tab in form.tabs ) {\n            form.tabs[ tab ].fields.forEach( field => field.disabled = true );\n        }\n    }\n\n    enableForm( form ) {\n        if ( form.main ) {\n            form.main.disabled  =   false;\n        }\n\n        for( let tab in form.tabs ) {\n            form.tabs[ tab ].fields.forEach( field => field.disabled = false );\n        }\n    }\n\n    getValue( fields ) {\n        const form  =   {};\n        fields.forEach( field => {\n            form[ field.name ]  =   field.value;\n        });\n\n        return form;\n    }\n\n    checkField( field ) {\n        if ( field.validation !== undefined ) {\n            field.errors    =   [];\n            const rules     =   this.detectValidationRules( field.validation );\n            rules.forEach( rule => {\n                this.fieldPassCheck( field, rule );\n            });\n        }\n        return field;\n    }\n\n    extractForm( form ) {\n        let formValue  =   {};\n\n        if ( form.main ) {\n            formValue[ form.main.name ]     =   form.main.value;\n        }\n\n        if ( form.tabs ) {\n            for( let tab in form.tabs ) {\n                if ( formValue[ tab ] === undefined ) {\n                    formValue[ tab ]    =   {};\n                }\n    \n                formValue[ tab ]   =   this.extractFields( form.tabs[ tab ].fields );\n            }\n        }\n\n        return formValue;\n    }\n\n    extractFields( fields, formValue = {} ) {\n        fields.forEach( field => {\n            if ( [ 'multiselect' ].includes( field.type ) ) {\n                formValue[ field.name ]  =   field.options\n                    .filter( option => option.selected )\n                    .map( option => option.value );\n            } else {\n                formValue[ field.name ]  =   field.value;\n            }\n        });\n\n        return formValue;\n    }\n\n    detectValidationRules( validation ) {\n        const execRule  =   ( rule ) => {\n            let finalRules          =   [];\n            const minRule \t\t\t=\t/(min)\\:([0-9])+/g;\n            const maxRule \t\t\t=\t/(max)\\:([0-9])+/g;\n            const matchRule         =   /(same):(\\w+)/g;\n            let result;\n\n            if ([ 'email', 'required' ].includes( rule ) ) {\n                return {\n                    identifier : rule\n                };\n            } else if( result =   minRule.exec( rule ) ) {\n                return {\n                    identifier : result[1],\n                    value: result[2]\n                }\n            } else if( result =   maxRule.exec( rule ) ) {\n                return {\n                    identifier : result[1],\n                    value: result[2]\n                }\n            }\n            \n            return rule;\n        };\n\n        if ( Array.isArray( validation ) ) {\n            return validation.filter( r => typeof r === 'string' )\n                .map( execRule );\n        } else {\n            return validation.split( '|' ).map( execRule );\n        }\n    }\n\n    /**\n     * Will trigger an error on the form\n     * if the error is a validation object.\n     * @param {Object} Form \n     * @param {Object} data \n     */\n    triggerError( form, data ) {\n        if ( data.errors ) {\n            for( let index in data.errors ) {\n                let path    =   index.split( '.' ).filter( exp => {\n                    return ! /^\\d+$/.test( exp );\n                });\n\n                /**\n                 * if the validation path\n                 * has 2 entries we believe it's a \n                 * an error on a field within a tab\n                 */\n                if ( path.length === 2 ) {\n                    form.tabs[ path[0] ].fields.forEach( field => {\n                        if ( field.name === path[1] ) {\n                            data.errors[ index ].forEach( errorMessage => {\n                                const error     =   {\n                                    identifier: 'invalid',\n                                    invalid: true,\n                                    message: errorMessage,\n                                    name: field.name\n                                };\n\n                                field.errors.push( error );\n                            });\n                        }\n                    });\n                }\n\n                /**\n                 * @todo needs to do the same with the title\n                 */\n                if ( index === form.main.name ) {\n                    data.errors[ index ].forEach( errorMessage => {\n                        form.main.errors.push({\n                            identifier: 'invalid',\n                            invalid: true,\n                            message: errorMessage,\n                            name: form.main.name\n                        });\n                    });\n                }\n            }\n        }\n    }\n\n    triggerFielsErrors( fields, data ) {\n        console.log( data );\n        if ( data.errors ) {\n            for( let index in data.errors ) {\n                let path    =   index.split( '.' ).filter( exp => {\n                    return ! /^\\d+$/.test( exp );\n                });\n\n                /**\n                 * if the validation path\n                 * has 2 entries we believe it's a \n                 * an error on a field within a tab\n                 */\n                fields.forEach( field => {\n                    if ( field.name === path[0] ) {\n                        data.errors[ index ].forEach( errorMessage => {\n                            const error     =   {\n                                identifier: 'invalid',\n                                invalid: true,\n                                message: errorMessage,\n                                name: field.name\n                            };\n\n                            field.errors.push( error );\n                        });\n                    }\n                });\n            }\n        }\n    }\n\n    fieldPassCheck( field, rule ) {\n\n        if ( rule.identifier === 'required' ) {\n            if ( field.value === undefined || field.value === null || field.value.length === 0 ) {\n                // because we would like to stop the validation here\n                return field.errors.push({\n                    identifier: rule.identifier,\n                    invalid: true,\n                    name: field.name\n                })\n            } else {\n                field.errors.forEach( ( error, index ) => {\n                    if ( error.identifier === rule.identifier && error.invalid === true ) {\n                        field.errors.splice( index, 1 );\n                        console.log( field );\n                    }\n                });\n            }\n        }\n\n        if ( rule.identifier === 'email' ) {\n            if ( ! /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test( field.value ) ) {\n                // because we would like to stop the validation here\n                return field.errors.push({\n                    identifier: rule.identifier,\n                    invalid: true,\n                    name: field.name\n                })\n            } else {\n                field.errors.forEach( ( error, index ) => {\n                    if ( error[ rule.identifier ] === true ) {\n                        field.errors.splice( index, 1 );\n                        console.log( field );\n                    }\n                });\n            }\n        }\n\n        return field;\n    }\n}"],"sourceRoot":""}