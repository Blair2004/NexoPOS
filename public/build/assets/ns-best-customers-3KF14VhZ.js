import{_ as f}from"./lang-BINodpp-.js";import{a as h,n as x}from"./currency-COpKd-rX.js";import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as d,c as o,o as n,b as s,t as l,f as u,n as b,a as c,F as y,e as v}from"./runtime-core.esm-bundler-D4l6Snf1.js";const C={mounted(){this.hasLoaded=!1,this.loadReport()},methods:{__:f,nsCurrency:x,nsRawCurrency:h,loadReport(){nsHttpClient.get("/api/dashboard/best-customers").subscribe({next:a=>{this.hasLoaded=!0,this.customers=a},error:a=>{this.hasLoaded=!0,this.customers=[]}})}},data(){return{customers:[],subscription:null,hasLoaded:!1}}},g={id:"ns-best-customers",class:"ns-box flex flex-auto flex-col shadow rounded-lg overflow-hidden"},w={class:"flex-auto"},j={class:"ns-box-header text-center flex justify-between items-center border-b w-full p-2"},k={key:0,class:"w-full flex items-center justify-center"},L={key:1,class:"flex items-center justify-center flex-col"},B={class:"text-sm"},R={key:2,class:"ns-table w-full"},N={class:"p-2"},V={class:"-mx-1 flex justify-start items-center"},z={class:"px-1 justify-center"},F={class:"font-semibold items-center"},D={class:"flex justify-end amount p-2"};function E(a,e,H,S,t,i){const m=d("ns-close-button"),_=d("ns-spinner");return n(),o("div",g,[s("div",w,[s("div",j,[s("h5",null,l(i.__("Best Customers")),1),s("div",null,[u(m,{onClick:e[0]||(e[0]=r=>a.$emit("onRemove"))})])]),s("div",{class:b(["body flex flex-col h-64",t.customers.length===0?"body flex items-center justify-center flex-col h-64":""])},[t.hasLoaded?c("",!0):(n(),o("div",k,[u(_,{size:"12",border:"4"})])),t.hasLoaded&&t.customers.length===0?(n(),o("div",L,[e[1]||(e[1]=s("i",{class:"las la-grin-beam-sweat text-6xl"},null,-1)),s("p",B,l(i.__("Well.. nothing to show for the meantime")),1)])):c("",!0),t.customers.length>0?(n(),o("table",R,[s("tbody",null,[(n(!0),o(y,null,v(t.customers,r=>(n(),o("tr",{key:r.id,class:"entry border-b text-sm"},[s("th",N,[s("div",V,[e[2]||(e[2]=s("div",{class:"px-1"},[s("div",{class:"rounded-full"},[s("i",{class:"las la-user-circle text-xl"})])],-1)),s("div",z,[s("h3",F,l(r.first_name)+" "+l(r.last_name),1)])])]),s("th",D,l(i.nsCurrency(r.purchases_amount)),1)]))),128))])])):c("",!0)],2)])])}const I=p(C,[["render",E]]);export{I as default};
