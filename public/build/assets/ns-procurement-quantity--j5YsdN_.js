import{n as m}from"./bootstrap-JIFfECv7.js";import{_ as c}from"./lang-BINodpp-.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as v,c as i,o as n,b as s,t as r,f as V,F as x,e as b,a as d,n as y}from"./runtime-core.esm-bundler-D4l6Snf1.js";const g={name:"ns-procurement-quantity",props:["popup"],data(){return{finalValue:1,virtualStock:null,allSelected:!0,isLoading:!1,keys:[...[1,2,3].map(e=>({identifier:e,value:e})),...[4,5,6].map(e=>({identifier:e,value:e})),...[7,8,9].map(e=>({identifier:e,value:e})),{identifier:"backspace",icon:"la-backspace"},{identifier:0,value:0},{identifier:"next",icon:"la-share"}]}},mounted(){this.popup.params.quantity&&(this.finalValue=this.popup.params.quantity),document.addEventListener("keyup",this.handleKeyPress)},unmounted(){document.removeEventListener("keypress",this.handleKeyPress)},methods:{__:c,handleKeyPress(e){e.keyCode===13&&this.inputValue({identifier:"next"})},closePopup(){this.popup.params.reject(!1),this.popup.close()},inputValue(e){if(e.identifier==="next"){const{product:a,data:p}=this.popup.params,l=parseFloat(this.finalValue);if(l===0)return m.error(c("Please provide a quantity"));this.resolve({quantity:l})}else e.identifier==="backspace"?this.allSelected?(this.finalValue=0,this.allSelected=!1):(this.finalValue=this.finalValue.toString(),this.finalValue=this.finalValue.substr(0,this.finalValue.length-1)||0):this.allSelected?(this.finalValue=e.value,this.finalValue=parseFloat(this.finalValue),this.allSelected=!1):(this.finalValue+=""+e.value,this.finalValue=parseFloat(this.finalValue))},resolve(e){this.popup.params.resolve(e),this.popup.close()}}},k={class:"ns-box shadow min-h-[40vh] w-3/4-screen md:w-3/5-screen lg:w-3/5-screen xl:w-2/5-screen relative"},w={class:"flex-shrink-0 flex p-2 border-b ns-box-header justify-between items-center"},S={class:"text-xl font-bold text-fontcolor text-center"},C={id:"screen",class:"h-16 ns-box-body flex items-center justify-center"},P={class:"font-bold text-3xl"},q={id:"numpad",class:"grid grid-flow-row grid-cols-3 grid-rows-3"},F=["onClick"],j={key:0};function B(e,a,p,l,u,o){const f=v("ns-close-button");return n(),i("div",k,[s("div",w,[s("h1",S,r(o.__("Define Quantity")),1),s("div",null,[V(f,{onClick:a[0]||(a[0]=t=>o.closePopup())})])]),s("div",C,[s("h1",P,r(u.finalValue),1)]),s("div",q,[(n(!0),i(x,null,b(u.keys,(t,h)=>(n(),i("div",{onClick:L=>o.inputValue(t),key:h,class:"text-xl font-bold border ns-numpad-key h-24 flex items-center justify-center cursor-pointer"},[t.value!==void 0?(n(),i("span",j,r(t.value),1)):d("",!0),t.icon?(n(),i("i",{key:1,class:y(["las",t.icon])},null,2)):d("",!0)],8,F))),128))])])}const Q=_(g,[["render",B]]);export{Q as n};
