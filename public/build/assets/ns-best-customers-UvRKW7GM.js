import{_ as h}from"./lang-BINodpp-.js";import{a as x,n as p}from"./currency-COpKd-rX.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as i,c as o,o as n,b as s,t as r,f as d,n as y,a as u,F as v,e as w}from"./runtime-core.esm-bundler-D4l6Snf1.js";const g={mounted(){this.hasLoaded=!1,this.loadReport()},methods:{__:h,nsCurrency:p,nsRawCurrency:x,loadReport(){nsHttpClient.get("/api/dashboard/best-customers").subscribe({next:a=>{this.hasLoaded=!0,this.customers=a},error:a=>{this.hasLoaded=!0,this.customers=[]}})}},data(){return{customers:[],subscription:null,hasLoaded:!1}}},C={id:"ns-best-customers",class:"ns-box flex flex-auto flex-col shadow rounded-lg overflow-hidden"},j={class:"flex-auto"},k={class:"ns-box-header text-center flex justify-between items-center border-b w-full p-2"},L={class:"flex justify-between"},B={class:"px-1"},N={class:"px-1"},R={key:0,class:"w-full flex items-center justify-center"},V={key:1,class:"flex items-center justify-center flex-col"},z={class:"text-sm"},F={key:2,class:"ns-table w-full"},D={class:"p-2"},E={class:"-mx-1 flex justify-start items-center"},H={class:"px-1 justify-center"},S={class:"font-semibold items-center"},W={class:"flex justify-end amount p-2"};function q(a,e,A,G,t,c){const _=i("ns-icon-button"),m=i("ns-close-button"),f=i("ns-spinner");return n(),o("div",C,[s("div",j,[s("div",k,[s("h5",null,r(c.__("Best Customers")),1),s("div",L,[s("div",B,[d(_,{class:"widget-handle",className:"la-expand-arrows-alt"})]),s("div",N,[d(m,{onClick:e[0]||(e[0]=l=>a.$emit("onRemove"))})])])]),s("div",{class:y(["body flex flex-col h-64",t.customers.length===0?"body flex items-center justify-center flex-col h-64":""])},[t.hasLoaded?u("",!0):(n(),o("div",R,[d(f,{size:"12",border:"4"})])),t.hasLoaded&&t.customers.length===0?(n(),o("div",V,[e[1]||(e[1]=s("i",{class:"las la-grin-beam-sweat text-6xl"},null,-1)),s("p",z,r(c.__("Well.. nothing to show for the meantime")),1)])):u("",!0),t.customers.length>0?(n(),o("table",F,[s("tbody",null,[(n(!0),o(v,null,w(t.customers,l=>(n(),o("tr",{key:l.id,class:"entry border-b text-sm"},[s("th",D,[s("div",E,[e[2]||(e[2]=s("div",{class:"px-1"},[s("div",{class:"rounded-full"},[s("i",{class:"las la-user-circle text-xl"})])],-1)),s("div",H,[s("h3",S,r(l.first_name)+" "+r(l.last_name),1)])])]),s("th",W,r(c.nsCurrency(l.purchases_amount)),1)]))),128))])])):u("",!0)],2)])])}const O=b(g,[["render",q]]);export{O as default};
