import{a as D,p as F,n as f,F as q,b as R,i as A,P as m}from"./bootstrap-CbmsryET.js";import{n as B}from"./currency-COpKd-rX.js";import{_ as l}from"./lang-BINodpp-.js";import{s as U}from"./pos-section-switch-DmfccXVX.js";import{a as H,c as E,b as I,P as M,n as Y,d as G,N as W}from"./ns-pos-shipping-popup-CSaYlqi0.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as d,o as i,b as o,t as r,r as b,f as y,B as $,F as w,e as C,g as S,w as k,i as T,a as p,h as O,a3 as N,n as j,j as z}from"./runtime-core.esm-bundler-D4l6Snf1.js";import{v as L,w as K}from"./runtime-dom.esm-bundler-DaZ-XdMB.js";import{b as J,g as X,a as Z,n as V}from"./ns-prompt-popup-BwDSd1VU.js";import"./chart-CFvJmF2u.js";import"./ns-orders-preview-popup-Dhd8km9e.js";const ee={props:["order"],methods:{__,async payOrder(){POS.runPaymentQueue()}},mounted(){for(let e in nsShortcuts)["ns_pos_keyboard_payment"].includes(e)&&nsHotPress.create("ns_pos_keyboard_payment").whenNotVisible([".is-popup"]).whenPressed(nsShortcuts[e]!==null?nsShortcuts[e].join("+"):null,t=>{t.preventDefault(),this.payOrder()})},unmounted(){nsHotPress.destroy("ns_pos_keyboard_payment")}},te={class:"text-lg hidden md:inline lg:text-2xl"};function se(e,t,u,a,c,s){return i(),d("div",{onClick:t[0]||(t[0]=n=>s.payOrder()),id:"pay-button",class:"flex-shrink-0 w-1/4 flex items-center font-bold cursor-pointer justify-center bg-green-500 text-white hover:bg-green-600 border-r border-green-600 flex-auto"},[t[1]||(t[1]=o("i",{class:"mr-2 text-2xl lg:text-xl las la-cash-register"},null,-1)),o("span",te,r(s.__("Pay")),1)])}const oe=P(ee,[["render",se]]),re={name:"ns-pos-hold-orders",props:["popup"],data(){return{order:{},title:"",show:!0}},mounted(){this.popupCloser(),this.show=POS.getHoldPopupEnabled(),this.show||this.popup.params.resolve({title:this.title}),this.$refs.reference.focus(),this.$refs.reference.select(),this.order=this.popup.params.order,this.title=this.popup.params.order.title||""},methods:{__:l,nsCurrency:B,popupCloser:D,submitHold(){this.popup.close(),this.popup.params.resolve({title:this.title})}}},ne={class:"ns-box shadow-lg w-6/7-screen md:w-3/7-screen lg:w-1/3-screen"},ie={class:"p-2 flex ns-box-header justify-between border-b items-center"},de={class:"font-semibold"},le={class:"flex-auto ns-box-body"},ae={class:"border-b h-16 flex items-center justify-center"},ue={class:"text-5xl text-font"},ce={class:"p-2"},pe={class:"input-group border-2 info"},_e=["placeholder"],he={class:"p-2"},be={class:"text-fontcolor-soft"},me={class:"flex ns-box-footer"};function fe(e,t,u,a,c,s){const n=b("ns-close-button");return i(),d("div",ne,[o("div",ie,[o("h3",de,r(s.__("Hold Order")),1),o("div",null,[y(n,{onClick:t[0]||(t[0]=_=>u.popup.close())})])]),o("div",le,[o("div",ae,[o("span",ue,r(s.nsCurrency(c.order.total)),1)]),o("div",ce,[o("div",pe,[$(o("input",{onKeyup:t[1]||(t[1]=K(_=>s.submitHold(),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=_=>c.title=_),ref:"reference",type:"text",placeholder:s.__("Order Reference"),class:"outline-hidden rounded border-2 p-2 w-full"},null,40,_e),[[L,c.title]])])]),o("div",he,[o("p",be,r(s.__("The current order will be set on hold. You can retrieve this order from the pending order button. Providing a reference to it might help you to identify the order more quickly.")),1)])]),o("div",me,[o("div",{onClick:t[3]||(t[3]=_=>s.submitHold()),class:"cursor-pointer w-1/2 py-3 flex justify-center items-center bg-green-500 text-white font-semibold"},r(s.__("Confirm")),1),o("div",{onClick:t[4]||(t[4]=_=>u.popup.close()),class:"cursor-pointer w-1/2 py-3 flex justify-center items-center bg-error-secondary text-white font-semibold"},r(s.__("Cancel")),1)])])}const ye=P(re,[["render",fe]]),ve={props:["order"],methods:{__,async holdOrder(){if(this.order.payment_status!=="hold"&&this.order.payments.length>0)return nsSnackBar.error(__("Unable to hold an order which payment status has been updated already."));const e=nsHooks.applyFilters("ns-hold-queue",[ProductsQueue,CustomerQueue,TypeQueue]);for(let u in e)try{const c=await new e[u](this.order).run()}catch{return!1}nsHooks.applyFilters("ns-override-hold-popup",()=>{new Promise((a,c)=>{Popup.show(ye,{resolve:a,reject:c,order:this.order})}).then(a=>{this.order.title=a.title,this.order.payment_status="hold",POS.order.next(this.order);const c=Popup.show(J);POS.submitOrder().then(s=>{c.close(),nsSnackBar.success(s.message)},s=>{c.close(),nsSnackBar.error(s.message)})}).catch(a=>{console.log(a)})})()}},mounted(){for(let e in nsShortcuts)["ns_pos_keyboard_hold_order"].includes(e)&&nsHotPress.create("ns_pos_keyboard_hold_order").whenNotVisible([".is-popup"]).whenPressed(nsShortcuts[e]!==null?nsShortcuts[e].join("+"):null,t=>{t.preventDefault(),this.holdOrder()})},unmounted(){nsHotPress.destroy("ns_pos_keyboard_hold_order")}},xe={class:"text-lg hidden md:inline lg:text-2xl"};function we(e,t,u,a,c,s){return i(),d("div",{onClick:t[0]||(t[0]=n=>s.holdOrder()),id:"hold-button",class:"flex-shrink-0 w-1/4 flex items-center font-bold cursor-pointer justify-center bg-blue-500 text-white border-r hover:bg-blue-600 border-blue-600 flex-auto"},[t[1]||(t[1]=o("i",{class:"mr-2 text-2xl lg:text-xl las la-pause"},null,-1)),o("span",xe,r(s.__("Hold")),1)])}const ge=P(ve,[["render",we]]),Pe={props:["order","settings"],methods:{__,openDiscountPopup(e,t,u=null){if(!this.settings.products_discount&&t==="product")return nsSnackBar.error(__("You're not allowed to add a discount on the product."));if(!this.settings.cart_discount&&t==="cart")return nsSnackBar.error(__("You're not allowed to add a discount on the cart."));Popup.show(H,{reference:e,type:t,onSubmit(a){t==="product"?POS.updateProduct(e,a,u):t==="cart"&&POS.updateCart(e,a)}},{popupClass:"bg-white h:2/3 shadow-lg xl:w-1/4 lg:w-2/5 md:w-2/3 w-full"})}}},ke={class:"text-lg hidden md:inline lg:text-2xl"};function Ce(e,t,u,a,c,s){return i(),d("div",{onClick:t[0]||(t[0]=n=>s.openDiscountPopup(u.order,"cart")),id:"discount-button",class:"flex-shrink-0 w-1/4 flex items-center font-bold cursor-pointer justify-center border-r border-box-edge flex-auto"},[t[1]||(t[1]=o("i",{class:"mr-2 text-2xl lg:text-xl las la-percent"},null,-1)),o("span",ke,r(s.__("Discount")),1)])}const Se=P(Pe,[["render",Ce]]),Oe={props:["order","settings"],methods:{__,voidOngoingOrder(){POS.voidOrder(this.order)}}},Te={class:"text-lg hidden md:inline lg:text-2xl"};function Ne(e,t,u,a,c,s){return i(),d("div",{onClick:t[0]||(t[0]=n=>s.voidOngoingOrder(u.order)),id:"void-button",class:"flex-shrink-0 w-1/4 flex items-center font-bold cursor-pointer justify-center bg-red-500 text-white border-box-edge hover:bg-red-600 flex-auto"},[t[1]||(t[1]=o("i",{class:"mr-2 text-2xl lg:text-xl las la-trash"},null,-1)),o("span",Te,r(s.__("Void")),1)])}const je=P(Oe,[["render",Ne]]),De={name:"ns-pos-note-popup",props:["popup"],data(){return{validation:new q,fields:[{label:l("Note"),name:"note",value:"",description:l("More details about this order"),type:"textarea"},{label:l("Display On Receipt"),name:"note_visibility",value:"",options:[{label:l("Yes"),value:"visible"},{label:l("No"),value:"hidden"}],description:l("Will display the note on the receipt"),type:"switch"}]}},mounted(){this.popupCloser(),this.fields.forEach(e=>{e.name==="note"?e.value=this.popup.params.note:e.name==="note_visibility"&&(e.value=this.popup.params.note_visibility)})},methods:{__:l,popupResolver:F,popupCloser:D,closePopup(){this.popupResolver(!1)},saveNote(){if(!this.validation.validateFields(this.fields)){const e=this.validation.validateFieldsErrors(this.fields);return this.validation.triggerFieldsErrors(this.fields,e),this.$forceUpdate(),f.error(l("Unable to proceed the form is not valid."))}return this.popupResolver(this.validation.extractFields(this.fields))}}},qe={class:"shadow-lg ns-box w-95vw md:w-3/5-screen lg:w-2/5-screen"},Be={class:"p-2 flex justify-between items-center border-b ns-box-header"},Ve={class:"font-bold"},Fe={class:"p-2"},He={class:"p-2 flex justify-end border-t ns-box-footer"};function Qe(e,t,u,a,c,s){const n=b("ns-close-button"),_=b("ns-field"),h=b("ns-button");return i(),d("div",qe,[o("div",Be,[o("h3",Ve,r(s.__("Order Note")),1),o("div",null,[y(n,{onClick:t[0]||(t[0]=v=>s.closePopup())})])]),o("div",Fe,[(i(!0),d(w,null,C(c.fields,(v,x)=>(i(),S(_,{key:x,field:v},null,8,["field"]))),128))]),o("div",He,[y(h,{type:"info",onClick:t[1]||(t[1]=v=>s.saveNote())},{default:k(()=>[T(r(s.__("Save")),1)]),_:1})])])}const Re=P(De,[["render",Qe]]),Ae={name:"ns-pos-tax-popup",props:["popup"],data(){return{validation:new q,tax_group:[],order:null,orderSubscriber:null,optionsSubscriber:null,options:{},tax_group:[],activeTab:"",group_fields:[{label:l("Select Tax"),name:"tax_group_id",description:l("Define the tax that apply to the sale."),type:"select",disabled:!0,value:"",validation:"required",options:[]},{label:l("Type"),name:"tax_type",disabled:!0,value:"",description:l("Define how the tax is computed"),type:"select",validation:"required",options:[{label:l("Exclusive"),value:"exclusive"},{label:l("Inclusive"),value:"inclusive"}]}]}},mounted(){this.loadGroups(),this.popupCloser(),this.activeTab=this.popup.params.activeTab||"settings",this.group_fields.forEach(e=>{e.value=this.popup.params[e.name]||void 0}),this.orderSubscriber=POS.order.subscribe(e=>{this.order=e}),this.optionsSubscriber=POS.options.subscribe(e=>{this.options=e,["variable_vat","products_variable_vat"].includes(this.options.ns_pos_vat)&&this.group_fields.forEach(t=>t.disabled=!1)})},unmounted(){this.orderSubscriber.unsubscribe(),this.optionsSubscriber.unsubscribe()},methods:{__:l,nsCurrency:B,popupCloser:D,popupResolver:F,changeActive(e){this.activeTab=e},closePopup(){this.popupResolver(!1)},saveTax(){if(!this.validation.validateFields(this.group_fields))return f.error(l("Unable to proceed the form is not valid."));const e=this.validation.extractFields(this.group_fields);e.tax_group={},this.popupResolver(e)},loadGroups(){R.get("/api/taxes/groups").subscribe(e=>{this.groups=e,this.group_fields.forEach(t=>{t.name==="tax_group_id"&&(t.options=this.groups.map(u=>({label:u.name,value:u.id})))})})}}},Ue={class:"ns-box shadow-lg w-95vw md:w-3/5-screen lg:w-2/5-screen"},Ee={class:"p-2 flex justify-between items-center border-b ns-box-header"},Ie={class:"text-blog"},Me={class:"p-2 ns-box-body"},Ye={class:"p-2 border-b ns-box-body"},Ge={class:"flex justify-end p-2"},We={key:0,class:"p-2"},$e={key:0,class:"p-2 text-center text-font"},ze={key:0,class:"p-2"},Le={class:"border shadow p-2 w-full flex justify-between items-center elevation-surface"};function Ke(e,t,u,a,c,s){const n=b("ns-close-button"),_=b("ns-field"),h=b("ns-button"),v=b("ns-tabs-item"),x=b("ns-tabs");return i(),d("div",Ue,[o("div",Ee,[o("h3",Ie,r(s.__("Tax & Summary")),1),o("div",null,[y(n,{onClick:t[0]||(t[0]=g=>s.closePopup())})])]),o("div",Me,[Object.keys(c.options).length>0?(i(),S(x,{key:0,active:c.activeTab,onChangeTab:t[2]||(t[2]=g=>s.changeActive(g))},{default:k(()=>[y(v,{padding:"0",label:s.__("Settings"),identifier:"settings",active:!0},{default:k(()=>[o("div",Ye,[(i(!0),d(w,null,C(c.group_fields,(g,Q)=>(i(),S(_,{field:g,key:Q},null,8,["field"]))),128))]),o("div",Ge,[y(h,{onClick:t[1]||(t[1]=g=>s.saveTax()),type:"info"},{default:k(()=>[T(r(s.__("Save")),1)]),_:1})])]),_:1},8,["label"]),y(v,{padding:"0",label:s.__("Summary"),identifier:"summary",active:!1},{default:k(()=>[c.order?(i(),d("div",We,[(i(!0),d(w,null,C(c.order.taxes,g=>(i(),d("div",{key:g.id,class:"mb-2 border shadow p-2 w-full flex justify-between items-center elevation-surface"},[o("span",null,r(g.name),1),o("span",null,r(s.nsCurrency(g.tax_value)),1)]))),128)),c.order.taxes.length===0?(i(),d("div",$e,r(s.__("No tax is active")),1)):p("",!0)])):p("",!0)]),_:1},8,["label"]),["products_vat"].includes(c.options.ns_pos_vat)?(i(),S(v,{key:0,padding:"0",label:s.__("Product Taxes"),identifier:"product_taxes",active:!1},{default:k(()=>[c.order?(i(),d("div",ze,[o("div",Le,[o("span",null,r(s.__("Product Taxes")),1),o("span",null,r(s.nsCurrency(c.order.products_tax_value)),1)])])):p("",!0)]),_:1},8,["label"])):p("",!0)]),_:1},8,["active"])):p("",!0)])])}const Je=P(Ae,[["render",Ke]]),Xe={name:"ns-pos-order-settings",props:["popup"],mounted(){nsHttpClient.get("/api/fields/ns.pos-order-settings").subscribe(e=>{e.forEach(t=>{t.value=this.popup.params.order[t.name]||""}),this.fields=this.validation.createFields(e)},e=>{}),this.popupCloser()},data(){return{fields:[],validation:new q}},methods:{__,popupCloser,popupResolver,closePopup(){this.popupResolver(!1)},saveSettings(){const e=this.validation.extractFields(this.fields);this.popupResolver(e)}}},Ze={class:"shadow-lg flex flex-col ns-box w-95vw h-95vh md:w-3/5-screen md:h-[60vh] lg:w-2/5-screen"},et={class:"p-2 border-b ns-box-header items-center flex justify-between"},tt={class:"text-semibold"},st={class:"p-2 flex-auto border-b ns-box-body overflow-y-auto"},ot={class:"p-2 flex justify-end ns-box-footer"};function rt(e,t,u,a,c,s){const n=b("ns-close-button"),_=b("ns-field"),h=b("ns-button");return i(),d("div",Ze,[o("div",et,[o("h3",tt,r(s.__("Order Settings")),1),o("div",null,[y(n,{onClick:t[0]||(t[0]=v=>s.closePopup())})])]),o("div",st,[(i(!0),d(w,null,C(c.fields,(v,x)=>(i(),S(_,{field:v,key:x},null,8,["field"]))),128))]),o("div",ot,[y(h,{onClick:t[1]||(t[1]=v=>s.saveSettings()),type:"info"},{default:k(()=>[T(r(s.__("Save")),1)]),_:1})])])}const nt=P(Xe,[["render",rt]]),it={name:"ns-pos-product-price-product",props:["popup"],components:{nsNumpad:Z,nsNumpadPlus:X},computed:{},data(){return{product:{},optionsSubscription:null,options:{},price:0}},mounted(){this.popupCloser(),this.product=this.popup.params.product,this.optionsSubscription=POS.options.subscribe(e=>{this.options=O(e)})},beforeDestroy(){this.optionsSubscription.unsubscribe()},methods:{popupResolver,popupCloser,nsCurrency:B,__,updateProductPrice(e){this.product.unit_price=e},resolveProductPrice(e){this.popupResolver(this.product.unit_price)}}},dt={class:"ns-box shadow-lg w-95vw md:w-3/5-screen lg:w-2/5-screen"},lt={class:"popup-heading ns-box-header"},at={class:"flex flex-col ns-box-body"},ut={class:"h-16 flex items-center justify-center elevation-surface info font-bold"},ct={class:"text-2xl"};function pt(e,t,u,a,c,s){const n=b("ns-close-button"),_=b("ns-numpad");return i(),d("div",dt,[o("div",lt,[o("h3",null,r(s.__("Product Price")),1),o("div",null,[y(n,{onClick:t[0]||(t[0]=h=>s.popupResolver(!1))})])]),o("div",at,[o("div",ut,[o("h2",ct,r(s.nsCurrency(c.product.unit_price)),1)]),y(_,{floating:!0,onChanged:t[1]||(t[1]=h=>s.updateProductPrice(h)),onNext:t[2]||(t[2]=h=>s.resolveProductPrice(h)),value:c.product.unit_price},null,8,["value"])])])}const _t=P(it,[["render",pt]]),ht={name:"ns-pos-quick-product-popup",props:["popup"],methods:{__:l,popupCloser:D,popupResolver:F,close(){this.popupResolver(!1)},async addProduct(){const e=this.validation.extractFields(this.fields),t=this.fields.filter(s=>typeof s.show>"u"||typeof s.show=="function"&&s.show(e));if(!this.validation.validateFields(t))return f.error(l("Unable to proceed. The form is not valid."));let a=this.validation.extractFields(t);a.$original=()=>({stock_management:"disabled",category_id:0,tax_group:this.tax_groups.filter(s=>parseInt(s.id)===parseInt(a.tax_group_id))[0],tax_group_id:a.tax_group_id,tax_type:a.tax_type}),a.product_type==="product"?(a.unit_name=this.units.filter(s=>s.id===a.unit_id)[0].name,a.quantity=parseFloat(a.quantity),a.unit_price=parseFloat(a.unit_price),a.mode="custom",a.price_with_tax=a.unit_price,a.price_without_tax=a.unit_price,a.tax_value=0):(a.unit_name=l("N/A"),a.unit_price=0,a.quantity=1);const c=await POS.defineQuantities(a,this.units);a.$quantities=()=>c,a=POS.computeProductTax(a),POS.addToCart(a),this.close()},loadData(){this.loaded=!1,A(nsHttpClient.get("/api/units"),nsHttpClient.get("/api/taxes/groups")).subscribe({next:e=>{this.units=e[0],this.tax_groups=e[1],this.fields.filter(t=>{t.name==="tax_group_id"&&(t.options=e[1].map(u=>({label:u.name,value:u.id})),e[1].length>0&&e[1][0].id!==void 0&&(t.value=e[1][0].id||this.options.ns_pos_tax_group)),t.name==="tax_type"&&(t.value=this.options.tax_type||"inclusive"),t.name==="unit_id"&&(t.value=this.options.ns_pos_quick_product_default_unit,t.options=e[0].map(u=>({label:u.name,value:u.id})))}),this.buildForm()},error:e=>{}})},buildForm(){this.fields=this.validation.createFields(this.fields),this.loaded=!0,setTimeout(()=>{this.$el.querySelector("#name").select()},100)}},computed:{form(){return this.validation.extractFields(this.fields)}},data(){return{units:[],options:POS.options.getValue(),tax_group:{},loaded:!1,validation:new q,fields:[{label:l("Name"),name:"name",type:"text",description:l("Provide a unique name for the product."),validation:"required"},{label:l("Product Type"),name:"product_type",type:"select",description:l("Define the product type."),options:[{label:l("Normal"),value:"product"},{label:l("Dynamic"),value:"dynamic"}],value:"product",validation:"required"},{label:l("Rate"),name:"rate",type:"text",description:l("In case the product is computed based on a percentage, define the rate here."),validation:"required",show(e){return e.product_type==="dynamic"}},{label:l("Unit Price"),name:"unit_price",type:"text",description:l("Define what is the sale price of the item."),validation:"",value:0,show(e){return e.product_type==="product"}},{label:l("Quantity"),name:"quantity",type:"text",value:1,description:l("Set the quantity of the product."),validation:"",show(e){return e.product_type==="product"}},{label:l("Unit"),name:"unit_id",type:"select",options:[],description:l("Assign a unit to the product."),validation:"",show(e){return e.product_type==="product"}},{label:l("Tax Type"),name:"tax_type",type:"select",options:[{label:l("Disabled"),value:""},{label:l("Inclusive"),value:"inclusive"},{label:l("Exclusive"),value:"exclusive"}],description:l("Define what is tax type of the item."),show(e){return e.product_type==="product"}},{label:l("Tax Group"),name:"tax_group_id",type:"select",options:[],description:l("Choose the tax group that should apply to the item."),show(e){return e.product_type==="product"}}]}},mounted(){this.popupCloser(),this.loadData()}},bt={class:"w-95vw flex flex-col h-95vh shadow-lg md:w-3/5-screen lg:w-2/5-screen md:h-[60vh] ns-box"},mt={class:"header ns-box-header border-b flex justify-between p-2 items-center"},ft={class:"ns-box-body p-2 flex-auto overflow-y-auto"},yt={key:0,class:"h-full w-full flex justify-center items-center"},vt={class:"ns-box-footer border-t flex justify-between p-2"};function xt(e,t,u,a,c,s){const n=b("ns-close-button"),_=b("ns-spinner"),h=b("ns-field"),v=b("ns-button");return i(),d("div",bt,[o("div",mt,[o("h3",null,r(s.__("Product / Service")),1),o("div",null,[y(n,{onClick:t[0]||(t[0]=x=>s.close())})])]),o("div",ft,[c.loaded?p("",!0):(i(),d("div",yt,[y(_)])),c.loaded?(i(!0),d(w,{key:1},C(c.fields,(x,g)=>(i(),d(w,null,[x.show&&x.show(s.form)||!x.show?(i(),S(h,{key:g,field:x},null,8,["field"])):p("",!0)],64))),256)):p("",!0)]),o("div",vt,[t[2]||(t[2]=o("div",null,null,-1)),o("div",null,[y(v,{onClick:t[1]||(t[1]=x=>s.addProduct()),type:"info"},{default:k(()=>[T(r(s.__("Create")),1)]),_:1})])])])}const wt=P(ht,[["render",xt]]),gt={name:"ns-pos-cart",data:()=>({popup:null,cartButtons:{},products:[],defaultCartButtons:{nsPosPayButton:N(oe),nsPosHoldButton:N(ge),nsPosDiscountButton:N(Se),nsPosVoidButton:N(je)},visibleSection:null,visibleSectionSubscriber:null,cartButtonsSubscriber:null,optionsSubscriber:null,options:{},typeSubscribe:null,orderSubscribe:null,productSubscribe:null,settingsSubscribe:null,settings:{},types:[],order:O({})}),computed:{selectedType(){return this.order.type?this.order.type.label:"N/A"},isVisible(){return this.visibleSection==="cart"},customerName(){return this.order.customer?`${this.order.customer.first_name||this.order.customer.last_name?this.getFirstName():this.getUserName()}`:"N/A"},couponName(){return l("Apply Coupon")}},mounted(){this.cartButtonsSubscriber=POS.cartButtons.subscribe(e=>{this.cartButtons=e}),this.optionsSubscriber=POS.options.subscribe(e=>{this.options=e}),this.typeSubscribe=POS.types.subscribe(e=>this.types=e),this.orderSubscribe=POS.order.subscribe(e=>{this.order=O(e)}),this.productSubscribe=POS.products.subscribe(e=>{this.products=O(e)}),this.settingsSubscribe=POS.settings.subscribe(e=>{this.settings=O(e)}),this.visibleSectionSubscriber=POS.visibleSection.subscribe(e=>{this.visibleSection=O(e)}),nsHooks.addAction("ns-before-cart-reset","ns-pos-cart-buttons",()=>{POS.cartButtons.next(this.defaultCartButtons)});for(let e in nsShortcuts)["ns_pos_keyboard_shipping"].includes(e)&&nsHotPress.create("ns_pos_keyboard_shipping").whenNotVisible([".is-popup"]).whenPressed(nsShortcuts[e]!==null?nsShortcuts[e].join("+"):null,t=>{t.preventDefault(),this.openShippingPopup()}),["ns_pos_keyboard_note"].includes(e)&&nsHotPress.create("ns_pos_keyboard_note").whenNotVisible([".is-popup"]).whenPressed(nsShortcuts[e]!==null?nsShortcuts[e].join("+"):null,t=>{t.preventDefault(),this.openNotePopup()})},unmounted(){this.visibleSectionSubscriber.unsubscribe(),this.typeSubscribe.unsubscribe(),this.orderSubscribe.unsubscribe(),this.productSubscribe.unsubscribe(),this.settingsSubscribe.unsubscribe(),this.optionsSubscriber.unsubscribe(),this.cartButtonsSubscriber.unsubscribe(),nsHotPress.destroy("ns_pos_keyboard_shipping"),nsHotPress.destroy("ns_pos_keyboard_note")},methods:{__:l,nsCurrency:B,switchTo:U,getFirstName(){return`${this.order.customer.first_name||""} ${this.order.customer.last_name||""}`},getUserName(){return this.order.customer.username},takeRandomClass(){return"border-gray-500 bg-gray-400 text-white hover:bg-gray-500"},openAddQuickProduct(){new Promise((t,u)=>{m.show(wt,{resolve:t,reject:u})}).then(t=>{}).catch(t=>{})},summarizeCoupons(){const e=this.order.coupons.map(t=>t.value);return e.length>0?e.reduce((t,u)=>t+u):0},async openDriverPopup(){try{const e=await new Promise((t,u)=>{m.show(W,{resolve:t,reject:u,order:this.order})});e.driver_id&&(this.order.driver_id=e.driver_id,this.order.driver_name=e.driver_name,POS.order.next(this.order))}catch{}},async changeProductPrice(e){if(!this.settings.edit_purchase_price)return f.error(l("You don't have the right to edit the purchase price."));if(e.product_type==="dynamic")return f.error(l("Dynamic product can't have their price updated."));if(this.settings.unit_price_editable)try{const t=await new Promise((a,c)=>m.show(_t,{product:Object.assign({},e),resolve:a,reject:c})),u={...e.$quantities(),custom_price_edit:t,custom_price_with_tax:t,custom_price_without_tax:t};return e.$quantities=()=>u,e.mode="custom",POS.recomputeProducts(POS.products.getValue()),POS.refreshCart(),f.success(l("The product price has been updated."))}catch(t){if(t!==!1)throw f.error(t),t}else return f.error(l("The editable price feature is disabled."))},async selectCoupon(){try{const e=await new Promise((t,u)=>{m.show(G,{resolve:t,reject:u})})}catch{}},async defineOrderSettings(){if(!this.settings.edit_settings)return f.error(l("You're not allowed to edit the order settings."));try{const e=await new Promise((t,u)=>{m.show(nt,{resolve:t,reject:u,order:this.order})});POS.order.next({...this.order,...e})}catch{}},async openNotePopup(){try{const e=await new Promise((u,a)=>{const c=this.order.note,s=this.order.note_visibility;m.show(Re,{resolve:u,reject:a,note:c,note_visibility:s})}),t={...this.order,...e};POS.order.next(t)}catch(e){e!==!1&&f.error(e.message)}},async selectTaxGroup(e="settings"){try{const t=await new Promise((a,c)=>{const s=this.order.taxes,n=this.order.tax_group_id,_=this.order.tax_type;m.show(Je,{resolve:a,reject:c,taxes:s,tax_group_id:n,tax_type:_,activeTab:e})}),u={...this.order,...t};POS.order.next(u),POS.refreshCart()}catch{}},openTaxSummary(){this.selectTaxGroup("summary")},selectCustomer(){m.show(Y)},async openDiscountPopup(e,t,u=null){if(!this.settings.products_discount&&t==="product")return f.error(l("You're not allowed to add a discount on the product."));if(!this.settings.cart_discount&&t==="cart")return f.error(l("You're not allowed to add a discount on the cart."));t==="product"&&(e.disable_flat=!0);try{const a=await new Promise((c,s)=>{m.show(H,{reference:e,resolve:c,reject:s,type:t,onSubmit(n){if(n.discount_type==="flat"&&n.discount>e.total_price)return f.error(l("The discount amount can't exceed the total price of the product."));t==="product"?POS.updateProduct(e,n,u):t==="cart"&&POS.updateCart(e,n)}},{popupClass:"bg-white h:2/3 shadow-lg xl:w-1/4 lg:w-2/5 md:w-2/3 w-full"})})}catch{}},toggleMode(e,t){if(!this.options.ns_pos_allow_wholesale_price)return f.error(l("Unable to change the price mode. This feature has been disabled."));e.mode==="normal"?m.show(V,{title:l("Enable WholeSale Price"),message:l("Would you like to switch to wholesale price ?"),onAction(u){u&&POS.updateProduct(e,{mode:"wholesale"},t)}}):m.show(V,{title:l("Enable Normal Price"),message:l("Would you like to switch to normal price ?"),onAction(u){u&&POS.updateProduct(e,{mode:"normal"},t)}})},removeUsingIndex(e){m.show(V,{title:l("Confirm Your Action"),message:l("Would you like to delete this product ?"),onAction(t){t&&POS.removeProductUsingIndex(e)}})},allowQuantityModification(e){return e.product_type==="product"},changeQuantity(e,t){this.allowQuantityModification(e)&&new M(e).run({unit_quantity_id:e.unit_quantity_id,unit_name:e.unit_name,$quantities:e.$quantities}).then(a=>{POS.updateProduct(e,a,t)})},openOrderType(){m.show(I)},openShippingPopup(){m.show(E)}}},Pt={id:"pos-cart",class:"flex-auto flex flex-col"},kt={key:0,id:"tools",class:"flex pl-2 ns-tab"},Ct={key:0,class:"flex items-center justify-center text-sm rounded-full h-6 w-6 bg-green-500 text-white ml-1"},St={class:"rounded shadow ns-tab-item flex-auto flex overflow-hidden"},Ot={class:"cart-table flex flex-auto flex-col overflow-hidden"},Tt={id:"cart-toolbox",class:"w-full p-2 border-b"},Nt={class:"border rounded overflow-hidden"},jt={class:"flex flex-wrap"},Dt={class:"ns-button"},qt={class:"ml-1 hidden md:inline-block"},Bt={class:"ns-button"},Vt={class:"ml-1 hidden md:inline-block"},Ft={key:0,class:"ml-1 rounded-full flex items-center justify-center h-6 w-6 bg-info-secondary text-white"},Ht={class:"ns-button"},Qt={class:"ml-1 hidden md:inline-block"},Rt={key:0,class:"ml-1 rounded-full flex items-center justify-center h-6 w-6 bg-info-secondary text-white"},At={class:"ns-button"},Ut={class:"ml-1 hidden md:inline-block"},Et={key:0,class:"ns-button"},It={class:"ml-1 hidden md:inline-block"},Mt={id:"cart-table-header",class:"w-full text-fontcolor font-semibold flex"},Yt={class:"w-full lg:w-4/6 p-2 border border-l-0 border-t-0"},Gt={class:"hidden lg:flex lg:w-1/6 p-2 border-b border-t-0"},Wt={class:"hidden lg:flex lg:w-1/6 p-2 border border-r-0 border-t-0"},$t={id:"cart-products-table",class:"flex flex-auto flex-col overflow-auto"},zt={key:0,class:"text-fontcolor flex"},Lt={class:"w-full text-center py-4 border-b"},Kt=["product-index"],Jt={class:"w-full lg:w-4/6 p-2 border border-l-0 border-t-0"},Xt={class:"flex justify-between product-details mb-1"},Zt={class:"font-semibold"},es={class:"-mx-1 flex product-options"},ts={class:"px-1"},ss=["onClick"],os={key:0,class:"px-1"},rs=["onClick"],ns={class:"flex justify-between product-controls"},is={class:"-mx-1 flex flex-wrap"},ds={class:"px-1 w-1/2 md:w-auto mb-1"},ls=["onClick"],as={class:"px-1 w-1/2 md:w-auto mb-1"},us=["onClick"],cs={key:0},ps={class:"px-1 w-1/2 md:w-auto mb-1 lg:hidden"},_s=["onClick"],hs={class:"px-1 w-1/2 md:w-auto mb-1 lg:hidden"},bs={class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},ms=["onClick"],fs={key:0,class:"border-b border-dashed border-secondary p-2"},ys={class:"hidden lg:flex w-1/6 p-2 border border-r-0 border-t-0 items-center justify-center"},vs={id:"cart-products-summary",class:"flex"},xs={key:0,class:"table ns-table w-full text-sm"},ws={key:0},gs={width:"200",class:"border p-2",colspan:"2"},Ps={class:"py-1"},ks={width:"200",class:"border p-2 text-right"},Cs={width:"200",class:"border p-2"},Ss={width:"200",class:"border p-2"},Os={width:"200",class:"border p-2 text-right"},Ts={key:1},Ns={width:"200",class:"border p-2"},js={width:"200",class:"border p-2 text-right"},Ds={width:"200",class:"border p-2"},qs={width:"200",class:"border p-2"},Bs={key:0},Vs={key:1},Fs={width:"200",class:"border p-2 text-right"},Hs={key:2},Qs={width:"200",class:"border p-2"},Rs={width:"200",class:"border p-2"},As={width:"200",class:"border p-2 text-right"},Us={class:"success"},Es={key:0,width:"200",class:"border p-2"},Is={key:1,width:"200",class:"border p-2"},Ms={width:"200",class:"border p-2"},Ys={width:"200",class:"border p-2 text-right"},Gs={key:1,class:"table ns-table w-full text-sm"},Ws={width:"200",class:"border p-2"},$s={width:"200",class:"border p-2"},zs={class:"flex justify-between"},Ls={key:0},Ks={width:"200",class:"border p-2"},Js={width:"200",class:"border p-2 text-right"},Xs={width:"200",class:"border p-2"},Zs={width:"200",class:"border p-2"},eo={class:"flex justify-between items-center"},to={key:0},so={key:1},oo={key:1},ro={width:"200",class:"border p-2"},no={width:"200",class:"border p-2"},io={class:"success"},lo={width:"200",class:"border p-2"},ao={width:"200",class:"border p-2"},uo={class:"flex justify-between w-full"},co={class:"h-16 flex flex-shrink-0 border-t border-box-edge",id:"cart-bottom-buttons"};function po(e,t,u,a,c,s){return i(),d("div",Pt,[e.visibleSection==="cart"?(i(),d("div",kt,[o("div",{onClick:t[0]||(t[0]=n=>s.switchTo("cart")),class:"flex cursor-pointer rounded-tl-lg rounded-tr-lg px-3 py-2 font-semibold active tab"},[o("span",null,r(s.__("Cart")),1),e.order?(i(),d("span",Ct,r(e.order.products.length),1)):p("",!0)]),o("div",{onClick:t[1]||(t[1]=n=>s.switchTo("grid")),class:"cursor-pointer rounded-tl-lg rounded-tr-lg px-3 py-2 border-t border-r border-l inactive tab"},r(s.__("Products")),1)])):p("",!0),o("div",St,[o("div",Ot,[o("div",Tt,[o("div",Nt,[o("div",jt,[o("div",Dt,[o("button",{onClick:t[2]||(t[2]=n=>s.openNotePopup()),class:"w-full h-10 px-3 outline-hidden"},[t[24]||(t[24]=o("i",{class:"las la-comment"},null,-1)),o("span",qt,r(s.__("Comments")),1)])]),o("div",Bt,[o("button",{onClick:t[3]||(t[3]=n=>s.selectTaxGroup()),class:"w-full h-10 px-3 outline-hidden flex items-center"},[t[25]||(t[25]=o("i",{class:"las la-balance-scale-left"},null,-1)),o("span",Vt,r(s.__("Taxes")),1),e.order.taxes&&e.order.taxes.length>0?(i(),d("span",Ft,r(e.order.taxes.length),1)):p("",!0)])]),o("div",Ht,[o("button",{onClick:t[4]||(t[4]=n=>s.selectCoupon()),class:"w-full h-10 px-3 outline-hidden flex items-center"},[t[26]||(t[26]=o("i",{class:"las la-tags"},null,-1)),o("span",Qt,r(s.__("Coupons")),1),e.order.coupons&&e.order.coupons.length>0?(i(),d("span",Rt,r(e.order.coupons.length),1)):p("",!0)])]),o("div",At,[o("button",{onClick:t[5]||(t[5]=n=>s.defineOrderSettings()),class:"w-full h-10 px-3 outline-hidden flex items-center"},[t[27]||(t[27]=o("i",{class:"las la-tools"},null,-1)),o("span",Ut,r(s.__("Settings")),1)])]),e.options.ns_pos_quick_product==="yes"?(i(),d("div",Et,[o("button",{onClick:t[6]||(t[6]=n=>s.openAddQuickProduct()),class:"w-full h-10 px-3 outline-hidden flex items-center"},[t[28]||(t[28]=o("i",{class:"las la-plus"},null,-1)),o("span",It,r(s.__("Product")),1)])])):p("",!0)])])]),o("div",Mt,[o("div",Yt,r(s.__("Product")),1),o("div",Gt,r(s.__("Quantity")),1),o("div",Wt,r(s.__("Total")),1)]),o("div",$t,[e.products.length===0?(i(),d("div",zt,[o("div",Lt,[o("h3",null,r(s.__("No products added...")),1)])])):p("",!0),(i(!0),d(w,null,C(e.products,(n,_)=>(i(),d("div",{"product-index":_,key:n.barcode,class:"product-item flex"},[o("div",Jt,[o("div",Xt,[o("h3",Zt,r(n.name)+" â€” "+r(n.unit_name),1),o("div",es,[o("div",ts,[o("a",{onClick:h=>s.removeUsingIndex(_),class:"hover:text-error-secondary cursor-pointer outline-hidden border-dashed py-1 border-b border-error-secondary text-sm"},t[29]||(t[29]=[o("i",{class:"las la-trash text-xl"},null,-1)]),8,ss)]),e.options.ns_pos_allow_wholesale_price&&s.allowQuantityModification(n)?(i(),d("div",os,[o("a",{class:j([n.mode==="wholesale"?"text-success-secondary border-success-secondary":"border-secondary","cursor-pointer outline-hidden border-dashed py-1 border-b text-sm"]),onClick:h=>s.toggleMode(n,_)},t[30]||(t[30]=[o("i",{class:"las la-award text-xl"},null,-1)]),10,rs)])):p("",!0)])]),o("div",ns,[o("div",is,[o("div",ds,[o("a",{onClick:h=>s.changeProductPrice(n),class:j([n.mode==="wholesale"?"text-success-secondary hover:text-success-secondary border-success-secondary":"border-secondary","cursor-pointer outline-hidden border-dashed py-1 border-b text-sm"])},r(s.__("Price"))+" : "+r(s.nsCurrency(n.unit_price)),11,ls)]),o("div",as,[s.allowQuantityModification(n)?(i(),d("a",{key:0,onClick:h=>s.openDiscountPopup(n,"product",_),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},[T(r(s.__("Discount"))+" ",1),n.discount_type==="percentage"?(i(),d("span",cs,r(n.discount_percentage)+"%",1)):p("",!0),T(" : "+r(s.nsCurrency(n.discount)),1)],8,us)):p("",!0)]),o("div",ps,[s.allowQuantityModification(n)?(i(),d("a",{key:0,onClick:h=>s.changeQuantity(n,_),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Quantity"))+": "+r(n.quantity),9,_s)):p("",!0)]),o("div",hs,[o("span",bs,r(s.__("Total :"))+" "+r(s.nsCurrency(n.total_price)),1)])])])]),o("div",{onClick:h=>s.changeQuantity(n,_),class:j([s.allowQuantityModification(n)?"cursor-pointer ns-numpad-key":"","hidden lg:flex w-1/6 p-2 border-b items-center justify-center"])},[s.allowQuantityModification(n)?(i(),d("span",fs,r(n.quantity),1)):p("",!0)],10,ms),o("div",ys,r(s.nsCurrency(n.total_price)),1)],8,Kt))),128))]),o("div",vs,[e.visibleSection==="both"?(i(),d("table",xs,[o("tbody",null,[e.options.ns_pos_price_with_tax==="no"?(i(),d("tr",ws,[o("td",gs,[o("span",Ps,r(s.__("Product Taxes")),1)]),o("td",ks,r(s.nsCurrency(e.order.products_tax_value)),1)])):p("",!0),o("tr",null,[o("td",Cs,[o("a",{onClick:t[7]||(t[7]=n=>s.selectCustomer()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Customer"))+": "+r(s.customerName),1)]),o("td",Ss,r(s.__("Sub Total")),1),o("td",Os,r(s.nsCurrency(e.order.subtotal)),1)]),e.order.coupons.length>0?(i(),d("tr",Ts,[t[31]||(t[31]=o("td",{width:"200",class:"border p-2"},null,-1)),o("td",Ns,[o("a",{onClick:t[8]||(t[8]=n=>s.selectCoupon()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Coupons")),1)]),o("td",js,r(s.nsCurrency(s.summarizeCoupons())),1)])):p("",!0),o("tr",null,[o("td",Ds,[o("a",{onClick:t[9]||(t[9]=n=>s.openOrderType()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Type"))+": "+r(s.selectedType),1)]),o("td",qs,[o("span",null,r(s.__("Discount")),1),e.order.discount_type==="percentage"?(i(),d("span",Bs,"("+r(e.order.discount_percentage)+"%)",1)):p("",!0),e.order.discount_type==="flat"?(i(),d("span",Vs,"("+r(s.__("Flat"))+")",1)):p("",!0)]),o("td",Fs,[o("a",{onClick:t[10]||(t[10]=n=>s.openDiscountPopup(e.order,"cart")),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.nsCurrency(e.order.discount)),1)])]),e.order.type&&e.order.type.identifier==="delivery"?(i(),d("tr",Hs,[o("td",Qs,[o("a",{onClick:t[11]||(t[11]=n=>s.openDriverPopup()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Driver"))+": "+r(e.order.driver_name||s.__("Not Selected")),1)]),o("td",Rs,[o("a",{onClick:t[12]||(t[12]=n=>s.openShippingPopup()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Shipping")),1)]),o("td",As,r(s.nsCurrency(e.order.shipping)),1)])):p("",!0),o("tr",Us,[["flat_vat","variable_vat"].includes(e.options.ns_pos_vat)?(i(),d("td",Es,[o("a",{onClick:t[13]||(t[13]=n=>s.openTaxSummary()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(e.order.tax_group.name?e.order.tax_group.name:s.__("Tax"))+": "+r(s.nsCurrency(e.order.tax_value)),1)])):(i(),d("td",Is)),o("td",Ms,r(s.__("Total")),1),o("td",Ys,r(s.nsCurrency(e.order.total)),1)])])])):p("",!0),e.visibleSection==="cart"?(i(),d("table",Gs,[o("tbody",null,[o("tr",null,[o("td",Ws,[o("a",{onClick:t[14]||(t[14]=n=>s.selectCustomer()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Customer"))+": "+r(s.customerName),1)]),o("td",$s,[o("div",zs,[o("span",null,r(s.__("Sub Total")),1),o("span",null,r(s.nsCurrency(e.order.subtotal)),1)])])]),e.order.coupons.length>0?(i(),d("tr",Ls,[t[32]||(t[32]=o("td",{width:"200",class:"border p-2"},null,-1)),o("td",Ks,[o("a",{onClick:t[15]||(t[15]=n=>s.selectCoupon()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Coupons")),1)]),o("td",Js,r(s.nsCurrency(s.summarizeCoupons())),1)])):p("",!0),o("tr",null,[o("td",Xs,[o("a",{onClick:t[16]||(t[16]=n=>s.openOrderType()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Type"))+": "+r(s.selectedType),1)]),o("td",Zs,[o("div",eo,[o("p",null,[o("span",null,r(s.__("Discount")),1),e.order.discount_type==="percentage"?(i(),d("span",to,"("+r(e.order.discount_percentage)+"%)",1)):p("",!0),e.order.discount_type==="flat"?(i(),d("span",so,"("+r(s.__("Flat"))+")",1)):p("",!0)]),o("a",{onClick:t[17]||(t[17]=n=>s.openDiscountPopup(e.order,"cart")),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.nsCurrency(e.order.discount)),1)])])]),e.order.type&&e.order.type.identifier==="delivery"?(i(),d("tr",oo,[o("td",ro,[o("a",{onClick:t[18]||(t[18]=n=>s.openDriverPopup()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Driver"))+": "+r(e.order.driver_name||s.__("Not Selected")),1)]),o("td",no,[o("a",{onClick:t[19]||(t[19]=n=>s.openShippingPopup()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Shipping")),1),t[33]||(t[33]=o("span",null,null,-1))])])):p("",!0),o("tr",io,[o("td",lo,[e.options.ns_pos_vat!=="disabled"?(i(),d(w,{key:0},[e.order&&e.options.ns_pos_tax_type==="exclusive"?(i(),d(w,{key:0},[e.options.ns_pos_price_with_tax==="yes"?(i(),d("a",{key:0,onClick:t[20]||(t[20]=n=>s.openTaxSummary()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Tax"))+": "+r(s.nsCurrency(e.order.tax_value)),1)):e.options.ns_pos_price_with_tax==="no"?(i(),d("a",{key:1,onClick:t[21]||(t[21]=n=>s.openTaxSummary()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Tax Inclusive"))+": "+r(s.nsCurrency(e.order.tax_value)),1)):p("",!0)],64)):e.order&&e.options.ns_pos_tax_type==="inclusive"?(i(),d(w,{key:1},[e.options.ns_pos_price_with_tax==="yes"?(i(),d("a",{key:0,onClick:t[22]||(t[22]=n=>s.openTaxSummary()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Tax Included"))+": "+r(s.nsCurrency(e.order.tax_value)),1)):e.options.ns_pos_price_with_tax==="no"?(i(),d("a",{key:1,onClick:t[23]||(t[23]=n=>s.openTaxSummary()),class:"cursor-pointer outline-hidden border-dashed py-1 border-b border-secondary text-sm"},r(s.__("Tax Included"))+": "+r(s.nsCurrency(e.order.tax_value)),1)):p("",!0)],64)):p("",!0)],64)):p("",!0)]),o("td",ao,[o("div",uo,[o("span",null,r(s.__("Total")),1),o("span",null,r(s.nsCurrency(e.order.total)),1)])])])])])):p("",!0)]),o("div",co,[Object.keys(e.cartButtons).length===0?(i(!0),d(w,{key:0},C(new Array(4).fill(),n=>(i(),d("div",{class:j([s.takeRandomClass(),"animate-pulse flex-shrink-0 w-1/4 flex items-center font-bold cursor-pointer justify-center border-r flex-auto"])},t[34]||(t[34]=[o("i",{class:"mx-4 rounded-full bg-slate-300 h-5 w-5"},null,-1),o("div",{class:"text-lg mr-4 hidden md:flex md:flex-auto lg:text-2xl"},[o("div",{class:"h-2 flex-auto bg-slate-200 rounded"})],-1)]),2))),256)):p("",!0),(i(!0),d(w,null,C(e.cartButtons,n=>(i(),S(z(n),{order:e.order,settings:e.settings},null,8,["order","settings"]))),256))])])])])}const ko=P(gt,[["render",po]]);export{ko as default};
