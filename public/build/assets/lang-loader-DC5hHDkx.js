var o=Object.defineProperty;var h=(t,s,e)=>s in t?o(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var l=(t,s,e)=>h(t,typeof s!="symbol"?s+"":s,e);class g{constructor(){l(this,"languages",{});l(this,"scripts",[]);l(this,"callbacks",[]);this.loadJson()}loadJson(){const s=[];s.push(this.fetchLang("NexoPOS",ns.langFiles));for(let e in ns.langFiles)e!=="NexoPOS"&&s.push(this.fetchLang(e,ns.langFiles));Promise.all(s).then(()=>{this.loadReadyScripts(),this.loadReadyCallbacks()})}fetchLang(s,e){return new Promise((a,d)=>{const n=new XMLHttpRequest;n.onreadystatechange=i=>{if(i.target.readyState==4&&i.target.status==200){const c=JSON.parse(n.responseText);for(let r in c)this.languages[s]===void 0&&(this.languages[s]=new Object),this.languages[s][r]=c[r];a(this.languages)}},n.open("GET",e[s],!0),n.send()})}loadReadyScripts(){const s=this.scripts;for(let e=0;e<s.length;e++){const a=document.createElement("script");a.type="text/javascript",a.src=s[e],document.body.appendChild(a)}}loadReadyCallbacks(){this.callbacks.forEach(s=>s())}onReadyCallback(s){this.callbacks.push(s)}onReadyScript(s){s.length!==void 0?this.scripts.push(...s):this.scripts.push(s)}getEntries(s){return this.languages[s]||!1}}window.nsLanguage=new g;
